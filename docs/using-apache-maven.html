<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:44.067188051"><title>Using Apache Maven | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"java-requirements","level":0,"title":"Java Requirements","anchor":"#java-requirements"},{"id":"maven-requirements","level":0,"title":"Maven requirements","anchor":"#maven-requirements"},{"id":"maven-projects-in-the-flexible-environment","level":0,"title":"Maven projects in the flexible environment","anchor":"#maven-projects-in-the-flexible-environment"},{"id":"a-note-about-maven-projects-and-eclipse","level":0,"title":"A note about Maven projects and Eclipse","anchor":"#a-note-about-maven-projects-and-eclipse"},{"id":"maven-terms-you-need-to-know","level":0,"title":"Maven terms you need to know","anchor":"#maven-terms-you-need-to-know"},{"id":"installing-maven","level":0,"title":"Installing Maven","anchor":"#installing-maven"},{"id":"maven-app-engine-archetypes","level":0,"title":"Maven App Engine archetypes","anchor":"#maven-app-engine-archetypes"},{"id":"creating-app-engine-applications-or-backend-apis-using-the-archetypes","level":0,"title":"Creating App Engine applications or backend APIs using the archetypes","anchor":"#creating-app-engine-applications-or-backend-apis-using-the-archetypes"},{"id":"compile-and-build-your-project-using-maven","level":0,"title":"Compile and build your project using Maven","anchor":"#compile-and-build-your-project-using-maven"},{"id":"testing-your-app-with-the-development-server","level":0,"title":"Testing your app with the development server","anchor":"#testing-your-app-with-the-development-server"},{"id":"creating-required-indexes","level":0,"title":"Creating required indexes","anchor":"#creating-required-indexes"},{"id":"uploading-your-app-to-production-app-engine","level":0,"title":"Uploading your app to production App Engine","anchor":"#uploading-your-app-to-production-app-engine"},{"id":"managing-and-running-a-project-with-the-app-engine-maven-plugin","level":0,"title":"Managing and running a project with the App Engine Maven plugin","anchor":"#managing-and-running-a-project-with-the-app-engine-maven-plugin"},{"id":"adding-jdo-or-jpa-dependencies","level":0,"title":"Adding JDO or JPA dependencies","anchor":"#adding-jdo-or-jpa-dependencies"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Using Apache Maven | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/using-apache-maven.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Using Apache Maven | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/using-apache-maven.html#webpage",
    "url": "writerside-documentation/using-apache-maven.html",
    "name": "Using Apache Maven | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Using-Apache-Maven" data-main-title="Using Apache Maven" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="APIs-Reference.md|APIs &amp;amp; Reference///Development-Tools.md|Development Tools"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Using-Apache-Maven" id="Using-Apache-Maven.md">Using Apache Maven</h1><ol class="list _decimal" id="-owe6iw_3" type="1"><li class="list__item" id="-owe6iw_20"><p id="-owe6iw_34"><span id="-owe6iw_35">Java Requirements</span></p></li><li class="list__item" id="-owe6iw_21"><p id="-owe6iw_36"><span id="-owe6iw_37">Maven requirements</span></p></li><li class="list__item" id="-owe6iw_22"><p id="-owe6iw_38"><span id="-owe6iw_39">Maven projects in the flexible environment</span></p></li><li class="list__item" id="-owe6iw_23"><p id="-owe6iw_40"><span id="-owe6iw_41">A note about Maven projects and Eclipse</span></p></li><li class="list__item" id="-owe6iw_24"><p id="-owe6iw_42"><span id="-owe6iw_43">Maven terms you need to know</span></p></li><li class="list__item" id="-owe6iw_25"><p id="-owe6iw_44"><span id="-owe6iw_45">Installing Maven</span></p></li><li class="list__item" id="-owe6iw_26"><p id="-owe6iw_46"><span id="-owe6iw_47">Maven App Engine archetypes</span></p></li><li class="list__item" id="-owe6iw_27"><p id="-owe6iw_48"><span id="-owe6iw_49">Creating App Engine applications or backend APIs using the archetypes</span></p></li><li class="list__item" id="-owe6iw_28"><p id="-owe6iw_50"><span id="-owe6iw_51">Compile and build your project using Maven</span></p></li><li class="list__item" id="-owe6iw_29"><p id="-owe6iw_52"><span id="-owe6iw_53">Testing your app with the development server</span></p></li><li class="list__item" id="-owe6iw_30"><p id="-owe6iw_54"><span id="-owe6iw_55">Creating required indexes</span></p></li><li class="list__item" id="-owe6iw_31"><p id="-owe6iw_56"><span id="-owe6iw_58">Uploading your app to production App Engine</span></p><ol class="list _decimal" id="-owe6iw_57" type="1"><li class="list__item" id="-owe6iw_59"><p id="-owe6iw_61"><span id="-owe6iw_62">Adding the App Engine Maven plugin to an existing Maven project</span></p></li><li class="list__item" id="-owe6iw_60"><p id="-owe6iw_63"><span id="-owe6iw_64">Specifying a port for local testing</span></p></li></ol></li><li class="list__item" id="-owe6iw_32"><p id="-owe6iw_65"><span id="-owe6iw_67">Managing and running a project with the App Engine Maven plugin</span></p><ol class="list _decimal" id="-owe6iw_66" type="1"><li class="list__item" id="-owe6iw_68"><p id="-owe6iw_71"><span id="-owe6iw_72">App Engine Maven plugin goals</span></p></li><li class="list__item" id="-owe6iw_69"><p id="-owe6iw_73"><span id="-owe6iw_74">Managing Versions with versions-maven-plugin command options</span></p></li><li class="list__item" id="-owe6iw_70"><p id="-owe6iw_75"><span id="-owe6iw_76">Cloud Endpoints goals</span></p></li></ol></li><li class="list__item" id="-owe6iw_33"><p id="-owe6iw_77"><span id="-owe6iw_78">Adding JDO or JPA dependencies</span></p></li></ol><p id="-owe6iw_4"><a href="https://web.archive.org/web/20160424230715/http://maven.apache.org/" id="-owe6iw_79" data-external="true" rel="noopener noreferrer" target="_blank">Apache Maven</a> is a software project management and comprehension tool. It is capable of building WAR files for deployment into App Engine. The App Engine team provides both a plugin and Maven Archetypes for the purpose of speeding up development. You must use Maven 3.1 or greater.</p><p id="-owe6iw_5"><span class="control" id="-owe6iw_80">Note:</span> When you use Maven, you don't need to download the Java libraries from the Google App Engine SDK. Maven does that for you. You can also use Maven to test your app locally and upload (deploy) it to production App Engine.</p><section class="chapter"><h2 id="java-requirements" data-toc="java-requirements">Java Requirements</h2><p id="-owe6iw_81">You need the following:</p><ol class="list _decimal" id="-owe6iw_82" type="1"><li class="list__item" id="-owe6iw_83"><p id="-owe6iw_85">You must use Java 7. If you don't have Java 7, <a href="https://web.archive.org/web/20160424230715/http://www.java.com/en/download/manual.jsp" id="-owe6iw_86" data-external="true" rel="noopener noreferrer" target="_blank">download</a> and install it.</p></li><li class="list__item" id="-owe6iw_84"><p id="-owe6iw_87">Set your <code class="code" id="-owe6iw_89">JAVA_HOME</code> environment variable. If you are a <code class="code" id="-owe6iw_90">bash</code> user</p><ol class="list _decimal" id="-owe6iw_88" type="1"><li class="list__item" id="-owe6iw_91"><p id="-owe6iw_94">For a typical Linux installation, add a line similar to the following to your <code class="code" id="-owe6iw_97">.bashrc</code> file:</p><div class="code-block" data-lang="none">
export JAVA_HOME=/usr/local/tools/java/&lt;jdk_version&gt;
</div><p id="-owe6iw_96">where <code class="code" id="-owe6iw_98">&lt;jdk_version&gt;</code> is your JDK version, for example, <code class="code" id="-owe6iw_99">jdk1.7.0_45.jdk</code>.</p></li><li class="list__item" id="-owe6iw_92"><p id="-owe6iw_100">If you use Mac OSX and the default Terminal app, your shell session doesn't load <code class="code" id="-owe6iw_102">.bashrc</code> by default. So you may need to add a line similar to the following to your <code class="code" id="-owe6iw_103">.bash_profile</code>:</p><div class="code-block" data-lang="none">
[ -r ~/.bashrc ] &amp;&amp; source ~/.bashrc
</div></li><li class="list__item" id="-owe6iw_93"><p id="-owe6iw_104">If you use Mac OSX but don't use the default terminal app, for example, you use a terminal management app such as tmux, you may need to add a line similar to the following line to your <code class="code" id="-owe6iw_109">.bashrc</code> file:</p><div class="code-block" data-lang="none">
export JAVA_HOME=/Library/Java/JavaVirtualMachines/&lt;jdk_version&gt;/Contents/Home
</div><p id="-owe6iw_106">where <code class="code" id="-owe6iw_110">&lt;jdk_version&gt;</code> is your JDK version, for example, <code class="code" id="-owe6iw_111">jdk1.7.0_45.jdk</code>.</p><p id="-owe6iw_107">Alternatively, if your OS supports <a href="https://web.archive.org/web/20160424230715/http://stackoverflow.com/questions/1348842/what-should-i-set-java-home-to-on-osx" id="-owe6iw_112" data-external="true" rel="noopener noreferrer" target="_blank">/usr/libexec/java_home</a>, you can request the current JDK version in your export command line, as follows:</p><div class="code-block" data-lang="none">
export JAVA_HOME=$(/usr/libexec/java_home -v 1.7)
</div></li></ol></li></ol></section><section class="chapter"><h2 id="maven-requirements" data-toc="maven-requirements">Maven requirements</h2><p id="-owe6iw_113">You must use Apache Maven 3.1 or greater. To determine whether Maven is installed and which version you have, invoke the following command:</p><div class="code-block" data-lang="none">
 mvn -v
</div><p id="-owe6iw_115">This command should display a long string of information beginning with something like <code class="code" id="-owe6iw_119">Apache Maven 3.1.0</code>.</p><p id="-owe6iw_116">If you don't have the proper version of Maven installed:</p><ol class="list _decimal" id="-owe6iw_117" type="1"><li class="list__item" id="-owe6iw_120"><p id="-owe6iw_122"><a href="https://web.archive.org/web/20160424230715/http://maven.apache.org/download.cgi" id="-owe6iw_123" data-external="true" rel="noopener noreferrer" target="_blank">Download</a> Maven 3.1 or greater from the Maven website.</p></li><li class="list__item" id="-owe6iw_121"><p id="-owe6iw_124"><a href="https://web.archive.org/web/20160424230715/http://maven.apache.org/install.html" id="-owe6iw_125" data-external="true" rel="noopener noreferrer" target="_blank">Install</a> Maven 3.1 or greater on your local machine.</p></li></ol><p id="-owe6iw_118"><span class="control" id="-owe6iw_126">Note:</span> You cannot use <code class="code" id="-owe6iw_127">apt-get install</code> to install Maven 3.1 or greater.</p></section><section class="chapter"><h2 id="maven-projects-in-the-flexible-environment" data-toc="maven-projects-in-the-flexible-environment">Maven projects in the flexible environment</h2><p id="-owe6iw_128">If you are using the flexible environment, you need to use a new plugin for the Cloud SDK. For more information, refer to the <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/flexible/java/maven" id="-owe6iw_129" data-external="true" rel="noopener noreferrer" target="_blank">the flexible environment documentation</a>.</p></section><section class="chapter"><h2 id="a-note-about-maven-projects-and-eclipse" data-toc="a-note-about-maven-projects-and-eclipse">A note about Maven projects and Eclipse</h2><p id="-owe6iw_130">A Maven project has a different layout than an Eclipse project. So, if you wish to use a Maven project with Eclipse, you'll need to use Eclipse for Java Enterprise Edition (EE), which has Maven support, and you'll need to use one of the following approaches:</p><ul class="list _bullet" id="-owe6iw_131"><li class="list__item" id="-owe6iw_133"><p id="-owe6iw_136">Import the Maven project into Eclipse for Java EE.</p></li><li class="list__item" id="-owe6iw_134"><p id="-owe6iw_137">Import a Maven project for App Engine into Eclipse for Java EE as a <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/webtoolsplatform" id="-owe6iw_138" data-external="true" rel="noopener noreferrer" target="_blank">Web Tools Platform (WTP) project</a>, as described in <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/webtoolsplatform#maven" id="-owe6iw_139" data-external="true" rel="noopener noreferrer" target="_blank">Importing an Existing Maven Project</a>.</p></li><li class="list__item" id="-owe6iw_135"><p id="-owe6iw_140">Set up two debug configurations, one for the Maven project in devserver (<code class="code" id="-owe6iw_141">mvn appengine:devserver</code>), and one for a Remote Java Application that you use to connect the Eclipse debug client to the <code class="code" id="-owe6iw_142">devserver jvm</code>. For details on how to do this, see the response to the StackOverflow question <a href="https://web.archive.org/web/20160424230715/http://stackoverflow.com/questions/13924990/how-do-i-make-eclipse-and-mvn-appenginedevserver-talk-to-each-other" id="-owe6iw_143" data-external="true" rel="noopener noreferrer" target="_blank">How do I make Eclipse and mvn appengine:devserver talk to each other?</a>.</p></li></ul><p id="-owe6iw_132"><span class="control" id="-owe6iw_144">Note:</span> You can also use <a href="https://web.archive.org/web/20160424230715/http://www.jetbrains.com/idea/" id="-owe6iw_145" data-external="true" rel="noopener noreferrer" target="_blank">IntelliJ</a>, which provides built-in integration support for Maven projects.</p></section><section class="chapter"><h2 id="maven-terms-you-need-to-know" data-toc="maven-terms-you-need-to-know">Maven terms you need to know</h2><p id="-owe6iw_146">During project creation, Maven prompts you to supply <code class="code" id="-owe6iw_148">groupId</code>, <code class="code" id="-owe6iw_149">artifactId</code>, <code class="code" id="-owe6iw_150">version</code>, and the <code class="code" id="-owe6iw_151">package</code> for the project. What are these in Maven?</p><div class="table-wrapper"><table class="wide" id="-owe6iw_147"><thead><tr class="ijRowHead" id="-owe6iw_152"><th id="-owe6iw_157"><p>Term</p></th><th id="-owe6iw_158"><p>Meaning</p></th></tr></thead><tbody><tr id="-owe6iw_153"><td id="-owe6iw_159"><p><code class="code" id="-owe6iw_161">groupId</code></p></td><td id="-owe6iw_160"><p>A namespace within Maven to keep track of your artifacts. When people consume your project in their own Maven Project, it will serve as an attribute of the dependency they will end up specifying.</p></td></tr><tr id="-owe6iw_154"><td id="-owe6iw_162"><p><code class="code" id="-owe6iw_164">artifactId</code></p></td><td id="-owe6iw_163"><p>The name of your project within Maven. It is also specified by consumers of your project when they depend on you in their own Maven projects.</p></td></tr><tr id="-owe6iw_155"><td id="-owe6iw_165"><p><code class="code" id="-owe6iw_167">version</code></p></td><td id="-owe6iw_166"><p>The initial Maven version you want to have your project generated with. It's a good idea to have <code class="code" id="-owe6iw_168">version</code> suffixed by <code class="code" id="-owe6iw_169">-SNAPSHOT</code> because this will provide support in the Maven release plugin for versions that are under development. For more information, see the <a href="https://web.archive.org/web/20160424230715/http://maven.apache.org/guides/mini/guide-releasing.html" id="-owe6iw_170" data-external="true" rel="noopener noreferrer" target="_blank">Maven guide</a> to using the release plugin.</p></td></tr><tr id="-owe6iw_156"><td id="-owe6iw_171"><p><code class="code" id="-owe6iw_173">package</code></p></td><td id="-owe6iw_172"><p>The Java package created during the generation.</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="installing-maven" data-toc="installing-maven">Installing Maven</h2><p id="-owe6iw_174">If you do not already have Maven version 3.1 or greater installed on your system, visit the <a href="https://web.archive.org/web/20160424230715/http://maven.apache.org/" id="-owe6iw_178" data-external="true" rel="noopener noreferrer" target="_blank">Apache Maven</a> web site to download and install it.</p><p id="-owe6iw_175">When Maven is installed and the <code class="code" id="-owe6iw_179">mvn</code> command is on your command path, you can run the following command to verify that it works, and see which version is installed:</p><div class="code-block" data-lang="none">
mvn -v
</div><p id="-owe6iw_177">Make sure the version is 3.1 or greater.</p></section><section class="chapter"><h2 id="maven-app-engine-archetypes" data-toc="maven-app-engine-archetypes">Maven App Engine archetypes</h2><p id="-owe6iw_180"><a href="https://web.archive.org/web/20160424230715/http://maven.apache.org/archetype/maven-archetype-plugin" id="-owe6iw_183" data-external="true" rel="noopener noreferrer" target="_blank">Maven Archetypes</a> allow users to create Maven projects using templates that cover common scenarios. App Engine takes advantage of this Maven feature to provide some useful <a href="https://web.archive.org/web/20160424230715/http://search.maven.org/#search%7Cga%7C1%7Ccom.google.appengine.archetypes" id="-owe6iw_184" data-external="true" rel="noopener noreferrer" target="_blank">App Engine archetypes</a> at Maven Central. The current App Engine artifacts are listed in the table below:</p><div class="table-wrapper"><table class="wide" id="-owe6iw_181"><thead><tr class="ijRowHead" id="-owe6iw_185"><th id="-owe6iw_190"><p>Application Type</p></th><th id="-owe6iw_191"><p>Artifact</p></th><th id="-owe6iw_192"><p>Description</p></th></tr></thead><tbody><tr id="-owe6iw_186"><td id="-owe6iw_193"><p>App Engine app*</p></td><td id="-owe6iw_194"><p><code class="code" id="-owe6iw_196">guestbook-archetype</code></p></td><td id="-owe6iw_195"><p>Generates the guestbook demo sample, complete and ready to run and test.</p></td></tr><tr id="-owe6iw_187"><td id="-owe6iw_197"><p>App Engine app*</p></td><td id="-owe6iw_198"><p><code class="code" id="-owe6iw_200">appengine-skeleton-archetype</code></p></td><td id="-owe6iw_199"><p>Generates a new, empty App Engine project ready for your own classes and resources, but with required files and directories.</p></td></tr><tr id="-owe6iw_188"><td id="-owe6iw_201"><p>Cloud Endpoints API backend</p></td><td id="-owe6iw_202"><p><code class="code" id="-owe6iw_204">hello-endpoints-archetype</code></p></td><td id="-owe6iw_203"><p>Generates a simple starter Cloud Endpoints backend API project, ready to build and run.</p></td></tr><tr id="-owe6iw_189"><td id="-owe6iw_205"><p>Cloud Endpoints API backend</p></td><td id="-owe6iw_206"><p><code class="code" id="-owe6iw_208">endpoints-skeleton-archetype</code></p></td><td id="-owe6iw_207"><p>Generates a new, empty Cloud Endpoints backend API project ready for your own classes and resources, with required files and directories.</p></td></tr></tbody></table></div><p id="-owe6iw_182"><code class="code" id="-owe6iw_209">*</code> <span class="emphasis" id="-owe6iw_210">App Engine app</span> in this context means a regular App Engine app, <span class="emphasis" id="-owe6iw_211">not</span> an app serving as a Cloud Endpoints backend API.</p></section><section class="chapter"><h2 id="creating-app-engine-applications-or-backend-apis-using-the-archetypes" data-toc="creating-app-engine-applications-or-backend-apis-using-the-archetypes">Creating App Engine applications or backend APIs using the archetypes</h2><p id="-owe6iw_212">The following table shows how to use App Engine Maven archetypes to create an App Engine app or a Cloud Endpoints backend API. Click on the desired app type to see the instructions.</p><p id="-owe6iw_213"><span class="control" id="-owe6iw_216">Note:</span> Some of the following commands can take time to execute, and some can potentially download large artifacts. We recommended that you run these with a good internet connection.</p><section class="chapter"><h3 id="app-engine-app" data-toc="app-engine-app">App Engine App</h3><p id="-owe6iw_217">To create an App Engine App:</p><ol class="list _decimal" id="-owe6iw_218" type="1"><li class="list__item" id="-owe6iw_219"><p id="-owe6iw_234">Get an application ID from the Cloud Platform Console.</p></li><li class="list__item" id="-owe6iw_220"><p id="-owe6iw_235">Change directory to a directory where you want to build the project.</p></li><li class="list__item" id="-owe6iw_221"><p id="-owe6iw_236">Invoke the following Maven command:</p><div class="code-block" data-lang="none">
     mvn archetype:generate -Dappengine-version=1.9.34 -Dapplication-id=your-app-id -Dfilter=com.google.appengine.archetypes:
</div><p id="-owe6iw_238">where <code class="code" id="-owe6iw_239">-Dappengine-version</code> is set to the most recent App Engine Java SDK version, and <code class="code" id="-owe6iw_240">application-id</code> is set to the Cloud Platform Console application ID used for your app.</p></li><li class="list__item" id="-owe6iw_222"><p id="-owe6iw_241">If you want to create the complete, ready-to-run guestbook sample app, supply the number corresponding to <code class="code" id="-owe6iw_243">com.google.appengine.archetypes:guestbook-archetype</code>.</p><p id="-owe6iw_242">If you want to create an empty project that contains the required directory structure and files, ready for your own classes, supply the number corresponding to <code class="code" id="-owe6iw_244">com.google.appengine.archetypes:appengine-skeleton-archetype</code>.</p></li><li class="list__item" id="-owe6iw_223"><p id="-owe6iw_245">Select the most recent version from the displayed list of available archetype versions by accepting the default.</p></li><li class="list__item" id="-owe6iw_224"><p id="-owe6iw_246">When prompted to <code class="code" id="-owe6iw_247">Define value for property 'groupId'</code>, supply the desired namespace for your app; for example, <code class="code" id="-owe6iw_248">com.mycompany.myapp</code>.</p></li><li class="list__item" id="-owe6iw_225"><p id="-owe6iw_249">When prompted to <code class="code" id="-owe6iw_250">Define value for property 'artifactId'</code>, supply the project name; for example, <code class="code" id="-owe6iw_251">myapp</code> or <code class="code" id="-owe6iw_252">guestbook</code>.</p></li><li class="list__item" id="-owe6iw_226"><p id="-owe6iw_253">When prompted to <code class="code" id="-owe6iw_254">Define value for property 'version'</code>, accept the default value.</p></li><li class="list__item" id="-owe6iw_227"><p id="-owe6iw_255">When prompted to <code class="code" id="-owe6iw_256">Define value for property 'package'</code>, supply your preferred package name (or accept the default). The generated Java files will have the package name you specify here.</p></li><li class="list__item" id="-owe6iw_228"><p id="-owe6iw_257">When prompted to confirm your choices, accept the default value (<code class="code" id="-owe6iw_258">Y</code>).</p></li><li class="list__item" id="-owe6iw_229"><p id="-owe6iw_259">Wait for the project to finish generating. then change directories to the new project directory, for example <code class="code" id="-owe6iw_260">guestbook/</code>.</p></li><li class="list__item" id="-owe6iw_230"><p id="-owe6iw_261">Build the project by invoking</p><div class="code-block" data-lang="none">
mvn clean install
</div></li><li class="list__item" id="-owe6iw_231"><p id="-owe6iw_263">Wait for the project to build. When the project successfully finishes you will see a message similar to this one:</p><div class="code-block" data-lang="none">
[INFO] --------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] --------------------------------------------------
[INFO] Total time: 1:16.656s
[INFO] Finished at: Mon Sep 15 11:42:22 PDT 2014
[INFO] Final Memory: 16M/228M
[INFO] --------------------------------------------------
</div></li><li class="list__item" id="-owe6iw_232"><p id="-owe6iw_265">If you created the sample Guestbook demo app using the <code class="code" id="-owe6iw_267">guestbook-archetype</code> artifact:</p><ol class="list _decimal" id="-owe6iw_266" type="1"><li class="list__item" id="-owe6iw_268"><p id="-owe6iw_271">Test the application locally in the development server as follows:</p><div class="code-block" data-lang="none">
mvn appengine:devserver
</div><p id="-owe6iw_273">Wait for the dev server to start up. When it finishes starting up, you will see a message similar to this:</p><div class="code-block" data-lang="none">
 [INFO] INFO: Module instance default is running at http://localhost:8080/
 [INFO] Sep 15, 2014 11:44:19 AM com.google.appengine.tools.development.AbstractModule startup
 [INFO] INFO: The admin console is running at http://localhost:8080/_ah/admin
 [INFO] Sep 15, 2014 11:44:19 AM com.google.appengine.tools.development.DevAppServerImpl doStart
 [INFO] INFO: Dev App Server is now running
</div><p id="-owe6iw_275"><span class="control" id="-owe6iw_276">Note:</span> If there is a failure indicating that the App Engine Maven plugin is missing, this could be due to the fact that a new version was recently pushed to the Maven repo. To remedy this, invoke Maven with the -U option: <code class="code" id="-owe6iw_277">mvn appengine:devserver -U</code></p></li><li class="list__item" id="-owe6iw_269"><p id="-owe6iw_278">Visit the application at the default URL and port <code class="code" id="-owe6iw_279">http://localhost:8080/</code> used by the development server. You will see the guestbook demo app.</p></li><li class="list__item" id="-owe6iw_270"><p id="-owe6iw_280">To shut down the app and the development server, press <span class="control" id="-owe6iw_281">Control+C</span> in the Windows/Linux terminal window you started it in, or <span class="control" id="-owe6iw_282">CMD+C</span> on the Mac.</p></li></ol></li><li class="list__item" id="-owe6iw_233"><p id="-owe6iw_283">If you created a new, empty app using the <code class="code" id="-owe6iw_285">appengine-skeleton-archetype</code> artifact:</p><ol class="list _decimal" id="-owe6iw_284" type="1"><li class="list__item" id="-owe6iw_286"><p id="-owe6iw_291">Before starting to code your own classes for the app, familiarize yourself with the basic project layout and the required project files is complete: inside the directory where you created the project, you'll have a subdirectory named <code class="code" id="-owe6iw_294">myapp</code>, which contains a <code class="code" id="-owe6iw_295">pom.xml</code> file, the <code class="code" id="-owe6iw_296">src/main/java</code> subdirectory, and the <code class="code" id="-owe6iw_297">src/main/webapp/WEB-INF</code> subdirectory:</p><figure id="-owe6iw_292"><img alt="Maven Project Layout" src="https://web.archive.org/web/20160424230715im_/https://cloud.google.com/appengine/docs/java/tools/images/maven_layout.png" title="Maven Project Layout"></figure><ul class="list _bullet" id="-owe6iw_293"><li class="list__item" id="-owe6iw_298"><p id="-owe6iw_301">You'll add your own application Java classes to <code class="code" id="-owe6iw_302">src/main/java/...</code></p></li><li class="list__item" id="-owe6iw_299"><p id="-owe6iw_303">You'll configure your application using the file <code class="code" id="-owe6iw_304">src/main/webapp/WEB-INF/appengine.web.xml</code></p></li><li class="list__item" id="-owe6iw_300"><p id="-owe6iw_305">You'll configure your application deployment using the file <code class="code" id="-owe6iw_306">src/main/webapp/WEB-INF/web.xml</code></p></li></ul></li><li class="list__item" id="-owe6iw_287"><p id="-owe6iw_307">Create your application Java classes and add them to <code class="code" id="-owe6iw_308">src/main/java/...</code>/ For more information, see <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/gettingstarted/introduction" id="-owe6iw_309" data-external="true" rel="noopener noreferrer" target="_blank">Getting Started</a></p></li><li class="list__item" id="-owe6iw_288"><p id="-owe6iw_310">Add the UI that you want to provide to your app users. For more information, see <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/gettingstarted/ui_and_code" id="-owe6iw_311" data-external="true" rel="noopener noreferrer" target="_blank">Adding Application Code and UI</a>.</p></li><li class="list__item" id="-owe6iw_289"><p id="-owe6iw_312">The artifact you used to create the project has done the basic <code class="code" id="-owe6iw_313">src/main/webapp/WEB-INF/appengine.web.xml</code> configuration for you. However, for more advanced configuration, you may need to edit this file. For more information, see <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/config/appconfig" id="-owe6iw_314" data-external="true" rel="noopener noreferrer" target="_blank">Configuring with appengine-web.xml</a>.</p></li><li class="list__item" id="-owe6iw_290"><p id="-owe6iw_315">Edit the file <code class="code" id="-owe6iw_316">src/main/webapp/WEB-INF/web.xml</code> to map URLs to your app handlers, specify authentication, filters, and so forth. This is described in detail in <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/config/webxml" id="-owe6iw_317" data-external="true" rel="noopener noreferrer" target="_blank">The Deployment Descriptor</a>.</p></li></ol></li></ol></section><section class="chapter"><h3 id="cloud-endpoints-backend-api" data-toc="cloud-endpoints-backend-api">Cloud Endpoints Backend API</h3><p id="-owe6iw_318">To create a Cloud Endpoints backend API project:</p><ol class="list _decimal" id="-owe6iw_319" type="1"><li class="list__item" id="-owe6iw_320"><p id="-owe6iw_334">Change directory to a directory where you want to build the project.</p></li><li class="list__item" id="-owe6iw_321"><p id="-owe6iw_335">Invoke the following Maven command:</p><div class="code-block" data-lang="none">
     mvn archetype:generate -Dappengine-version=1.9.34 -Dfilter=com.google.appengine.archetypes:
</div><p id="-owe6iw_337">where <code class="code" id="-owe6iw_338">-Dappengine-version</code> is set to the most recent App Engine Java SDK version.</p></li><li class="list__item" id="-owe6iw_322"><p id="-owe6iw_339">If you want to create the complete, ready-to-run Hello Endpoints backend API, supply the number corresponding to <code class="code" id="-owe6iw_341">hello-endpoints-archetype</code>.</p><p id="-owe6iw_340">If you want to create an empty project that contains the required directory structure and files, ready for your own classes, supply the number corresponding to <code class="code" id="-owe6iw_342">endpoints-skeleton-archetype</code>.</p></li><li class="list__item" id="-owe6iw_323"><p id="-owe6iw_343">Select the most recent version from the displayed list of available archetype versions by accepting the default.</p></li><li class="list__item" id="-owe6iw_324"><p id="-owe6iw_344">When prompted to <code class="code" id="-owe6iw_345">Define value for property 'groupId'</code>, supply the namespace for your app; for example, <code class="code" id="-owe6iw_346">com.mycompany.myapp</code>. (For the Hello Endpoints sample backend API, supply the value <code class="code" id="-owe6iw_347">com.google.appengine.samples.helloendpoints</code>.)</p></li><li class="list__item" id="-owe6iw_325"><p id="-owe6iw_348">When prompted to <code class="code" id="-owe6iw_349">Define value for property 'artifactId'</code>, supply the project name; for example, <code class="code" id="-owe6iw_350">myapp</code>. (For the Hello Endpoints sample, supply the value <code class="code" id="-owe6iw_351">helloendpoints</code>.)</p></li><li class="list__item" id="-owe6iw_326"><p id="-owe6iw_352">When prompted to <code class="code" id="-owe6iw_353">Define value for property 'version'</code>, accept the default value.</p></li><li class="list__item" id="-owe6iw_327"><p id="-owe6iw_354">When prompted to <code class="code" id="-owe6iw_355">Define value for property 'package'</code>, accept the default value.</p></li><li class="list__item" id="-owe6iw_328"><p id="-owe6iw_356">When prompted to confirm your choices, accept the default value (<code class="code" id="-owe6iw_357">Y</code>).</p></li><li class="list__item" id="-owe6iw_329"><p id="-owe6iw_358">Wait for the project to finish generating. then change directories to the new project directory, for example <code class="code" id="-owe6iw_359">helloendpoints/</code>.</p></li><li class="list__item" id="-owe6iw_330"><p id="-owe6iw_360">Build the project by invoking</p><div class="code-block" data-lang="none">
mvn clean install
</div></li><li class="list__item" id="-owe6iw_331"><p id="-owe6iw_362">Wait for the project to build. When the project successfully finishes you will see a message similar to this one:</p><div class="code-block" data-lang="none">
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 14.846s
[INFO] Finished at: Tue Jun 03 09:43:09 PDT 2014
[INFO] Final Memory: 24M/331M
</div></li><li class="list__item" id="-owe6iw_332"><p id="-owe6iw_364">If you created the sample Hello Endpoints sample backend API:</p><ol class="list _decimal" id="-owe6iw_365" type="1"><li class="list__item" id="-owe6iw_366"><p id="-owe6iw_368">Test the application locally in the development server as follows:</p><div class="code-block" data-lang="none">
mvn appengine:devserver
</div><p id="-owe6iw_370">Wait for the dev server to start up. When it finishes starting up, you will see a message similar to this one:</p><div class="code-block" data-lang="none">
 [INFO] INFO: Module instance default is running at http://localhost:8080/
 [INFO] Jun 03, 2014 9:44:47 AM com.google.appengine.tools.development.AbstractModule startup
 [INFO] INFO: The admin console is running at http://localhost:8080/_ah/admin
 [INFO] Jun 03, 2014 9:44:47 AM com.google.appengine.tools.development.DevAppServerImpl doStart
 [INFO] INFO: Dev App Server is now running
</div></li><li class="list__item" id="-owe6iw_367"><p id="-owe6iw_372">Visit the URL <code class="code" id="-owe6iw_373">http://localhost:8080</code> to send requests to the backend API</p></li></ol></li><li class="list__item" id="-owe6iw_333"><p id="-owe6iw_374">If you created a new, empty app:</p><ol class="list _decimal" id="-owe6iw_375" type="1"><li class="list__item" id="-owe6iw_376"><p id="-owe6iw_378">Familiarize yourself with the basic project layout shown here:</p><figure id="-owe6iw_379"><img alt="Maven Project Layout" src="https://web.archive.org/web/20160424230715im_/https://cloud.google.com/appengine/docs/java/tools/images/maven_layout-e.png" title="Maven Project Layout"></figure><p id="-owe6iw_380"><code class="code" id="-owe6iw_381">YourFirstAPI.java</code> is a starter file for your own API. (You aren't required to use this name.)</p></li><li class="list__item" id="-owe6iw_377"><p id="-owe6iw_382">Add your classes as desired.</p></li></ol></li></ol></section></section><section class="chapter"><h2 id="compile-and-build-your-project-using-maven" data-toc="compile-and-build-your-project-using-maven">Compile and build your project using Maven</h2><p id="-owe6iw_383">To build an app created with the Maven App Engine archetypes:</p><ol class="list _decimal" id="-owe6iw_384" type="1"><li class="list__item" id="-owe6iw_385"><p id="-owe6iw_389">Change directory to the main directory for your project, for example, <code class="code" id="-owe6iw_390">guestbook/</code> http://maven.apache.org/archetype/maven-archetype-plugin</p></li><li class="list__item" id="-owe6iw_386"><p id="-owe6iw_391">Invoke Maven as follows:</p><div class="code-block" data-lang="none">
mvn clean install
</div></li><li class="list__item" id="-owe6iw_387"><p id="-owe6iw_393">Wait for the project to build. When the project successfully finishes you will see a message similar to this one:</p><div class="code-block" data-lang="none">
BUILD SUCCESS
 Total time: 10.724s
 Finished at: Thur Jul 04 14:50:06 PST 2014
 Final Memory: 24M/213M
</div></li><li class="list__item" id="-owe6iw_388"><p id="-owe6iw_395">Optionally, test the application using the following procedure.</p></li></ol></section><section class="chapter"><h2 id="testing-your-app-with-the-development-server" data-toc="testing-your-app-with-the-development-server">Testing your app with the development server</h2><p id="-owe6iw_396">During the development phase, you can run and test your app at any time in the development server by invoking the App Engine Maven plugin. The procedure varies slightly depending on the artifact used to create the project, so click on the appropriate tab below:</p><section class="chapter"><h3 id="app-engine-app" data-toc="app-engine-app">App Engine App</h3><p id="-owe6iw_399">To test your app:</p><ol class="list _decimal" id="-owe6iw_400" type="1"><li class="list__item" id="-owe6iw_401"><p id="-owe6iw_405">If you haven't already done so, build your app (<code class="code" id="-owe6iw_406">mvn clean install</code>).</p></li><li class="list__item" id="-owe6iw_402"><p id="-owe6iw_407">Change directory to the top level of your project (for example, to <code class="code" id="-owe6iw_411">myapp</code>) and invoke Maven as follows:</p><div class="code-block" data-lang="none">
mvn appengine:devserver
</div><p id="-owe6iw_409">Wait for the the server to start. When the server is completely started with your app running, you will see a message similar to this one:</p><div class="code-block" data-lang="none">
 Aug 24, 2014 2:56:42 PM com.google.appengine.tools.development.DevAppServerImpl start
 INFO: The server is running at http://localhost:8080/
 Aug 24, 2014 2:56:42 PM com.google.appengine.tools.development.DevAppServerImpl start
 INFO: The admin console is running at http://localhost:8080/_ah/admin
</div></li><li class="list__item" id="-owe6iw_403"><p id="-owe6iw_412">Use your browser to visit <code class="code" id="-owe6iw_413">http://localhost:8080/</code> to access your app.</p></li><li class="list__item" id="-owe6iw_404"><p id="-owe6iw_414">Shut down the app and the development server by pressing <span class="control" id="-owe6iw_415">Control+C</span> in the Windows/Linux terminal window where you started it, or <span class="control" id="-owe6iw_416">CMD+C</span> on the Mac.</p></li></ol></section><section class="chapter"><h3 id="cloud-endpoints-backend-api" data-toc="cloud-endpoints-backend-api">Cloud Endpoints Backend API</h3><p id="-owe6iw_417">To test your app:</p><ol class="list _decimal" id="-owe6iw_418" type="1"><li class="list__item" id="-owe6iw_419"><p id="-owe6iw_423">If you haven't already done so, build your app (<code class="code" id="-owe6iw_424">mvn clean install</code>).</p></li><li class="list__item" id="-owe6iw_420"><p id="-owe6iw_425">Change directory to your project's main directory <code class="code" id="-owe6iw_429">/myapp</code>) and invoke Maven as follows:</p><div class="code-block" data-lang="none">
mvn appengine:devserver
</div><p id="-owe6iw_427">Wait for the the server to start. When the server is completely started with your app running, you will see a message similar to this one:</p><div class="code-block" data-lang="none">
 Jul 04, 2014 2:56:42 PM com.google.appengine.tools.development.DevAppServerImpl start
 INFO: The server is running at http://localhost:8080/
 Jul 04, 2013 2:56:42 PM com.google.appengine.tools.development.DevAppServerImpl start
 INFO: The admin console is running at http://localhost:8080/_ah/admin
</div></li><li class="list__item" id="-owe6iw_421"><p id="-owe6iw_430">Use your browser to visit <code class="code" id="-owe6iw_431">http://localhost:8080/</code> to access your app, or, alternatively, to test the API using the built-in Google API Explorer, visit <code class="code" id="-owe6iw_432">http://localhost:8080/_ah/api/explorer</code>.</p></li><li class="list__item" id="-owe6iw_422"><p id="-owe6iw_433">Shut down the app and the development server by pressing <span class="control" id="-owe6iw_434">Control+C</span> in the Windows/Linux terminal window where you started it, or <span class="control" id="-owe6iw_435">CMD+C</span> on the Mac.</p></li></ol></section></section><section class="chapter"><h2 id="creating-required-indexes" data-toc="creating-required-indexes">Creating required indexes</h2><p id="-owe6iw_436">If your app uses Datastore, you must create indexes before uploading your app to production App Engine. You can do this using the development server. When you run your app on the development server, it automatically creates the Datastore indexes required to run in production App Engine. These indexes are generated in <code class="code" id="-owe6iw_439">guestbook/target/guestbook-1.0-SNAPSHOT/WEB-INF/appengine-generated/datastore-indexes-auto.xml</code>. You'll also notice the file <code class="code" id="-owe6iw_440">local_db.bin</code> at that same location: this is local storage for the development server to persist your app data between development server sessions. The file <code class="code" id="-owe6iw_441">datastore-indexes-auto.xml</code> is automatically uploaded along with your app; <code class="code" id="-owe6iw_442">local_db.bin</code> is not uploaded.</p><p id="-owe6iw_437"><span class="control" id="-owe6iw_443">Note:</span> Running <code class="code" id="-owe6iw_444">mvn clean install</code> clears the <code class="code" id="-owe6iw_445">datastore-indexes-auto.xml</code> file; if you run it on your app prior to <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/gettingstarted/uploading" id="-owe6iw_446" data-external="true" rel="noopener noreferrer" target="_blank">uploading to production App Engine</a>, you won't get required indexes and you'll experience a runtime error.</p><p id="-owe6iw_438">For complete information about indexes, see <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/datastore/indexes" id="-owe6iw_447" data-external="true" rel="noopener noreferrer" target="_blank">Datastore Indexes</a>.</p></section><section class="chapter"><h2 id="uploading-your-app-to-production-app-engine" data-toc="uploading-your-app-to-production-app-engine">Uploading your app to production App Engine</h2><p id="-owe6iw_448"><span class="control" id="-owe6iw_454">Important:</span> If your app uses Datastore, you must generate any required Datastore indexes before uploading your app. For information and instructions, see <span id="-owe6iw_455">Testing your app on the development server</span> and <span id="-owe6iw_456">Creating required indexes</span></p><p id="-owe6iw_449">The upload procedure varies slightly depending on the artifact used to create the project, so click on the appropriate tab below:</p><section class="chapter"><h3 id="app-engine-app" data-toc="app-engine-app">App Engine App</h3><p id="-owe6iw_457">To upload an app created with the the <code class="code" id="-owe6iw_459">appengine-skeleton-archetype</code>:</p><ol class="list _decimal" id="-owe6iw_458" type="1"><li class="list__item" id="-owe6iw_460"><p id="-owe6iw_462">Change directory to the top level of your project (for example, <code class="code" id="-owe6iw_464">myapp</code>) and invoke Maven as follows:</p><div class="code-block" data-lang="none">
mvn appengine:update
</div></li><li class="list__item" id="-owe6iw_461"><p id="-owe6iw_465">You will be prompted for an authorization code in the terminal window and your web browser will launch with a consent screen which you must accept in order to be authorized. Follow the prompts to copy any codes from the browser to the command line.</p></li></ol></section><section class="chapter"><h3 id="cloud-endpoints-backend-api" data-toc="cloud-endpoints-backend-api">Cloud Endpoints Backend API</h3><p id="-owe6iw_466">To upload an app created with the the <code class="code" id="-owe6iw_468">endpoints-skeleton-archetype</code>:</p><ol class="list _decimal" id="-owe6iw_467" type="1"><li class="list__item" id="-owe6iw_469"><p id="-owe6iw_471">Change directory to your project's main directory (for example, <code class="code" id="-owe6iw_473">/myapp</code>) and invoke Maven as follows:</p><div class="code-block" data-lang="none">
mvn appengine:update
</div></li><li class="list__item" id="-owe6iw_470"><p id="-owe6iw_474">You will be prompted for an authorization code in the terminal window and your web browser will launch with a consent screen which you must accept in order to be authorized. Follow the prompts to copy any codes from the browser to the command line.</p></li></ol></section><section class="chapter"><h3 id="adding-the-app-engine-maven-plugin-to-an-existing-maven-project" data-toc="adding-the-app-engine-maven-plugin-to-an-existing-maven-project">Adding the App Engine Maven plugin to an existing Maven project</h3><p id="-owe6iw_475">To add the Google App Engine Maven plugin to an existing Maven project, add the following into the <code class="code" id="-owe6iw_477">plugins</code> section in the project <code class="code" id="-owe6iw_478">pom.xml</code> file:</p><div class="code-block" data-lang="none">
&lt;plugin&gt;
   &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
   &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;
   &lt;version&gt;1.9.34&lt;/version&gt;
&lt;/plugin&gt;
</div></section><section class="chapter"><h3 id="specifying-a-port-for-local-testing" data-toc="specifying-a-port-for-local-testing">Specifying a port for local testing</h3><p id="-owe6iw_479">When you run your app in the local development server, the default port is <code class="code" id="-owe6iw_482">8080</code>. You can change this default by modifying the plugin entry for <code class="code" id="-owe6iw_483">appengine-maven-plugin</code> (or adding it if it doesn't exist). For example, we specify port and address in the following <code class="code" id="-owe6iw_484">&lt;plugin&gt;</code> entry within <code class="code" id="-owe6iw_485">&lt;plugins&gt;</code> inside the main app directory <code class="code" id="-owe6iw_486">pom.xml</code> file (<code class="code" id="-owe6iw_487">myapp/pom.xml</code>):</p><div class="code-block" data-lang="none">
    &lt;plugin&gt;
         &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
         &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;
         &lt;version&gt;1.9.34&lt;/version&gt;
         &lt;configuration&gt;
             &lt;enableJarClasses&gt;false&lt;/enableJarClasses&gt;
             &lt;port&gt;8181&lt;/port&gt;
             &lt;address&gt;0.0.0.0&lt;/address&gt;
         &lt;/configuration&gt;
    &lt;/plugin&gt;
</div><p id="-owe6iw_481">Notice that the <code class="code" id="-owe6iw_488">&lt;port&gt;</code> sets the port here to <code class="code" id="-owe6iw_489">8181</code> as shown, and the address <code class="code" id="-owe6iw_490">0.0.0.0</code> is specified, which means the development server will listen to requests coming in from the local network.</p></section></section><section class="chapter"><h2 id="managing-and-running-a-project-with-the-app-engine-maven-plugin" data-toc="managing-and-running-a-project-with-the-app-engine-maven-plugin">Managing and running a project with the App Engine Maven plugin</h2><p id="-owe6iw_491">The App Engine Maven plugin enables support for App Engine within Maven. It provides the ability to use the <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/tools/devserver" id="-owe6iw_498" data-external="true" rel="noopener noreferrer" target="_blank">development server</a> and the majority of the functionality of the <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/tools/uploadinganapp" id="-owe6iw_499" data-external="true" rel="noopener noreferrer" target="_blank">appcfg</a> tool.</p><p id="-owe6iw_492">The plugin also provides <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/endpoints" id="-owe6iw_500" data-external="true" rel="noopener noreferrer" target="_blank">Google Cloud Endpoints</a> goals for discovery doc generation and client library generation.</p><p id="-owe6iw_493">Once the App Engine Maven plugin is added to the project's <code class="code" id="-owe6iw_501">pom.xml</code> file, several App Engine-specific Maven goals are available. To see all of the available goals, invoke the command:</p><div class="code-block" data-lang="none">
    mvn help:describe -Dplugin=appengine
</div><section class="chapter"><h3 id="app-engine-maven-plugin-goals" data-toc="app-engine-maven-plugin-goals">App Engine Maven plugin goals</h3><p id="-owe6iw_502">The App Engine Maven plugin goals can be categorized as devserver goals, app and project management goals, and Endpoints goals.</p><section class="chapter"><h4 id="development-server-goals" data-toc="development-server-goals">Development server goals</h4><p id="-owe6iw_505">These are the development server goals:</p><p id="-owe6iw_506"><code class="code" id="-owe6iw_514">appengine:devserver</code><br> Runs the App Engine development server. When the server is running, it continuously checks to determine whether <code class="code" id="-owe6iw_516">appengine-web.xml</code> has changed. If it has, the server does a hot reload of the application. This means that you do not need to stop and restart your application because of changes to <code class="code" id="-owe6iw_517">appengine-web.xml</code>. The following parameters are available:</p><ul class="list _bullet" id="-owe6iw_507"><li class="list__item" id="-owe6iw_518"><p id="-owe6iw_524"><code class="code" id="-owe6iw_525">&lt;fullScanSeconds&gt;</code></p></li><li class="list__item" id="-owe6iw_519"><p id="-owe6iw_526"><code class="code" id="-owe6iw_527">&lt;address&gt;</code></p></li><li class="list__item" id="-owe6iw_520"><p id="-owe6iw_528"><code class="code" id="-owe6iw_529">&lt;disableUpdateCheck&gt;</code></p></li><li class="list__item" id="-owe6iw_521"><p id="-owe6iw_530"><code class="code" id="-owe6iw_531">&lt;jvmFlags&gt;</code></p></li><li class="list__item" id="-owe6iw_522"><p id="-owe6iw_532"><code class="code" id="-owe6iw_533">&lt;port&gt;</code></p></li><li class="list__item" id="-owe6iw_523"><p id="-owe6iw_534"><code class="code" id="-owe6iw_535">&lt;server&gt;</code></p></li></ul><p id="-owe6iw_508">For example, to enable running the server in debug mode on port 8000 without suspending at start time, you can use the following flags:</p><div class="code-block" data-lang="none">
&lt;jvmFlags&gt;
  &lt;jvmFlag&gt;-Xdebug&lt;/jvmFlag&gt;
  &lt;jvmFlag&gt;-agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n&lt;/jvmFlag&gt;
&lt;/jvmFlags&gt;
</div><p id="-owe6iw_510">By default, the <code class="code" id="-owe6iw_536">&lt;fullScanSeconds&gt;</code> flag is set to 5 seconds, which means server is checking every 5 seconds for changes in the web application files, and reloads the application automatically. This is useful with IDEs that support the <span class="emphasis" id="-owe6iw_537">compile on save</span> feature like NetBeans. In order to use this feature, you must configure the <code class="code" id="-owe6iw_538">&lt;build&gt;</code> section as follows:</p><div class="code-block" data-lang="none">
&lt;build&gt;
   &lt;outputDirectory&gt;target/${project.artifactId}-${project.version}/WEB-INF/classes&lt;/outputDirectory&gt;
   &lt;plugins&gt;
      ....
   &lt;/plugins&gt;
&lt;/build&gt;
</div><p id="-owe6iw_512"><code class="code" id="-owe6iw_539">appengine:devserver_start</code><br> Performs an asynchronous start for the devserver and then returns to the command line. When this goal runs, the behavior is the same as the <code class="code" id="-owe6iw_541">devserver</code> goal except that Maven continues processing goals and exits after the server is up and running.</p><p id="-owe6iw_513"><code class="code" id="-owe6iw_542">appengine:devserver_stop</code><br> Stops the development server. Available only if you started the development server with <code class="code" id="-owe6iw_544">appengine:devserver_start</code>.</p></section><section class="chapter"><h4 id="application-management-goals" data-toc="application-management-goals">Application management goals</h4><p id="-owe6iw_545">For application and project management, the goals are listed in the following table:</p><div class="table-wrapper"><table class="wide" id="-owe6iw_546"><thead><tr class="ijRowHead" id="-owe6iw_548"><th id="-owe6iw_567"><p>Goal</p></th><th id="-owe6iw_568"><p>Description</p></th></tr></thead><tbody><tr id="-owe6iw_549"><td id="-owe6iw_569"><p><code class="code" id="-owe6iw_571">appengine:backends_stop</code></p></td><td id="-owe6iw_570"><p>This stops any running development server listening on the port as configured in your <code class="code" id="-owe6iw_572">pom.xml</code> file. This goal can be used in conjunction with the <code class="code" id="-owe6iw_573">devserver_start</code> command to do integration tests with the Maven plugin.</p></td></tr><tr id="-owe6iw_550"><td id="-owe6iw_574"><p><code class="code" id="-owe6iw_576">appengine:backends_configure</code></p></td><td id="-owe6iw_575"><p>Configure the specified backend.</p></td></tr><tr id="-owe6iw_551"><td id="-owe6iw_577"><p><code class="code" id="-owe6iw_579">appengine:backends_delete</code></p></td><td id="-owe6iw_578"><p>Delete the specified backend.</p></td></tr><tr id="-owe6iw_552"><td id="-owe6iw_580"><p><code class="code" id="-owe6iw_582">appengine:backends_rollback</code></p></td><td id="-owe6iw_581"><p>Roll back a previously in-progress update.</p></td></tr><tr id="-owe6iw_553"><td id="-owe6iw_583"><p><code class="code" id="-owe6iw_585">appengine:backends_start</code></p></td><td id="-owe6iw_584"><p>Start the specified backend.</p></td></tr><tr id="-owe6iw_554"><td id="-owe6iw_586"><p><code class="code" id="-owe6iw_588">appengine:backends_update</code></p></td><td id="-owe6iw_587"><p>Update the specified backend or (if no backend is specified) all backends.</p></td></tr><tr id="-owe6iw_555"><td id="-owe6iw_589"><p><code class="code" id="-owe6iw_591">appengine:enhance</code></p></td><td id="-owe6iw_590"><p>Runs the App Engine Datanucleus JDO enhancer.</p></td></tr><tr id="-owe6iw_556"><td id="-owe6iw_592"><p><code class="code" id="-owe6iw_594">appengine:rollback</code></p></td><td id="-owe6iw_593"><p>Rollback an in-progress update.</p></td></tr><tr id="-owe6iw_557"><td id="-owe6iw_595"><p><code class="code" id="-owe6iw_597">appengine:set_default_version</code></p></td><td id="-owe6iw_596"><p>Set the default application version.</p></td></tr><tr id="-owe6iw_558"><td id="-owe6iw_598"><p><code class="code" id="-owe6iw_600">appengine:update</code></p></td><td id="-owe6iw_599"><p>Create or update an app version.</p></td></tr><tr id="-owe6iw_559"><td id="-owe6iw_601"><p><code class="code" id="-owe6iw_603">appengine:update_cron</code></p></td><td id="-owe6iw_602"><p>Update application cron jobs.</p></td></tr><tr id="-owe6iw_560"><td id="-owe6iw_604"><p><code class="code" id="-owe6iw_606">appengine:update_dispatch</code></p></td><td id="-owe6iw_605"><p>Update the application dispatch configuration.</p></td></tr><tr id="-owe6iw_561"><td id="-owe6iw_607"><p><code class="code" id="-owe6iw_609">appengine:update_dos</code></p></td><td id="-owe6iw_608"><p>Update application DoS protection configuration.</p></td></tr><tr id="-owe6iw_562"><td id="-owe6iw_610"><p><code class="code" id="-owe6iw_612">appengine:update_indexes</code></p></td><td id="-owe6iw_611"><p>Update application indexes.</p></td></tr><tr id="-owe6iw_563"><td id="-owe6iw_613"><p><code class="code" id="-owe6iw_615">appengine:update_queues</code></p></td><td id="-owe6iw_614"><p>Update application task queue definitions.</p></td></tr><tr id="-owe6iw_564"><td id="-owe6iw_616"><p><code class="code" id="-owe6iw_618">appengine:vacuum_indexes</code></p></td><td id="-owe6iw_617"><p>Delete unused indexes from application.</p></td></tr><tr id="-owe6iw_565"><td id="-owe6iw_619"><p><code class="code" id="-owe6iw_621">appengine:start_module_version</code></p></td><td id="-owe6iw_620"><p>Start the specified module version.</p></td></tr><tr id="-owe6iw_566"><td id="-owe6iw_622"><p><code class="code" id="-owe6iw_624">appengine:stop_module_version</code></p></td><td id="-owe6iw_623"><p>Stop the specified module version.</p></td></tr></tbody></table></div><section class="chapter"><h5 id="troubleshooting-upload-errors" data-toc="troubleshooting-upload-errors">Troubleshooting upload errors</h5><p id="-owe6iw_625">If you use the update goal, your update attempt may fail with a message similar to this one: <code class="code" id="-owe6iw_627">404 Not Found This application does not exist (app_id=u'your-app-ID')</code>. This error will occur if you have multiple Google accounts and are using the wrong account to perform the update.</p><p id="-owe6iw_626">To solve this issue, change directories to <code class="code" id="-owe6iw_628">~</code>, locate a file named <code class="code" id="-owe6iw_629">.appcfg_oauth2_tokens_java</code>, and rename it. Then try updating again. http://maven.apache.org/archetype/maven-archetype-plugin</p></section></section></section><section class="chapter"><h3 id="managing-versions-with-versions-maven-plugin-command-options" data-toc="managing-versions-with-versions-maven-plugin-command-options">Managing Versions with <code class="code" id="-owe6iw_633">versions-maven-plugin</code> command options</h3><p id="-owe6iw_631">The <a href="https://web.archive.org/web/20160424230715/http://mojo.codehaus.org/versions-maven-plugin/" id="-owe6iw_634" data-external="true" rel="noopener noreferrer" target="_blank">versions-maven-plugin</a> provides several useful command options for managing versions in your Maven project. The following table lists useful activities supported by <code class="code" id="-owe6iw_635">versions-maven-plugin</code>:</p><div class="table-wrapper"><table class="wide" id="-owe6iw_632"><thead><tr class="ijRowHead" id="-owe6iw_636"><th id="-owe6iw_642"><p>Command</p></th><th id="-owe6iw_643"><p>Description</p></th></tr></thead><tbody><tr id="-owe6iw_637"><td id="-owe6iw_644"><p><code class="code" id="-owe6iw_646">mvn versions:display-dependency-updates</code></p></td><td id="-owe6iw_645"><p>Shows dependency updates (including app engine libs)</p></td></tr><tr id="-owe6iw_638"><td id="-owe6iw_647"><p><code class="code" id="-owe6iw_649">mvn versions:display-plugin-updates</code></p></td><td id="-owe6iw_648"><p>Shows plugin updates (including appengine-maven-plugin)</p></td></tr><tr id="-owe6iw_639"><td id="-owe6iw_650"><p><code class="code" id="-owe6iw_652">mvn versions:use-latest-versions</code></p></td><td id="-owe6iw_651"><p>Automatically updates to the latest versions and makes a backup of the original <code class="code" id="-owe6iw_653">pom.xml</code>.</p></td></tr><tr id="-owe6iw_640"><td id="-owe6iw_654"><p><code class="code" id="-owe6iw_656">mvn versions:commit</code></p></td><td id="-owe6iw_655"><p>Removes the backup and makes the change permanent.</p></td></tr><tr id="-owe6iw_641"><td id="-owe6iw_657"><p><code class="code" id="-owe6iw_659">mvn versions:revert</code></p></td><td id="-owe6iw_658"><p>Restores <code class="code" id="-owe6iw_660">pom.xml</code> with the contents of the backup <code class="code" id="-owe6iw_661">pom.xml</code>.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="cloud-endpoints-goals" data-toc="cloud-endpoints-goals">Cloud Endpoints goals</h3><p id="-owe6iw_662">These are the Endpoints goals:</p><p id="-owe6iw_663"><code class="code" id="-owe6iw_669">appengine:endpoints_get_client_lib</code><br> Generate a zip file in the directory <code class="code" id="-owe6iw_671">${project.build.directory}/generated-sources/appengine-endpoints/WEB-INF</code> for the Java client library for your endpoints.</p><p id="-owe6iw_664"><code class="code" id="-owe6iw_672">appengine:endpoints_get_discovery_doc</code><br> A combination of both <code class="code" id="-owe6iw_674">gen-api-config</code> and <code class="code" id="-owe6iw_675">gen-discovery-doc</code> commands. The Endpoints API and discovery documents for both REST and RPC are generated in the <code class="code" id="-owe6iw_676">${project.build.directory}/generated-sources/appengine-endpoints/WEB-INF</code> directory. The source <code class="code" id="-owe6iw_677">web.xml</code> is automatically changed with the addition of the Endpoints servlet and the correct Endpoints classes. In order to use the generated artifacts, you need to configure the Maven WAR plugin as follows:</p><div class="code-block" data-lang="none">
&lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.3&lt;/version&gt;
        &lt;configuration&gt;
          &lt;webXml&gt;${project.build.directory}/generated-sources/appengine-endpoints/WEB-INF/web.xml&lt;/webXml&gt;
          &lt;webResources&gt;
            &lt;resource&gt;
              &lt;directory&gt;${project.build.directory}/generated-sources/appengine-endpoints&lt;/directory&gt;
              &lt;includes&gt;
                &lt;include&gt;WEB-INF/*.discovery&lt;/include&gt;
                &lt;include&gt;WEB-INF/*.api&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/resource&gt;
          &lt;/webResources&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
</div><p id="-owe6iw_666">You can automatically call this goal as part of a Maven build by configuring the App Engine Maven plugin as follows:</p><div class="code-block" data-lang="none">
    &lt;plugin&gt;
            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;1.9.34&lt;/version&gt;
            &lt;configuration&gt;
              &lt;enableJarClasses&gt;false&lt;/enableJarClasses&gt;
            &lt;/configuration&gt;
            &lt;executions&gt;
              &lt;execution&gt;
                &lt;goals&gt;
                  &lt;goal&gt;endpoints_get_discovery_doc&lt;/goal&gt;
                &lt;/goals&gt;
              &lt;/execution&gt;
            &lt;/executions&gt;
          &lt;/plugin&gt;
</div><p id="-owe6iw_668">For a reference configuration, see the Endpoint sample application <a href="https://web.archive.org/web/20160424230715/https://github.com/GoogleCloudPlatform/appengine-endpoints-tictactoe-java-maven" id="-owe6iw_678" data-external="true" rel="noopener noreferrer" target="_blank">appengine-tictactoe-java-maven</a>.</p></section></section><section class="chapter"><h2 id="adding-jdo-or-jpa-dependencies" data-toc="adding-jdo-or-jpa-dependencies">Adding JDO or JPA dependencies</h2><p id="-owe6iw_679">If you use the Java Persistence API (JPA), or Java Data Objects (JDO), you can add the required dependencies to the <code class="code" id="-owe6iw_680">pom.xml</code> file generated using the App Engine artifacts documented in this page. For information on the entries you must add, see the App Engine documentation for <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/datastore/jdo/overview-dn2#build_tools" id="-owe6iw_681" data-external="true" rel="noopener noreferrer" target="_blank">JDO</a> or <a href="https://web.archive.org/web/20160424230715/https://cloud.google.com/appengine/docs/java/datastore/jpa/overview-dn2#build_tools" id="-owe6iw_682" data-external="true" rel="noopener noreferrer" target="_blank">JPA</a>.</p></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="google-plugin-for-eclipse.html" class="navigation-links__prev">Google Plugin for Eclipse</a><a href="using-apache-ant.html" class="navigation-links__next">Using Apache Ant</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>