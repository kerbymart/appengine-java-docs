<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:45.449515001"><title>Generating Libraries and Discovery Docs with the Endpoints Tool | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"generating-a-discovery-doc-from-a-backend-api","level":0,"title":"Generating a discovery doc from a backend API","anchor":"#generating-a-discovery-doc-from-a-backend-api"},{"id":"generating-a-client-library-bundle-from-a-backend-api","level":0,"title":"Generating a client library bundle from a backend API","anchor":"#generating-a-client-library-bundle-from-a-backend-api"},{"id":"command-line-syntax-for-the-endpoints-tool","level":0,"title":"Command line syntax for the Endpoints tool","anchor":"#command-line-syntax-for-the-endpoints-tool"},{"id":"options","level":0,"title":"Options","anchor":"#options"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Generating Libraries and Discovery Docs with the Endpoints Tool | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/generating-libraries-and-discovery-docs-with-the-endpoints-tool.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Generating Libraries and Discovery Docs with the Endpoints Tool | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/generating-libraries-and-discovery-docs-with-the-endpoints-tool.html#webpage",
    "url": "writerside-documentation/generating-libraries-and-discovery-docs-with-the-endpoints-tool.html",
    "name": "Generating Libraries and Discovery Docs with the Endpoints Tool | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Generating-Libraries-and-Discovery-Docs-with-the-Endpoints-Tool" data-main-title="Generating Libraries and Discovery Docs with the Endpoints Tool" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Mobile-Backends.md|Mobile Backends///Generating-Client-Libraries-Cloud-Endpoints.md|Generating Client Libraries"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Generating-Libraries-and-Discovery-Docs-with-the-Endpoints-Tool" id="Generating-Libraries-and-Discovery-Docs-with-the-Endpoints-Tool.md">Generating Libraries and Discovery Docs with the Endpoints Tool</h1><ol class="list _decimal" id="-kniikd_3" type="1"><li class="list__item" id="-kniikd_12"><p id="-kniikd_16"><span id="-kniikd_17">Generating a client library bundle from a backend API</span></p></li><li class="list__item" id="-kniikd_13"><p id="-kniikd_18"><span id="-kniikd_19">Generating a discovery doc from a backend API</span></p></li><li class="list__item" id="-kniikd_14"><p id="-kniikd_20"><span id="-kniikd_21">Command line syntax for the Endpoints tool</span></p></li><li class="list__item" id="-kniikd_15"><p id="-kniikd_22"><a href="#options" id="-kniikd_23" data-tooltip="You can use the following options:">Options</a></p></li></ol><p id="-kniikd_4">You can use the Endpoints command line tool to generate client library bundles and discovery docs. Android clients need a client library bundle to <a href="https://web.archive.org/web/20160424230828/https://cloud.google.com/appengine/docs/java/endpoints/consume_android" id="-kniikd_24" data-external="true" rel="noopener noreferrer" target="_blank">access the backend API</a>. iOS clients need the discovery doc.</p><p id="-kniikd_5">These instructions assume you have created your backend API. (See the <a href="https://web.archive.org/web/20160424230828/https://cloud.google.com/appengine/docs/java/endpoints/getstarted/backend" id="-kniikd_25" data-external="true" rel="noopener noreferrer" target="_blank">backend API tutorial</a> for more information on creating backend APIs.)</p><p id="-kniikd_6"><span class="control" id="-kniikd_26">Note:</span> You can alternatively use Maven to generate Maven client library bundles and discovery documents from the backend API, as described in <a href="https://web.archive.org/web/20160424230828/https://cloud.google.com/appengine/docs/java/endpoints/gen_clients" id="-kniikd_27" data-external="true" rel="noopener noreferrer" target="_blank">Generating Client Libraries</a>. However, this option won't generate a Gradle client bundle to use with an Android project.</p><p id="-kniikd_7">The Endpoints command line tool is provided in the SDK: <code class="code" id="-kniikd_28">appengine-java-sdk-x.x.x/bin/endpoints.sh</code>.</p><section class="chapter"><h2 id="generating-a-discovery-doc-from-a-backend-api" data-toc="generating-a-discovery-doc-from-a-backend-api">Generating a discovery doc from a backend API</h2><p id="-kniikd_29"><span class="control" id="-kniikd_35">Warning:</span> The generated discovery document should not be edited.</p><p id="-kniikd_30">A <a href="https://web.archive.org/web/20160424230828/https://cloud.google.com/discovery/v1/reference/apis" id="-kniikd_36" data-external="true" rel="noopener noreferrer" target="_blank">Google discovery document</a> describes the surface for a particular version of an API. The information provided by the discovery document includes API-level properties such as an API description, resource schemas, authentication scopes, and methods. The Endpoints command line tool can generate a discovery document in either REST format (the default) or RPC format (required for generating an iOS client).</p><p id="-kniikd_31">To generate the discovery document:</p><p id="-kniikd_32"><span class="control" id="-kniikd_37">Note:</span> The instructions below are for a Maven project. If you use Eclipse, the project layout will be slightly different and you will have to invoke the Endpoints commmand line tool from the parent directory of the <code class="code" id="-kniikd_38">war</code> directory in your target build output.</p><ol class="list _decimal" id="-kniikd_33" type="1"><li class="list__item" id="-kniikd_39"><p id="-kniikd_42">If you haven't already done so, build the backend API.</p></li><li class="list__item" id="-kniikd_40"><p id="-kniikd_43">Invoke the Endpoints command line tool as follows:</p><div class="code-block" data-lang="none">
appengine-java-sdk-x.x.x/bin/endpoints.sh get-discovery-doc --war=target/helloendpoints-1.0-SNAPSHOT \
com.google.appengine.samples.helloendpoints.Greetings
</div><p id="-kniikd_45">where <code class="code" id="-kniikd_47">target/helloendpoints-1.0-SNAPSHOT</code> is the relative or absolute path to the target build directory containing <code class="code" id="-kniikd_48">WEB-INF/appengine-web.xml</code> and the compiled backend classes:</p><figure id="-kniikd_46"><img alt="Where to invoke endpoints.sh" src="https://web.archive.org/web/20160424230828im_/https://cloud.google.com/appengine/docs/java/endpoints/images/target_layout_war.png" title="Where to invoke endpoints.sh"></figure></li><li class="list__item" id="-kniikd_41"><p id="-kniikd_49">When successful, the tool displays a message similar to:</p><div class="code-block" data-lang="none">
INFO: Successfully processed /usr/local/directory/helloendpoints/target/helloendpoints-1.0-SNAPSHOT/WEB-INF/appengine-web.xml
API Discovery Document written to ./helloworld-v1-rest.discovery
</div></li></ol><p id="-kniikd_34">If you are getting the discovery doc for use with an iOS client, see <a href="https://web.archive.org/web/20160424230828/https://cloud.google.com/appengine/docs/java/endpoints/consume_ios#Java_Compiling_the_client_library_generator_and_generating_your_library" id="-kniikd_51" data-external="true" rel="noopener noreferrer" target="_blank">Using Endpoints in an iOS Client</a> for information on using the discovery document.</p></section><section class="chapter"><h2 id="generating-a-client-library-bundle-from-a-backend-api" data-toc="generating-a-client-library-bundle-from-a-backend-api">Generating a client library bundle from a backend API</h2><p id="-kniikd_52">The Endpoints command line tool can be used to generate a Maven client bundle, a Gradle client bundle, or a bundle that contains only the dependency libraries and source jar. This bundle is the Java library be used in your client to call the backend API; it provides your client with all of the Google API client capabilities, including OAuth.</p><p id="-kniikd_53">If you are using the client library with an Android app, we recommend that you use a Gradle client bundle.</p><section class="chapter"><h3 id="how-to-generate-the-client-library-bundle" data-toc="how-to-generate-the-client-library-bundle">How to generate the client library bundle</h3><p id="-kniikd_56">Before starting, note two things about the instructions provided below:</p><ul class="list _bullet" id="-kniikd_57"><li class="list__item" id="-kniikd_61"><p id="-kniikd_63">The instructions use the <code class="code" id="-kniikd_64">endpoints.sh</code> command for Linux and Mac OSX. If you use Windows, use <code class="code" id="-kniikd_65">endpoints.cmd</code> instead. The options and invocations are the same for both versions of this tool.</p></li><li class="list__item" id="-kniikd_62"><p id="-kniikd_66">The instructions are for a Maven project. If you use Eclipse, the project layout will be slightly different.</p></li></ul><p id="-kniikd_58">To generate a client library bundle:</p><ol class="list _decimal" id="-kniikd_59" type="1"><li class="list__item" id="-kniikd_67"><p id="-kniikd_70">If you haven't already done so, build the backend API.</p></li><li class="list__item" id="-kniikd_68"><p id="-kniikd_71">Invoke the Endpoints command line tool similarly to the following:</p><div class="code-block" data-lang="none">
appengine-java-sdk-x.x.x/bin/endpoints.sh get-client-lib --war=target/helloendpoints-1.0-SNAPSHOT \
-bs gradle com.google.appengine.samples.helloendpoints.Greetings
</div><p id="-kniikd_73">where we are building a Gradle bundle and where <code class="code" id="-kniikd_75">target/helloendpoints-1.0-SNAPSHOT</code> is the relative or absolute path to the the target build directory containing <code class="code" id="-kniikd_76">WEB-INF/appengine-web.xml</code> and the compiled backend classes:</p><figure id="-kniikd_74"><img alt="Where to invoke endpoints.sh" src="https://web.archive.org/web/20160424230828im_/https://cloud.google.com/appengine/docs/java/endpoints/images/target_layout_war.png" title="Where to invoke endpoints.sh"></figure></li><li class="list__item" id="-kniikd_69"><p id="-kniikd_77">When successful, the tool displays a message similar to:</p><div class="code-block" data-lang="none">
INFO: Successfully processed /usr/local/directory/helloendpoints/target/helloendpoints-1.0-SNAPSHOT/WEB-INF/appengine-web.xml
API client library written to ./helloworld-v1-java.zip
</div></li></ol><p id="-kniikd_60">The client library bundle is written to the current directory unless you specify some other output directory using the <a href="#options" id="-kniikd_79" data-tooltip="You can use the following options:"><code class="code" id="-kniikd_80">output</code> option</a>.</p></section><section class="chapter"><h3 id="what-is-supported-in-the-client-library-bundle" data-toc="what-is-supported-in-the-client-library-bundle">What is supported in the client library bundle</h3><p id="-kniikd_81">The following are supported in the Java client bundle:</p><ul class="list _bullet" id="-kniikd_82"><li class="list__item" id="-kniikd_83"><p id="-kniikd_87">Java 5 and higher: standard (SE) and enterprise (EE).</p></li><li class="list__item" id="-kniikd_84"><p id="-kniikd_88"><a href="https://web.archive.org/web/20160424230828/https://code.google.com/p/google-api-java-client/wiki/Android" id="-kniikd_89" data-external="true" rel="noopener noreferrer" target="_blank">Android</a> 1.5 and higher.</p></li><li class="list__item" id="-kniikd_85"><p id="-kniikd_90"><a href="https://web.archive.org/web/20160424230828/https://code.google.com/p/google-api-java-client/wiki/GoogleAppEngine" id="-kniikd_91" data-external="true" rel="noopener noreferrer" target="_blank">Google App Engine</a>.</p></li><li class="list__item" id="-kniikd_86"><p id="-kniikd_92">The bundle also contains a <code class="code" id="-kniikd_93">readme.html</code> file that provides details on using the client library, which dependent jars are needed for each application type (web, installed, or Android application), and so forth.</p></li></ul></section></section><section class="chapter"><h2 id="command-line-syntax-for-the-endpoints-tool" data-toc="command-line-syntax-for-the-endpoints-tool">Command line syntax for the Endpoints tool</h2><p id="-kniikd_94">Before you use the Endpoints command line tool, you need to build your backend project because the tool requires compiled binaries. You can optionally supply the <code class="code" id="-kniikd_100">--war=</code> option pointing to the build target output directory containing the <code class="code" id="-kniikd_101">WEB-INF/appengine-web.xml</code> file and compiled java classes if you don't want to use the default (<code class="code" id="-kniikd_102">--war=&quot;./war&quot;</code>).</p><p id="-kniikd_95">The basic syntax is as follows:</p><div class="code-block" data-lang="none">
appengine-java-sdk-x.x.x/bin/endpoints.sh &lt;command&gt; &lt;options&gt; [class-name]
</div><p id="-kniikd_97">where:</p><ul class="list _bullet" id="-kniikd_98"><li class="list__item" id="-kniikd_103"><p id="-kniikd_106"><code class="code" id="-kniikd_107">&lt;command&gt;</code> is either <code class="code" id="-kniikd_108">get-client-lib</code> or <code class="code" id="-kniikd_109">get-discovery-doc</code>.</p></li><li class="list__item" id="-kniikd_104"><p id="-kniikd_110"><code class="code" id="-kniikd_111">&lt;options&gt;</code>, if supplied, is one or more items shown in the <a href="#options" id="-kniikd_112" data-tooltip="You can use the following options:">Options table</a>.</p></li><li class="list__item" id="-kniikd_105"><p id="-kniikd_113"><code class="code" id="-kniikd_114">[class name]</code> is the full class name of your API.</p></li></ul><p id="-kniikd_99"><span class="control" id="-kniikd_115">Note:</span> If your API is implemented from multiple classes, specify each of them separated by a space.</p></section><section class="chapter"><h2 id="options" data-toc="options">Options</h2><p id="-kniikd_116">You can use the following options:</p><div class="table-wrapper"><table class="wide" id="-kniikd_117"><thead><tr class="ijRowHead" id="-kniikd_119"><th id="-kniikd_128"><p>Option Name</p></th><th id="-kniikd_129"><p>Description</p></th><th id="-kniikd_130"><p>Example</p></th></tr></thead><tbody><tr id="-kniikd_120"><td id="-kniikd_131"><p><code class="code" id="-kniikd_134">build-system</code></p></td><td id="-kniikd_132"><p>Lets you specify which type of client bundle should be produced. Specify <code class="code" id="-kniikd_135">gradle</code> for a Gradle client bundle for Android, <code class="code" id="-kniikd_136">maven</code> for a Maven client bundle, or <code class="code" id="-kniikd_137">default</code> (or simply omit this option) for a bundle that contains only the dependency libraries and source jar.</p></td><td id="-kniikd_133"><p><code class="code" id="-kniikd_138">--build-system=gradle</code><br> <code class="code" id="-kniikd_140">-bs gradle</code></p></td></tr><tr id="-kniikd_121"><td id="-kniikd_141"><p><code class="code" id="-kniikd_144">classpath</code></p></td><td id="-kniikd_142"><p>Lets you specify the service class or classes from a path other than the default <code class="code" id="-kniikd_145">&lt;war-directory&gt;/WEB-INF/libs</code> and <code class="code" id="-kniikd_146">war-directory&gt;/WEB-INF/classes</code> <em id="-kniikd_147">in your build target directory</em>, where <code class="code" id="-kniikd_148">war-directory</code> is the directory specified in the <code class="code" id="-kniikd_149">war</code> option, or simply <code class="code" id="-kniikd_150">war</code> if that option is not supplied.</p></td><td id="-kniikd_143"><p><code class="code" id="-kniikd_151">--classpath=/usr/lib com.google.devrel.samples.ttt.spi.BoardV1</code><br> <code class="code" id="-kniikd_153">-cp /usr/lib com.google.devrel.samples.ttt.spi.BoardV1</code></p></td></tr><tr id="-kniikd_122"><td id="-kniikd_154"><p><code class="code" id="-kniikd_157">format</code></p></td><td id="-kniikd_155"><p>For <code class="code" id="-kniikd_158">get-discovery-doc</code> only. Sets the format of the generated discovery document. <br> Possible values: <code class="code" id="-kniikd_160">rest</code> or <code class="code" id="-kniikd_161">rpc</code>. <br> Default is <code class="code" id="-kniikd_163">rest</code>.</p></td><td id="-kniikd_156"><p><code class="code" id="-kniikd_164">--format=rpc</code><br> <code class="code" id="-kniikd_166">-f rpc</code></p></td></tr><tr id="-kniikd_123"><td id="-kniikd_167"><p><code class="code" id="-kniikd_170">war</code></p></td><td id="-kniikd_168"><p>Sets the path to the build target directory <code class="code" id="-kniikd_171">WEB-INF</code> that contains <code class="code" id="-kniikd_172">appengine-web.xml</code> and other metadata. <br> Default: <code class="code" id="-kniikd_174">./war</code>.</p></td><td id="-kniikd_169"><p><code class="code" id="-kniikd_175">--war=target/helloendpoints-1.0-SNAPSHOT</code><br> <code class="code" id="-kniikd_177">-w target/helloendpoints-1.0-SNAPSHOT</code></p></td></tr><tr id="-kniikd_124"><td id="-kniikd_178"><p><code class="code" id="-kniikd_181">output</code></p></td><td id="-kniikd_179"><p>Sets the directory where the output will be written to. <br> Default: the directory the tool is invoked from.</p></td><td id="-kniikd_180"><p><code class="code" id="-kniikd_183">--output=/mydir</code><br> <code class="code" id="-kniikd_185">-o /mydir</code></p></td></tr></tbody></table></div></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="generating-client-libraries.html" class="navigation-links__prev">Generating Client Libraries</a><a href="using-endpoints-in-clients.html" class="navigation-links__next">Using Endpoints in Clients</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>