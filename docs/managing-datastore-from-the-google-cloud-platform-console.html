<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:44.204030173"><title>Managing Datastore from the Google Cloud Platform Console | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"datastore-dashboard","level":0,"title":"Datastore dashboard","anchor":"#datastore-dashboard"},{"id":"indexes","level":0,"title":"Indexes","anchor":"#indexes"},{"id":"entities","level":0,"title":"Entities","anchor":"#entities"},{"id":"backup-restore-copy-and-delete-data","level":0,"title":"Backup/restore, copy, and delete data","anchor":"#backup-restore-copy-and-delete-data"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Managing Datastore from the Google Cloud Platform Console | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/managing-datastore-from-the-google-cloud-platform-console.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Managing Datastore from the Google Cloud Platform Console | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/managing-datastore-from-the-google-cloud-platform-console.html#webpage",
    "url": "writerside-documentation/managing-datastore-from-the-google-cloud-platform-console.html",
    "name": "Managing Datastore from the Google Cloud Platform Console | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Managing-Datastore-from-the-Google-Cloud-Platform-Console" data-main-title="Managing Datastore from the Google Cloud Platform Console" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Storing-Data.md|Storing Data///Google-Cloud-Datastore.md|Google Cloud Datastore"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Managing-Datastore-from-the-Google-Cloud-Platform-Console" id="Managing-Datastore-from-the-Google-Cloud-Platform-Console.md">Managing Datastore from the Google Cloud Platform Console</h1><p id="-nczez2_3"><a href="https://web.archive.org/web/20160424230546/https://cloud.google.com/appengine/docs/python/console/datastoreadmin" id="-nczez2_10" data-tooltip="View this page in the Python runtime" data-external="true" rel="noopener noreferrer" target="_blank">Python</a> |Java |PHP |<a href="https://web.archive.org/web/20160424230546/https://cloud.google.com/appengine/docs/go/console/datastoreadmin" id="-nczez2_11" data-tooltip="View this page in the Go runtime" data-external="true" rel="noopener noreferrer" target="_blank">Go</a></p><p id="-nczez2_4">You can <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore" id="-nczez2_12" data-external="true" rel="noopener noreferrer" target="_blank">manage your project's datastore</a> from the Cloud Platform Console.</p><ol class="list _decimal" id="-nczez2_5" type="1"><li class="list__item" id="-nczez2_13"><p id="-nczez2_17"><span id="-nczez2_18">Datastore dashboard</span></p></li><li class="list__item" id="-nczez2_14"><p id="-nczez2_19"><a href="#indexes" id="-nczez2_20" data-tooltip="The Indexes page shows a table of all indexes. You can create a new entity in this page.">Indexes</a></p></li><li class="list__item" id="-nczez2_15"><p id="-nczez2_21"><a href="#entities" id="-nczez2_22" data-tooltip="The Entities page lets you select an entity kind and construct a query by applying filters. You can also create a new entity in this page.">Entities</a></p></li><li class="list__item" id="-nczez2_16"><p id="-nczez2_23"><span id="-nczez2_25">Backup/restore, copy, and delete data</span></p><ol class="list _decimal" id="-nczez2_24" type="1"><li class="list__item" id="-nczez2_26"><p id="-nczez2_33"><span id="-nczez2_34">Enabling and disabling datastore writes</span></p></li><li class="list__item" id="-nczez2_27"><p id="-nczez2_35"><span id="-nczez2_36">Enabling Datastore Admin for an application</span></p></li><li class="list__item" id="-nczez2_28"><p id="-nczez2_37"><span id="-nczez2_38">Caveats on using data admin features</span></p></li><li class="list__item" id="-nczez2_29"><p id="-nczez2_39"><span id="-nczez2_40">Backup and restore data</span></p></li><li class="list__item" id="-nczez2_30"><p id="-nczez2_41"><span id="-nczez2_42">Restoring data</span></p></li><li class="list__item" id="-nczez2_31"><p id="-nczez2_43"><span id="-nczez2_44">Restoring data to another app</span></p></li><li class="list__item" id="-nczez2_32"><p id="-nczez2_45"><span id="-nczez2_46">Deleting entities in bulk</span></p></li></ol></li></ol><section class="chapter"><h2 id="datastore-dashboard" data-toc="datastore-dashboard">Datastore dashboard</h2><p id="-nczez2_47">You can view data for the entities in your application's Datastore, as well as statistics for the built-in and composite indexes from the <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore/stats" id="-nczez2_53" data-external="true" rel="noopener noreferrer" target="_blank">Cloud Datastore Dashboard</a>. The Statistics page displays data in various ways:</p><ul class="list _bullet" id="-nczez2_48"><li class="list__item" id="-nczez2_54"><p id="-nczez2_58">A pie chart that shows datastore space used by each property type (string, double, blob, etc.).</p></li><li class="list__item" id="-nczez2_55"><p id="-nczez2_59">A pie chart showing datastore space by entity kind.</p></li><li class="list__item" id="-nczez2_56"><p id="-nczez2_60">A table with the total space used by each property type. The &quot;Metadata&quot; property type represents space consumed by storing properties inside an entry that is not used by the properties directly. The &quot;Datastore Stats&quot; entity, if any, shows the space consumed by the statistics data itself in your datastore.</p></li><li class="list__item" id="-nczez2_57"><p id="-nczez2_61">A table showing total size, average size, entry count, and the size of all entities, and the built-in and composite indexes.</p></li></ul><p id="-nczez2_49">By default, the pie charts display statistics for all entities. You can restrict the pie charts to a particular entity kind by choosing from the drop- down menu.</p><p id="-nczez2_50">The statistics data is stored in your app's datastore. To make sure there's room for your app's data, Google App Engine will only store statistics if they consume less than 10 megabytes if namespaces are not used, or 20 megabytes if namespaces are used. If your app's stats go over the limit, kind-specific stats are not emitted. If subsequently these &quot;non-kind&quot; stats exceed the limits, then no stats are updated until stats storage drops below the size limitation. (Any previously reported statistics will remain.) You can determine whether this is happening by looking at the timestamps on stat records. If the timestamp gets older than 2 days, and stats in other applications are being updated regularly then this can indicate that you have run into stat storage size limits for your app.</p><p id="-nczez2_51">The space consumed by the statistics data increases in proportion to the number of different entity kinds and property types used by your app. The more different entities and properties used by your app, the more likely you are to reach the stat storage limit. Also, if you use namespaces, remember that each namespace contains a complete copy of the stats for that namespace.</p><p id="-nczez2_52"><span class="control" id="-nczez2_62">Note:</span> Datastore operations generated by Datastore Statistics count against your <a href="https://web.archive.org/web/20160424230546/https://cloud.google.com/appengine/docs/quotas#Datastore" id="-nczez2_63" data-external="true" rel="noopener noreferrer" target="_blank">application quota</a>.</p></section><section class="chapter"><h2 id="indexes" data-toc="indexes">Indexes</h2><p id="-nczez2_64">The <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore/indexes" id="-nczez2_65" data-external="true" rel="noopener noreferrer" target="_blank">Indexes page</a> shows a table of all indexes. You can create a new entity in this page.</p></section><section class="chapter"><h2 id="entities" data-toc="entities">Entities</h2><p id="-nczez2_66">The <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore/query" id="-nczez2_67" data-external="true" rel="noopener noreferrer" target="_blank">Entities</a> page lets you select an entity kind and construct a query by applying filters. You can also create a new entity in this page.</p></section><section class="chapter"><h2 id="backup-restore-copy-and-delete-data" data-toc="backup-restore-copy-and-delete-data">Backup/restore, copy, and delete data</h2><p id="-nczez2_68">The <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore/settings" id="-nczez2_76" data-external="true" rel="noopener noreferrer" target="_blank">Admin</a> page is used to access the Datastore Admin screen. From there you can perform bulk operations on the entities in your datastore.</p><section class="chapter"><h3 id="enabling-and-disabling-datastore-writes" data-toc="enabling-and-disabling-datastore-writes">Enabling and disabling datastore writes</h3><p id="-nczez2_77">On the Admin page you'll find a button to either disable or enable datastore writes, depending on the state of your project.</p></section><section class="chapter"><h3 id="enabling-datastore-admin-for-an-application" data-toc="enabling-datastore-admin-for-an-application">Enabling Datastore Admin for an application</h3><p id="-nczez2_78">In order to use the Datastore Admin features for your project, you must click <span class="control" id="-nczez2_79">Enable Datastore Admin</span> to enable it. (If Datastore Admin is already enabled, the button will read <span class="control" id="-nczez2_80">Disable Datastore Admin</span>.)</p></section><section class="chapter"><h3 id="caveats-on-using-data-admin-features" data-toc="caveats-on-using-data-admin-features">Caveats on using data admin features</h3><ul class="list _bullet" id="-nczez2_81"><li class="list__item" id="-nczez2_85"><p id="-nczez2_90">For copy, delete, and backups, recent updates may not be considered.</p></li><li class="list__item" id="-nczez2_86"><p id="-nczez2_91">All Datastore Admin operations occur within your applications, and thus count against your quota.</p></li><li class="list__item" id="-nczez2_87"><p id="-nczez2_92">We strongly recommend that you set your application to read-only mode during a backup or restore.</p></li><li class="list__item" id="-nczez2_88"><p id="-nczez2_93">When copying entities to a remote target or restoring from backup all entities with the same keys will be overridden. Operations can be performed multiple times without the risk of creating duplicates. Be aware that the copy/restore operations do not delete extra data.</p></li><li class="list__item" id="-nczez2_89"><p id="-nczez2_94">If a non-default queue is chosen for backup/restore, it must not have any target other than <code class="code" id="-nczez2_95">ah-builtin-python-bundle</code> specified in <code class="code" id="-nczez2_96">queue.yaml</code>.</p></li></ul><p id="-nczez2_82"><span class="control" id="-nczez2_97">Warning:</span> Backup, restore, copy, and delete operations are executed within your application, and thus count against your <a href="https://web.archive.org/web/20160424230546/https://cloud.google.com/appengine/docs/quotas#Datastore" id="-nczez2_98" data-external="true" rel="noopener noreferrer" target="_blank">quota</a>.</p><p id="-nczez2_83">Very frequent backups often lead to higher costs. When you run a Datastore Admin job, you are actually running an underlying MapReduce job. MapReduce jobs cause frontend instance hours to increase on top of Storage operations and Storage usage. To keep an eye on your resource usage:</p><ol class="list _decimal" id="-nczez2_84" type="1"><li class="list__item" id="-nczez2_99"><p id="-nczez2_101">Visit the Cloud Platform Console <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/appengine" id="-nczez2_102" data-external="true" rel="noopener noreferrer" target="_blank">Dashboard page</a></p></li><li class="list__item" id="-nczez2_100"><p id="-nczez2_103">Use the pulldown menus at the top of the page to select the <code class="code" id="-nczez2_104">default</code> module and the <code class="code" id="-nczez2_105">ah-builtin-python-bundle</code> version</p></li></ol></section><section class="chapter"><h3 id="backup-and-restore-data" data-toc="backup-and-restore-data">Backup and restore data</h3><p id="-nczez2_106">You can back up all entities or just the selected kinds of entities, and you can restore from one of these backups when you need to. The backup and restore feature is intended to help you recover from accidental deletes of data or to enable you to export data.</p><p id="-nczez2_107">Note that the backup does not contain any indexes. When you restore, the required indexes are automatically rebuilt using the index definitions you uploaded with your application.</p><p id="-nczez2_108">You can also use backup files to export your data to other Cloud Platform services, such as BigQuery. Use Google Cloud Storage for backups.</p><p id="-nczez2_109">When you restore from a backup, any new entities added since the backup are retained, and entities that existed at backup-time and that were modified after the backup are overwritten with values from the backup. You can restore all data from a backup or you can restore specific entity kinds from the backup. In addition, you can also use this feature to restore a backup of one app's data to some other app, provided that you use Google Cloud Storage for your backups.</p><p id="-nczez2_110"><span class="control" id="-nczez2_115">Note:</span> The backup process does not include values stored in Blobstore or Cloud Storage. Also, the Datastore <code class="code" id="-nczez2_116">BlobInfo</code> records that correspond with Blobstore values are not included in the backup. Datastore entity properties of the type <code class="code" id="-nczez2_117">BlobKey</code> are backed up, even though they rely on the corresponding Blobstore values having their original keys. Datastore property values of type <code class="code" id="-nczez2_118">Blob</code> are unrelated to the Blobstore, and are included in the backup.</p><section class="chapter"><h4 id="backing-up-data" data-toc="backing-up-data">Backing up data</h4><p id="-nczez2_119">To create a backup file for future data restores for exporting:</p><ol class="list _decimal" id="-nczez2_120" type="1"><li class="list__item" id="-nczez2_121"><p id="-nczez2_131">If you haven't already, you'll need to do the following to set up a Cloud Storage bucket for your backups:</p><ol class="list _decimal" id="-nczez2_132" type="1"><li class="list__item" id="-nczez2_133"><p id="-nczez2_135"><a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/billing" id="-nczez2_136" data-external="true" rel="noopener noreferrer" target="_blank">Enable billing</a> for your project.</p></li><li class="list__item" id="-nczez2_134"><p id="-nczez2_137">Click <span class="control" id="-nczez2_138">Create bucket</span> in the <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/storage/browser" id="-nczez2_139" data-external="true" rel="noopener noreferrer" target="_blank">Storage Browser</a> for your project.</p></li></ol></li><li class="list__item" id="-nczez2_122"><p id="-nczez2_140">From the <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore/settings" id="-nczez2_141" data-external="true" rel="noopener noreferrer" target="_blank">Admin</a> page, click <span class="control" id="-nczez2_142">Open Datastore Admin</span>.</p></li><li class="list__item" id="-nczez2_123"><p id="-nczez2_143">Select the entity kind(s) that you wish to backup.</p></li><li class="list__item" id="-nczez2_124"><p id="-nczez2_144">Click <span class="control" id="-nczez2_145">Backup Entities</span> to display the backup form.</p></li><li class="list__item" id="-nczez2_125"><p id="-nczez2_146">Notice that the default queue is used for the backup job; you can use this in most cases. If you need to change this to another queue, make sure the queue used does not have any target specified in <code class="code" id="-nczez2_147">queue.yaml</code> other than <code class="code" id="-nczez2_148">ah-builtin-python-bundle</code>.</p></li><li class="list__item" id="-nczez2_126"><p id="-nczez2_149">Notice that a backup name is supplied and that it includes a datestamp. You must change this value if you make more than one backup per day because a backup will not be made if a backup of the same name already exists.</p></li><li class="list__item" id="-nczez2_127"><p id="-nczez2_150">Select <span class="emphasis" id="-nczez2_151">Google Cloud Storage</span> as the backup storage location.</p></li><li class="list__item" id="-nczez2_128"><p id="-nczez2_152">When you choose Cloud Storage, you are prompted for the bucket name where the backups are to be stored, in the format <code class="code" id="-nczez2_154">/my_bucket_name</code>. You can optionally specify the bucket name suffixed with a directory structure (e.g., <code class="code" id="-nczez2_155">/bucket_name/backups/backup1</code>): If those folders don't already exist, they will be created.</p><p id="-nczez2_153"><span class="control" id="-nczez2_156">Note:</span> In older versions of App Engine, users were required to use the format <code class="code" id="-nczez2_157">/gs/bucket_name</code>. While the prefix <code class="code" id="-nczez2_158">/gs/</code> will continue to work, it is no longer required.</p></li><li class="list__item" id="-nczez2_129"><p id="-nczez2_159">Start the backup jobs by clicking <span class="control" id="-nczez2_160">Backup Entities</span>. Notice that a job status page is displayed.</p></li><li class="list__item" id="-nczez2_130"><p id="-nczez2_161">If you disabled datastore writes, re-enable them.</p></li></ol></section><section class="chapter"><h4 id="aborting-a-backup" data-toc="aborting-a-backup">Aborting a backup</h4><p id="-nczez2_162">If Backup jobs are currently running, they appear in a <span class="control" id="-nczez2_164">Pending Backups</span> list in the Datastore Admin screen. You can stop these running backups by selecting the backup in the list and clicking <span class="control" id="-nczez2_165">Abort</span>. When you abort a backup job, App Engine attempts to delete backup data that has been saved up to that point. However, in some cases, some files may remain after the abort. You can locate these files in the location you chose for your backups (in Google Cloud Storage) and safely delete them after the abort completes. The names of such files will start with the following pattern: <code class="code" id="-nczez2_166">datastore_backup__your_backup_name_</code>.</p><p id="-nczez2_163"><span class="control" id="-nczez2_167">Note:</span> Currently, if you abort or delete a backup, App Engine does not delete files from Google Cloud Storage. You must manually delete backup files from Google Cloud Storage.</p></section><section class="chapter"><h4 id="finding-information-about-a-backup" data-toc="finding-information-about-a-backup">Finding information about a backup</h4><p id="-nczez2_168">You may want to find out details about a backup, such as which entity kinds it contains, where it was saved (in Google Cloud Storage), and its starting and ending time. To display this backup information:</p><ol class="list _decimal" id="-nczez2_169" type="1"><li class="list__item" id="-nczez2_170"><p id="-nczez2_173">Select one or more backups in the <span class="control" id="-nczez2_174">Backups</span> or <span class="control" id="-nczez2_175">Pending Backups</span> list.</p></li><li class="list__item" id="-nczez2_171"><p id="-nczez2_176">Click <span class="control" id="-nczez2_177">Info</span> to display information for those backups.</p></li><li class="list__item" id="-nczez2_172"><p id="-nczez2_178">Click <span class="control" id="-nczez2_179">Back</span> to return to the main Datastore Admin screen</p></li></ol></section><section class="chapter"><h4 id="scheduled-backups" data-toc="scheduled-backups">Scheduled backups</h4><p id="-nczez2_180">You can run scheduled backups using the App Engine Cron service. For details, see <a href="https://web.archive.org/web/20160424230546/https://cloud.google.com/appengine/articles/scheduled_backups.html" id="-nczez2_181" data-external="true" rel="noopener noreferrer" target="_blank">Scheduled Backups</a>.</p></section></section><section class="chapter"><h3 id="restoring-data" data-toc="restoring-data">Restoring data</h3><p id="-nczez2_182">To restore from a backup:</p><ol class="list _decimal" id="-nczez2_183" type="1"><li class="list__item" id="-nczez2_184"><p id="-nczez2_192">Optionally, <span id="-nczez2_193">disable Datastore writes</span> for your app. (It's normally a good idea to do this to avoid conflicts between the restore and any new data written to the Datastore.)</p></li><li class="list__item" id="-nczez2_185"><p id="-nczez2_194">Go to the <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore/settings" id="-nczez2_195" data-external="true" rel="noopener noreferrer" target="_blank">Admin</a> page and click <span class="control" id="-nczez2_196">Open Datastore Admin</span>.</p></li><li class="list__item" id="-nczez2_186"><p id="-nczez2_197">In the list of available backups, select the backup that you want to restore from.</p></li><li class="list__item" id="-nczez2_187"><p id="-nczez2_198">Click <span class="control" id="-nczez2_199">Restore</span>.</p></li><li class="list__item" id="-nczez2_188"><p id="-nczez2_200">In the advisory page that is displayed, notice the list of entities with checkboxes. By default, all of the entities will be restored. Uncheck the checkbox next to each entity that you don't want to restore.</p></li><li class="list__item" id="-nczez2_189"><p id="-nczez2_201">Also in the advisory page, notice that the <a href="https://web.archive.org/web/20160424230546/https://cloud.google.com/appengine/docs/java/taskqueue/#Java_The_default_queue" id="-nczez2_202" data-external="true" rel="noopener noreferrer" target="_blank">default queue</a>, with its pre-configured performance settings, is used for the restore job. Change this to another queue that you have configured differently if you need different queue performance characteristics, making sure the queue chosen does not have any target specified in <code class="code" id="-nczez2_203">queue.yaml</code> other than <code class="code" id="-nczez2_204">ah-builtin-python-bundle</code>.</p></li><li class="list__item" id="-nczez2_190"><p id="-nczez2_205">Start the restore by clicking <span class="control" id="-nczez2_206">Restore</span>. Notice that a job status page is displayed.</p></li><li class="list__item" id="-nczez2_191"><p id="-nczez2_207">If you disabled writes, <span id="-nczez2_208">re-enable Datastore writes</span> for your application.</p></li></ol></section><section class="chapter"><h3 id="restoring-data-to-another-app" data-toc="restoring-data-to-another-app">Restoring data to another app</h3><p id="-nczez2_209">If you back up your data using Google Cloud Storage, you can restore backups to apps other than the one used to create the backup.</p><p id="-nczez2_210">To restore backup data from one app to a different app:</p><ol class="list _decimal" id="-nczez2_211" type="1"><li class="list__item" id="-nczez2_212"><p id="-nczez2_223">Using the <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/" id="-nczez2_224" data-external="true" rel="noopener noreferrer" target="_blank">Google Cloud Platform Console</a>, locate the project that has the bucket used for your backups and add the target app (the app you are restoring to) to the project team with Edit permissions.</p></li><li class="list__item" id="-nczez2_213"><p id="-nczez2_225">Make a new backup in your applications whose data is to be copied. The permissions set in the previous step are not retroactive to existing backups, so the target app will not be able to access those earlier backups. The target app can access only backups made after it was given permissions.</p></li><li class="list__item" id="-nczez2_214"><p id="-nczez2_226">Optionally, <span id="-nczez2_227">disable Datastore writes</span> for your target app. (This is normally a good idea, to avoid conflicts between the restore and any new data written to the Datastore.)</p></li><li class="list__item" id="-nczez2_215"><p id="-nczez2_228">Go to the <a href="https://web.archive.org/web/20160424230546/https://console.cloud.google.com/project/_/datastore/settings" id="-nczez2_229" data-external="true" rel="noopener noreferrer" target="_blank">Admin</a> page for the target app and click <span class="control" id="-nczez2_230">Open Datastore Admin</span>.</p></li><li class="list__item" id="-nczez2_216"><p id="-nczez2_231">In the textbox next to the button labelled <span class="control" id="-nczez2_232">Import Backup Information</span> specify the bucket containing the backup, in the format <code class="code" id="-nczez2_233">/gs/my_bucket</code>. This will result in a displayed list of all the backups in that bucket. Alternatively, supply the file handle for a specific backup; the handle can be obtained from the source application by selecting the backup and clicking <span class="control" id="-nczez2_234">Info</span>; the file handle appears next to the label <span class="control" id="-nczez2_235">Handle</span>.</p></li><li class="list__item" id="-nczez2_217"><p id="-nczez2_236">Click <span class="control" id="-nczez2_237">Import Backup Information</span>.</p></li><li class="list__item" id="-nczez2_218"><p id="-nczez2_238">The resulting selection page shows the available backups for the bucket you specified, unless you specified a backup by its handle. Select the desired backup and click one of the following:</p><ul class="list _bullet" id="-nczez2_239"><li class="list__item" id="-nczez2_240"><p id="-nczez2_242"><span class="control" id="-nczez2_243">Add to Backup List</span> if you want this backup to be retained in the list of available backups for your app.</p></li><li class="list__item" id="-nczez2_241"><p id="-nczez2_244"><span class="control" id="-nczez2_245">Restore From Backup</span> if you want to restore from this backup but do not want the backup displayed in the list of available backups for your app.</p></li></ul></li><li class="list__item" id="-nczez2_219"><p id="-nczez2_246">In the advisory page that is displayed, notice the list of entities with checkboxes. By default, all of the entities will be restored. Uncheck the checkbox next to each entity that you don't want to restore.</p></li><li class="list__item" id="-nczez2_220"><p id="-nczez2_247">Also in the advisory page, notice that the <a href="https://web.archive.org/web/20160424230546/https://cloud.google.com/appengine/docs/java/taskqueue/#Java_The_default_queue" id="-nczez2_248" data-external="true" rel="noopener noreferrer" target="_blank">default queue</a>, with its pre-configured performance settings, is used for the restore job. Change this to another queue that you have configured differently if you need different queue performance characteristics.</p></li><li class="list__item" id="-nczez2_221"><p id="-nczez2_249">Start the restore by clicking <span class="control" id="-nczez2_250">Restore</span>. Notice that a job status page is displayed.</p></li><li class="list__item" id="-nczez2_222"><p id="-nczez2_251">If you disabled writes, <span id="-nczez2_252">re-enable Datastore writes</span> for your application.</p></li></ol></section><section class="chapter"><h3 id="deleting-entities-in-bulk" data-toc="deleting-entities-in-bulk">Deleting entities in bulk</h3><p id="-nczez2_253">On the Datastore Admin page, you can delete all entities of a kind, or all entities of all kinds, in all namespaces. To use this feature, you must <span id="-nczez2_254">enable <span class="control" id="-nczez2_256">Datastore Admin</span></span> for your project. Then open the Datastore Admin page, select one or more entity kinds, and press <span class="control" id="-nczez2_255">Delete Entities</span>.</p></section></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="datastore-callbacks.html" class="navigation-links__prev">Datastore Callbacks</a><a href="java-datastore-index-configuration.html" class="navigation-links__next">Java Datastore Index Configuration</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>