<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:45.782870401"><title>Entities, Properties, and Keys | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"contents","level":0,"title":"Contents","anchor":"#contents"},{"id":"kinds-and-identifiers","level":0,"title":"Kinds and identifiers","anchor":"#kinds-and-identifiers"},{"id":"ancestor-paths","level":0,"title":"Ancestor paths","anchor":"#ancestor-paths"},{"id":"transactions-and-entity-groups","level":0,"title":"Transactions and entity groups","anchor":"#transactions-and-entity-groups"},{"id":"properties-and-value-types","level":0,"title":"Properties and value types","anchor":"#properties-and-value-types"},{"id":"working-with-entities","level":0,"title":"Working with entities","anchor":"#working-with-entities"},{"id":"understanding-write-costs","level":0,"title":"Understanding write costs","anchor":"#understanding-write-costs"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Entities, Properties, and Keys | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/entities-properties-and-keys.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Entities, Properties, and Keys | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/entities-properties-and-keys.html#webpage",
    "url": "writerside-documentation/entities-properties-and-keys.html",
    "name": "Entities, Properties, and Keys | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Entities--Properties--and-Keys" data-main-title="Entities, Properties, and Keys" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Storing-Data.md|Storing Data///Google-Cloud-Datastore.md|Google Cloud Datastore"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Entities--Properties--and-Keys" id="Entities--Properties--and-Keys.md">Entities, Properties, and Keys</h1><p id="-wp6ekx_3">Data objects in App Engine Datastore are known as <span class="emphasis" id="-wp6ekx_20">entities</span>. An entity has one or more named <span class="emphasis" id="-wp6ekx_21">properties</span>, each of which can have one or more values. Entities of the same kind need not have the same properties, and an entity's values for a given property need not all be of the same data type. (If necessary, an application can establish and enforce such restrictions in its own data model.)</p><p id="-wp6ekx_4">Datastore supports a variety of <span id="-wp6ekx_22">data types for property values</span>. These include, among others:</p><ul class="list _bullet" id="-wp6ekx_5"><li class="list__item" id="-wp6ekx_23"><p id="-wp6ekx_28">Integers</p></li><li class="list__item" id="-wp6ekx_24"><p id="-wp6ekx_29">Floating-point numbers</p></li><li class="list__item" id="-wp6ekx_25"><p id="-wp6ekx_30">Strings</p></li><li class="list__item" id="-wp6ekx_26"><p id="-wp6ekx_31">Dates</p></li><li class="list__item" id="-wp6ekx_27"><p id="-wp6ekx_32">Binary data</p></li></ul><p id="-wp6ekx_6">For a full list of types, see <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/entities#Java_Properties_and_value_types" id="-wp6ekx_33" data-external="true" rel="noopener noreferrer" target="_blank">Properties and value types</a>.</p><p id="-wp6ekx_7">Each entity in Datastore has a <span class="emphasis" id="-wp6ekx_34">key</span> that uniquely identifies it. The key consists of the following components:</p><ul class="list _bullet" id="-wp6ekx_8"><li class="list__item" id="-wp6ekx_35"><p id="-wp6ekx_39">The <span class="emphasis" id="-wp6ekx_40">namespace</span> of the entity, which allows for <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/multitenancy/" id="-wp6ekx_41" data-external="true" rel="noopener noreferrer" target="_blank">multitenancy</a></p></li><li class="list__item" id="-wp6ekx_36"><p id="-wp6ekx_42">The <span id="-wp6ekx_43"><span class="emphasis" id="-wp6ekx_44">kind</span></span> of the entity, which categorizes it for the purpose of Datastore queries</p></li><li class="list__item" id="-wp6ekx_37"><p id="-wp6ekx_45">An <span id="-wp6ekx_47"><span class="emphasis" id="-wp6ekx_48">identifier</span></span> for the individual entity, which can be either</p><ul class="list _bullet" id="-wp6ekx_46"><li class="list__item" id="-wp6ekx_49"><p id="-wp6ekx_51">a <span class="emphasis" id="-wp6ekx_52">key name</span> string</p></li><li class="list__item" id="-wp6ekx_50"><p id="-wp6ekx_53">an integer <span class="emphasis" id="-wp6ekx_54">numeric ID</span></p></li></ul></li><li class="list__item" id="-wp6ekx_38"><p id="-wp6ekx_55">An optional <span id="-wp6ekx_56"><span class="emphasis" id="-wp6ekx_57">ancestor path</span></span> locating the entity within Datastore hierarchy</p></li></ul><p id="-wp6ekx_9">Don't name a property &quot;key.&quot; This name is reserved for a special property used to store the Model key. Though it may work locally, a property named &quot;key&quot; will prevent deployment to App Engine.</p><p id="-wp6ekx_10">An application has access only to entities it has created itself; it can't access data belonging to other applications. An application can fetch an individual entity from Datastore using the entity's key, or it can retrieve one or more entities by issuing a <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/queries" id="-wp6ekx_58" data-external="true" rel="noopener noreferrer" target="_blank"><span class="emphasis" id="-wp6ekx_59">query</span></a> based on the entities' keys or property values.</p><p id="-wp6ekx_11">The Java App Engine SDK includes a simple Java API, provided in the package <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/package-summary" id="-wp6ekx_60" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_61">com.google.appengine.api.datastore</code></a>, that supports the features of Datastore directly. All of the examples in this document are based on this low-level Java API; you can choose to use it either directly in your application or as a basis on which to build your own data management layer.</p><p id="-wp6ekx_12">Datastore itself does not enforce any restrictions on the structure of entities, such as whether a given property has a value of a particular type; this task is left to the application.</p><section class="chapter"><h2 id="contents" data-toc="contents">Contents</h2><ol class="list _decimal" id="-wp6ekx_62" type="1"><li class="list__item" id="-wp6ekx_63"><p id="-wp6ekx_69"><span id="-wp6ekx_70">Kinds and identifiers</span></p></li><li class="list__item" id="-wp6ekx_64"><p id="-wp6ekx_71"><span id="-wp6ekx_72">Ancestor paths</span></p></li><li class="list__item" id="-wp6ekx_65"><p id="-wp6ekx_73"><span id="-wp6ekx_74">Transactions and entity groups</span></p></li><li class="list__item" id="-wp6ekx_66"><p id="-wp6ekx_75"><span id="-wp6ekx_76">Properties and value types</span></p></li><li class="list__item" id="-wp6ekx_67"><p id="-wp6ekx_77"><span id="-wp6ekx_79">Working with entities</span></p><ol class="list _decimal" id="-wp6ekx_78" type="1"><li class="list__item" id="-wp6ekx_80"><p id="-wp6ekx_89"><span id="-wp6ekx_90">Creating an entity</span></p></li><li class="list__item" id="-wp6ekx_81"><p id="-wp6ekx_91"><span id="-wp6ekx_92">Retrieving an entity</span></p></li><li class="list__item" id="-wp6ekx_82"><p id="-wp6ekx_93"><span id="-wp6ekx_94">Updating an entity</span></p></li><li class="list__item" id="-wp6ekx_83"><p id="-wp6ekx_95"><span id="-wp6ekx_96">Deleting an entity</span></p></li><li class="list__item" id="-wp6ekx_84"><p id="-wp6ekx_97"><span id="-wp6ekx_98">Embedded entities</span></p></li><li class="list__item" id="-wp6ekx_85"><p id="-wp6ekx_99"><span id="-wp6ekx_100">Repeated properties</span></p></li><li class="list__item" id="-wp6ekx_86"><p id="-wp6ekx_101"><span id="-wp6ekx_102">Batch operations</span></p></li><li class="list__item" id="-wp6ekx_87"><p id="-wp6ekx_103"><span id="-wp6ekx_104">Generating keys</span></p></li><li class="list__item" id="-wp6ekx_88"><p id="-wp6ekx_105"><span id="-wp6ekx_106">Using an empty list</span></p></li></ol></li><li class="list__item" id="-wp6ekx_68"><p id="-wp6ekx_107"><span id="-wp6ekx_108">Understanding write costs</span></p></li></ol></section><section class="chapter"><h2 id="kinds-and-identifiers" data-toc="kinds-and-identifiers">Kinds and identifiers</h2><p id="-wp6ekx_109">Each Datastore entity is of a particular <span class="emphasis" id="-wp6ekx_118">kind,</span> which categorizes the entity for the purpose of queries: for instance, a human resources application might represent each employee at a company with an entity of kind <code class="code" id="-wp6ekx_119">Employee</code>. In the Java Datastore API, you specify an entity's kind when you create it, as an argument to the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Entity#Entity(java.lang.String)" id="-wp6ekx_120" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_122">Entity()</code></a> constructor. All kind names that begin with two underscores (<code class="code" id="-wp6ekx_121">__</code>) are reserved and may not be used.</p><p id="-wp6ekx_110">The following example creates an entity of kind <code class="code" id="-wp6ekx_123">Employee</code>, populates its property values, and saves it to Datastore:</p><div class="code-block" data-lang="none">
import java.util.Date;
import com.google.appengine.api.datastore.DatastoreService;
import com.google.appengine.api.datastore.DatastoreServiceFactory;
import com.google.appengine.api.datastore.Entity;


DatastoreService datastore = DatastoreServiceFactory.getDatastoreService();


Entity employee = new Entity(&quot;Employee&quot;);

employee.setProperty(&quot;firstName&quot;, &quot;Antonio&quot;);
employee.setProperty(&quot;lastName&quot;, &quot;Salieri&quot;);

Date hireDate = new Date();
employee.setProperty(&quot;hireDate&quot;, hireDate);

employee.setProperty(&quot;attendedHrTraining&quot;, true);


datastore.put(employee);
</div><p id="-wp6ekx_112">In addition to a kind, each entity has an <span class="emphasis" id="-wp6ekx_124">identifier</span>, assigned when the entity is created. Because it is part of the entity's key, the identifier is associated permanently with the entity and cannot be changed. It can be assigned in either of two ways: - Your application can specify its own <span class="emphasis" id="-wp6ekx_125">key name</span> string for the entity. - You can have Datastore automatically assign the entity an integer <span class="emphasis" id="-wp6ekx_126">numeric ID</span>.</p><p id="-wp6ekx_113">To assign an entity a key name, provide the name as the second argument to the constructor when you create the entity:</p><div class="code-block" data-lang="none">
Entity employee = new Entity(&quot;Employee&quot;, &quot;asalieri&quot;);
</div><p id="-wp6ekx_115">To have Datastore assign a numeric ID automatically, omit this argument:</p><div class="code-block" data-lang="none">
Entity employee = new Entity(&quot;Employee&quot;);
</div><section class="chapter"><h3 id="assigning-identifiers" data-toc="assigning-identifiers">Assigning identifiers</h3><p id="-wp6ekx_127">The Datastore can be configured to generate auto IDs using <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/config/appconfig#Java_appengine_web_xml_Auto_ID_policy" id="-wp6ekx_133" data-external="true" rel="noopener noreferrer" target="_blank">two different auto id policies</a>:</p><ul class="list _bullet" id="-wp6ekx_128"><li class="list__item" id="-wp6ekx_134"><p id="-wp6ekx_136">The <code class="code" id="-wp6ekx_137">default</code> policy generates a random sequence of unused IDs that are approximately uniformly distributed. Each ID can be up to 16 decimal digits long.</p></li><li class="list__item" id="-wp6ekx_135"><p id="-wp6ekx_138">The <code class="code" id="-wp6ekx_139">legacy</code> policy creates a sequence of non-consecutive smaller integer IDs.</p></li></ul><p id="-wp6ekx_129">If you want to display the entity IDs to the user, and/or depend upon their order, the best thing to do is use manual allocation.</p><p id="-wp6ekx_130"><span class="control" id="-wp6ekx_140">Note:</span> Instead of using key name strings or generating numeric IDs automatically, advanced applications may sometimes wish to assign their own numeric IDs manually to the entities they create. Be aware, however, that there is nothing to prevent Datastore from assigning one of your manual numeric IDs to another entity. The only way to avoid such conflicts is to have your application obtain a block of IDs with the methods <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#allocateIds(com.google.appengine.api.datastore.Key,%20java.lang.String,%20long)" id="-wp6ekx_141" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_143">DatastoreService.allocateIds()</code></a> or <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/AsyncDatastoreService#allocateIds(com.google.appengine.api.datastore.Key,%20java.lang.String,%20long)" id="-wp6ekx_142" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_144">AsyncDatastoreService.allocateIds()</code></a>. The Datastore's automatic ID generator will keep track of IDs that have been allocated with these methods and will avoid reusing them for another entity, so you can safely use such IDs without conflict.</p><p id="-wp6ekx_131">Datastore generates a random sequence of unused IDs that are approximately uniformly distributed. Each ID can be up to 16 decimal digits long.</p><p id="-wp6ekx_132">System-allocated ID values are guaranteed unique to the entity group. If you copy an entity from one entity group or namespace to another and wish to preserve the ID part of the key, be sure to allocate the ID first to prevent Datastore from selecting that ID for a future assignment.</p></section></section><section class="chapter"><h2 id="ancestor-paths" data-toc="ancestor-paths">Ancestor paths</h2><p id="-wp6ekx_145">Entities in the Datastore form a hierarchically structured space similar to the directory structure of a file system. When you create an entity, you can optionally designate another entity as its <span class="emphasis" id="-wp6ekx_156">parent;</span> the new entity is a <span class="emphasis" id="-wp6ekx_157">child</span> of the parent entity (note that unlike in a file system, the parent entity need not actually exist). An entity without a parent is a <span class="emphasis" id="-wp6ekx_158">root entity.</span> The association between an entity and its parent is permanent, and cannot be changed once the entity is created. The Datastore will never assign the same numeric ID to two entities with the same parent, or to two root entities (those without a parent).</p><p id="-wp6ekx_146">An entity's parent, parent's parent, and so on recursively, are its <span class="emphasis" id="-wp6ekx_159">ancestors;</span> its children, children's children, and so on, are its <span class="emphasis" id="-wp6ekx_160">descendants.</span> A root entity and all of its descendants belong to the same <span class="emphasis" id="-wp6ekx_161">entity group.</span> The sequence of entities beginning with a root entity and proceeding from parent to child, leading to a given entity, constitute that entity's <span class="emphasis" id="-wp6ekx_162">ancestor path.</span> The complete key identifying the entity consists of a sequence of kind-identifier pairs specifying its ancestor path and terminating with those of the entity itself:</p><div class="code-block" data-lang="none">
[Person:GreatGrandpa, Person:Grandpa, Person:Dad, Person:Me]
</div><p id="-wp6ekx_148">For a root entity, the ancestor path is empty and the key consists solely of the entity's own kind and identifier:</p><div class="code-block" data-lang="none">
[Person:GreatGrandpa]
</div><p id="-wp6ekx_150">This concept is illustrated by the following diagram:</p><figure id="-wp6ekx_151"><img alt="Entity group" src="https://web.archive.org/web/20160424230911im_/https://cloud.google.com/images/products/clouddatastore/entity-group.png" title="Entity group" width="450"></figure><p id="-wp6ekx_152">To designate an entity's parent, provide the parent entity's key as an argument to the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Entity#Entity(java.lang.String,%20com.google.appengine.api.datastore.Key)" id="-wp6ekx_163" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_165">Entity()</code></a> constructor when creating the child entity. You can get the key by calling the parent entity's <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Entity#getKey()" id="-wp6ekx_164" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_166">getKey()</code></a> method:</p><div class="code-block" data-lang="none">
Entity employee = new Entity(&quot;Employee&quot;);
datastore.put(employee);

Entity address = new Entity(&quot;Address&quot;, employee.getKey());
datastore.put(address);
</div><p id="-wp6ekx_154">If the new entity also has a key name, provide the key name as the second argument to the <code class="code" id="-wp6ekx_167">Entity()</code> constructor and the key of the parent entity as the third argument:</p><div class="code-block" data-lang="none">
Entity address = new Entity(&quot;Address&quot;, &quot;addr1&quot;, employee.getKey());
</div></section><section class="chapter"><h2 id="transactions-and-entity-groups" data-toc="transactions-and-entity-groups">Transactions and entity groups</h2><p id="-wp6ekx_168">Every attempt to create, update, or delete an entity takes place in the context of a <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/transactions" id="-wp6ekx_174" data-external="true" rel="noopener noreferrer" target="_blank"><span class="emphasis" id="-wp6ekx_175">transaction</span></a>. A single transaction can include any number of such operations. To maintain the consistency of the data, the transaction ensures that all of the operations it contains are applied to Datastore as a unit or, if any of the operations fails, that none of them are applied. Furthermore, all strongly-consistent reads (ancestory queries or gets) performed within the same transaction observe a consistent snapshot of the data.</p><p id="-wp6ekx_169"><span class="control" id="-wp6ekx_176">Note:</span> If your application receives an exception when attempting to commit a transaction, it does not necessarily mean that the transaction has failed. It is possible to receive a <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreTimeoutException" id="-wp6ekx_177" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_179">DatastoreTimeoutException</code></a> or <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreFailureException" id="-wp6ekx_178" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_180">DatastoreFailureException</code></a> even when a transaction has been committed and will eventually be applied successfully. Whenever possible, structure your Datastore transactions so that the end result will be unaffected if the same transaction is applied more than once.</p><p id="-wp6ekx_170">As mentioned above, an entity group is a set of entities connected through ancestry to a common root element. The organization of data into entity groups can limit what transactions can be performed:</p><ul class="list _bullet" id="-wp6ekx_171"><li class="list__item" id="-wp6ekx_181"><p id="-wp6ekx_184">All the data accessed by a transaction must be contained in at most 25 entity groups.</p></li><li class="list__item" id="-wp6ekx_182"><p id="-wp6ekx_185">If you want to use queries within a transaction, your data must be organized into entity groups in such a way that you can specify ancestor filters that will match the right data.</p></li><li class="list__item" id="-wp6ekx_183"><p id="-wp6ekx_186">There is a write throughput limit of about one transaction per second within a single entity group. This limitation exists because Datastore performs masterless, synchronous replication of each entity group over a wide geographic area to provide high reliability and fault tolerance.</p></li></ul><p id="-wp6ekx_172">In many applications, it is acceptable to use eventual consistency (i.e. a non-ancestor query spanning multiple entity groups, which may at times return slightly stale data) when obtaining a broad view of unrelated data, and then to use strong consistency (an ancestory query, or a <code class="code" id="-wp6ekx_187">get</code> of a single entity) when viewing or editing a single set of highly related data. In such applications, it is usually a good approach to use a separate entity group for each set of highly related data. For more information, see <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/structuring_for_strong_consistency" id="-wp6ekx_188" data-external="true" rel="noopener noreferrer" target="_blank">Structuring for Strong Consistency</a>.</p><p id="-wp6ekx_173"><span class="control" id="-wp6ekx_189">Note:</span> Avoid storing sensitive information in the entity group key. Entity group keys may be retained after the entity group is deleted in order to provide fast and reliable service across Datastore.</p></section><section class="chapter"><h2 id="properties-and-value-types" data-toc="properties-and-value-types">Properties and value types</h2><p id="-wp6ekx_190">The data values associated with an entity consist of one or more <span class="emphasis" id="-wp6ekx_204">properties.</span> Each property has a name and one or more values. A property can have values of more than one type, and two entities can have values of different types for the same property. Properties can be indexed or unindexed (queries that order or filter on a property <span class="emphasis" id="-wp6ekx_205">P</span> will ignore entities where <span class="emphasis" id="-wp6ekx_206">P</span> is unindexed). An entity can have at most 20,000 indexed properties.</p><p id="-wp6ekx_191"><span class="control" id="-wp6ekx_207">Note:</span> Properties with multiple values can be useful, for instance, when performing queries with equality filters: an entity satisfies the query if any of its values for a property matches the value specified in the filter. For more details on multiple-valued properties, including issues you should be aware of, see the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/queries" id="-wp6ekx_208" data-external="true" rel="noopener noreferrer" target="_blank">Datastore Queries</a> page.</p><p id="-wp6ekx_192">The following value types are supported:</p><div class="table-wrapper"><table class="wide" id="-wp6ekx_193"><thead><tr class="ijRowHead" id="-wp6ekx_210"><th id="-wp6ekx_236"><p>Value type</p></th><th id="-wp6ekx_237"><p>Java type(s)</p></th><th id="-wp6ekx_238"><p>Sort order</p></th><th id="-wp6ekx_239"><p>Notes</p></th></tr></thead><tbody><tr id="-wp6ekx_211"><td id="-wp6ekx_240"><p>Integer</p></td><td id="-wp6ekx_241"><p><code class="code" id="-wp6ekx_244">short</code><br> <code class="code" id="-wp6ekx_246">int</code><br> <code class="code" id="-wp6ekx_248">long</code><br> <code class="code" id="-wp6ekx_250">java.lang.Short</code><br> <code class="code" id="-wp6ekx_252">java.lang.Integer</code><br> <code class="code" id="-wp6ekx_254">java.lang.Long</code></p></td><td id="-wp6ekx_242"><p>Numeric</p></td><td id="-wp6ekx_243"><p>Stored as long integer, then converted to the field type<br><br> Out-of-range values overflow</p></td></tr><tr id="-wp6ekx_212"><td id="-wp6ekx_257"><p>Floating-point number</p></td><td id="-wp6ekx_258"><p><code class="code" id="-wp6ekx_261">float</code><br> <code class="code" id="-wp6ekx_263">double</code><br> <code class="code" id="-wp6ekx_265">java.lang.Float</code><br> <code class="code" id="-wp6ekx_267">java.lang.Double</code></p></td><td id="-wp6ekx_259"><p>Numeric</p></td><td id="-wp6ekx_260"><p>64-bit double precision, <br> IEEE 754</p></td></tr><tr id="-wp6ekx_213"><td id="-wp6ekx_269"><p>Boolean</p></td><td id="-wp6ekx_270"><p><code class="code" id="-wp6ekx_273">boolean</code><br> <code class="code" id="-wp6ekx_275">java.lang.Boolean</code></p></td><td id="-wp6ekx_271"><p><code class="code" id="-wp6ekx_276">false</code> &lt; <code class="code" id="-wp6ekx_277">true</code></p></td><td id="-wp6ekx_272"></td></tr><tr id="-wp6ekx_214"><td id="-wp6ekx_278"><p>Text string (short)</p></td><td id="-wp6ekx_279"><p><code class="code" id="-wp6ekx_282">java.lang.String</code></p></td><td id="-wp6ekx_280"><p>Unicode</p></td><td id="-wp6ekx_281"><p>Up to 1500 bytes<br><br> Values greater than 1500 bytes throw <code class="code" id="-wp6ekx_285">IllegalArgumentException</code></p></td></tr><tr id="-wp6ekx_215"><td id="-wp6ekx_286"><p>Text string (long)</p></td><td id="-wp6ekx_287"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Text" id="-wp6ekx_290" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_291">com.google.appengine.api.datastore.Text</code></a></p></td><td id="-wp6ekx_288"><p>None</p></td><td id="-wp6ekx_289"><p>Up to 1 megabyte<br><br> Not indexed</p></td></tr><tr id="-wp6ekx_216"><td id="-wp6ekx_294"><p>Byte string (short)</p></td><td id="-wp6ekx_295"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/ShortBlob" id="-wp6ekx_298" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_299">com.google.appengine.api.datastore.ShortBlob</code></a></p></td><td id="-wp6ekx_296"><p>Byte order</p></td><td id="-wp6ekx_297"><p>Up to 1500 bytes<br><br> Values longer than 1500 bytes throw <code class="code" id="-wp6ekx_302">IllegalArgumentException</code></p></td></tr><tr id="-wp6ekx_217"><td id="-wp6ekx_303"><p>Byte string (long)</p></td><td id="-wp6ekx_304"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Blob" id="-wp6ekx_307" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_308">com.google.appengine.api.datastore.Blob</code></a></p></td><td id="-wp6ekx_305"><p>None</p></td><td id="-wp6ekx_306"><p>Up to 1 megabyte<br><br> Not indexed</p></td></tr><tr id="-wp6ekx_218"><td id="-wp6ekx_311"><p>Date and time</p></td><td id="-wp6ekx_312"><p><code class="code" id="-wp6ekx_315">java.util.Date</code></p></td><td id="-wp6ekx_313"><p>Chronological</p></td><td id="-wp6ekx_314"></td></tr><tr id="-wp6ekx_219"><td id="-wp6ekx_316"><p>Geographical point</p></td><td id="-wp6ekx_317"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/GeoPt" id="-wp6ekx_320" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_321">com.google.appengine.api.datastore.GeoPt</code></a></p></td><td id="-wp6ekx_318"><p>By latitude, <br> then longitude</p></td><td id="-wp6ekx_319"></td></tr><tr id="-wp6ekx_220"><td id="-wp6ekx_323"><p>Postal address</p></td><td id="-wp6ekx_324"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/PostalAddress" id="-wp6ekx_327" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_328">com.google.appengine.api.datastore.PostalAddress</code></a></p></td><td id="-wp6ekx_325"><p>Unicode</p></td><td id="-wp6ekx_326"></td></tr><tr id="-wp6ekx_221"><td id="-wp6ekx_329"><p>Telephone number</p></td><td id="-wp6ekx_330"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/PhoneNumber" id="-wp6ekx_333" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_334">com.google.appengine.api.datastore.PhoneNumber</code></a></p></td><td id="-wp6ekx_331"><p>Unicode</p></td><td id="-wp6ekx_332"></td></tr><tr id="-wp6ekx_222"><td id="-wp6ekx_335"><p>Email address</p></td><td id="-wp6ekx_336"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Email" id="-wp6ekx_339" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_340">com.google.appengine.api.datastore.Email</code></a></p></td><td id="-wp6ekx_337"><p>Unicode</p></td><td id="-wp6ekx_338"></td></tr><tr id="-wp6ekx_223"><td id="-wp6ekx_341"><p>Google Accounts user</p></td><td id="-wp6ekx_342"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/users/User" id="-wp6ekx_345" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_346">com.google.appengine.api.users.User</code></a></p></td><td id="-wp6ekx_343"><p>Email address<br> in Unicode order</p></td><td id="-wp6ekx_344"></td></tr><tr id="-wp6ekx_224"><td id="-wp6ekx_348"><p>Instant messaging handle</p></td><td id="-wp6ekx_349"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/IMHandle" id="-wp6ekx_352" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_353">com.google.appengine.api.datastore.IMHandle</code></a></p></td><td id="-wp6ekx_350"><p>Unicode</p></td><td id="-wp6ekx_351"></td></tr><tr id="-wp6ekx_225"><td id="-wp6ekx_354"><p>Link</p></td><td id="-wp6ekx_355"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Link" id="-wp6ekx_358" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_359">com.google.appengine.api.datastore.Link</code></a></p></td><td id="-wp6ekx_356"><p>Unicode</p></td><td id="-wp6ekx_357"></td></tr><tr id="-wp6ekx_226"><td id="-wp6ekx_360"><p>Category</p></td><td id="-wp6ekx_361"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Category" id="-wp6ekx_364" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_365">com.google.appengine.api.datastore.Category</code></a></p></td><td id="-wp6ekx_362"><p>Unicode</p></td><td id="-wp6ekx_363"></td></tr><tr id="-wp6ekx_227"><td id="-wp6ekx_366"><p>Rating</p></td><td id="-wp6ekx_367"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Rating" id="-wp6ekx_370" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_371">com.google.appengine.api.datastore.Rating</code></a></p></td><td id="-wp6ekx_368"><p>Numeric</p></td><td id="-wp6ekx_369"></td></tr><tr id="-wp6ekx_228"><td id="-wp6ekx_372"><p>Datastore key</p></td><td id="-wp6ekx_373"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Key" id="-wp6ekx_376" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_378">com.google.appengine.api.datastore.Key</code></a><br> or the referenced object (as a child)</p></td><td id="-wp6ekx_374"><p>By path elements<br> (kind, identifier, <br> kind, identifier...)</p></td><td id="-wp6ekx_375"><p>Up to 1500 bytes<br><br> Values longer than 1500 bytes throw <code class="code" id="-wp6ekx_383">IllegalArgumentException</code></p></td></tr><tr id="-wp6ekx_229"><td id="-wp6ekx_384"><p>Blobstore key</p></td><td id="-wp6ekx_385"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/blobstore/BlobKey" id="-wp6ekx_388" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_389">com.google.appengine.api.blobstore.BlobKey</code></a></p></td><td id="-wp6ekx_386"><p>Byte order</p></td><td id="-wp6ekx_387"></td></tr><tr id="-wp6ekx_230"><td id="-wp6ekx_390"><p><span id="-wp6ekx_394">Embedded entity</span></p></td><td id="-wp6ekx_391"><p><a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity" id="-wp6ekx_395" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_396">com.google.appengine.api.datastore.EmbeddedEntity</code></a></p></td><td id="-wp6ekx_392"><p>None</p></td><td id="-wp6ekx_393"><p>Not indexed</p></td></tr><tr id="-wp6ekx_231"><td id="-wp6ekx_397"><p>Null</p></td><td id="-wp6ekx_398"><p><code class="code" id="-wp6ekx_401">null</code></p></td><td id="-wp6ekx_399"><p>None</p></td><td id="-wp6ekx_400"></td></tr></tbody></table></div><p id="-wp6ekx_194"><span class="control" id="-wp6ekx_402">Important:</span> We strongly recommend that you avoid storing a <code class="code" id="-wp6ekx_403">users.User</code> as a property value, because this includes the email address along with the unique ID. If a user changes their email address and you compare their old, stored <code class="code" id="-wp6ekx_404">user.User</code> to the new <code class="code" id="-wp6ekx_405">user.User</code> value, they won't match. Instead, use the <code class="code" id="-wp6ekx_406">User</code> <span class="emphasis" id="-wp6ekx_407">user ID value</span> as the user's stable unique identifier.</p><p id="-wp6ekx_195">For text strings and unencoded binary data (byte strings), Datastore supports two value types:</p><ul class="list _bullet" id="-wp6ekx_196"><li class="list__item" id="-wp6ekx_408"><p id="-wp6ekx_410">Short strings (up to 1500 bytes) are indexed and can be used in query filter conditions and sort orders.</p></li><li class="list__item" id="-wp6ekx_409"><p id="-wp6ekx_411">Long strings (up to 1 megabyte) are not indexed and cannot be used in query filters and sort orders.</p></li></ul><p id="-wp6ekx_197">Note: The long byte string type is named <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Blob" id="-wp6ekx_412" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_414">Blob</code></a> in the Datastore API. This type is unrelated to blobs as used in the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/blobstore" id="-wp6ekx_413" data-external="true" rel="noopener noreferrer" target="_blank">Blobstore API</a>.</p><p id="-wp6ekx_198"></p><p id="-wp6ekx_199">When a query involves a property with values of mixed types, Datastore uses a deterministic ordering based on the internal representations:</p><ol class="list _decimal" id="-wp6ekx_200" type="1"><li class="list__item" id="-wp6ekx_415"><p id="-wp6ekx_423">Null values</p></li><li class="list__item" id="-wp6ekx_416"><p id="-wp6ekx_424">Fixed-point numbers</p><ul class="list _bullet" id="-wp6ekx_425"><li class="list__item" id="-wp6ekx_426"><p id="-wp6ekx_429">Integers</p></li><li class="list__item" id="-wp6ekx_427"><p id="-wp6ekx_430">Dates and times</p></li><li class="list__item" id="-wp6ekx_428"><p id="-wp6ekx_431">Ratings</p></li></ul></li><li class="list__item" id="-wp6ekx_417"><p id="-wp6ekx_432">Boolean values</p></li><li class="list__item" id="-wp6ekx_418"><p id="-wp6ekx_433">Byte sequences</p><ul class="list _bullet" id="-wp6ekx_434"><li class="list__item" id="-wp6ekx_435"><p id="-wp6ekx_438">Byte string</p></li><li class="list__item" id="-wp6ekx_436"><p id="-wp6ekx_439">Unicode string</p></li><li class="list__item" id="-wp6ekx_437"><p id="-wp6ekx_440">Blobstore keys</p></li></ul></li><li class="list__item" id="-wp6ekx_419"><p id="-wp6ekx_441">Floating-point numbers</p></li><li class="list__item" id="-wp6ekx_420"><p id="-wp6ekx_442">Geographical points</p></li><li class="list__item" id="-wp6ekx_421"><p id="-wp6ekx_443">Google Accounts users</p></li><li class="list__item" id="-wp6ekx_422"><p id="-wp6ekx_444">Datastore keys</p></li></ol><p id="-wp6ekx_201">Because long text strings, long byte strings, and embedded entities are not indexed, they have no ordering defined.</p><p id="-wp6ekx_202"><span class="control" id="-wp6ekx_445">Note:</span> Integers and floating-point numbers are considered separate types in Datastore. If an entity uses a mix of integers and floats for the same property, all integers will be sorted before all floats: for example,</p><p id="-wp6ekx_203"><code class="code" id="-wp6ekx_446">7</code> &lt; <code class="code" id="-wp6ekx_447">3.2</code></p></section><section class="chapter"><h2 id="working-with-entities" data-toc="working-with-entities">Working with entities</h2><p id="-wp6ekx_448">Applications can use the Datastore API to create, retrieve, update, and delete entities. If the application knows the complete key for an entity (or can derive it from its parent key, kind, and identifier), it can use the key to operate directly on the entity. An application can also obtain an entity's key as a result of a Datastore query; see the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/queries" id="-wp6ekx_460" data-external="true" rel="noopener noreferrer" target="_blank">Datastore Queries</a> page for more information.</p><p id="-wp6ekx_449">The Java Datastore API uses methods of the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService" id="-wp6ekx_461" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_464">DatastoreService</code></a> interface to operate on entities. You obtain a <code class="code" id="-wp6ekx_462">DatastoreService</code> object by calling the static method <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreServiceFactory#getDatastoreService()" id="-wp6ekx_463" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_465">DatastoreServiceFactory.getDatastoreService()</code></a>:</p><div class="code-block" data-lang="none">
import com.google.appengine.api.datastore.DatastoreService;
import com.google.appengine.api.datastore.DatastoreServiceFactory;

// ...
DatastoreService datastore = DatastoreServiceFactory.getDatastoreService();
</div><section class="chapter"><h3 id="creating-an-entity" data-toc="creating-an-entity">Creating an entity</h3><p id="-wp6ekx_466">In Java, you create a new entity by constructing an instance of class <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Entity" id="-wp6ekx_470" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_473">Entity</code></a>, supplying the entity's kind as an argument to the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Entity#Entity(java.lang.String)" id="-wp6ekx_471" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_474">Entity()</code></a> constructor. After populating the entity's properties if necessary, you save it to the datstore by passing it as an argument to the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#put(com.google.appengine.api.datastore.Entity)" id="-wp6ekx_472" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_475">DatastoreService.put()</code></a> method. You can specify the entity's key name by passing it as the second argument to the constructor:</p><div class="code-block" data-lang="none">
Entity employee = new Entity(&quot;Employee&quot;, &quot;asalieri&quot;);
// ... set properties ...

datastore.put(employee);
</div><p id="-wp6ekx_468">If you don't provide a key name, Datastore will automatically generate a numeric ID for the entity's key:</p><div class="code-block" data-lang="none">
Entity employee = new Entity(&quot;Employee&quot;);
// ... set properties ...

datastore.put(employee);
</div></section><section class="chapter"><h3 id="retrieving-an-entity" data-toc="retrieving-an-entity">Retrieving an entity</h3><p id="-wp6ekx_476">To retrieve an entity identified by a given key, pass the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Key" id="-wp6ekx_478" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_480">Key</code></a> object to the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#get(com.google.appengine.api.datastore.Key)" id="-wp6ekx_479" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_481">DatastoreService.get()</code></a> method:</p><div class="code-block" data-lang="none">
// Key employeeKey = ...;
Entity employee = datastore.get(employeeKey);
</div></section><section class="chapter"><h3 id="updating-an-entity" data-toc="updating-an-entity">Updating an entity</h3><p id="-wp6ekx_482">To update an existing entity, modify the attributes of the Entity object, then pass it to the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#put(com.google.appengine.api.datastore.Entity)" id="-wp6ekx_484" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_486">DatastoreService.put()</code></a> method. The object data overwrites the existing entity. The entire object is sent to Datastore with every call to <code class="code" id="-wp6ekx_485">put()</code>.</p><p id="-wp6ekx_483"><span class="control" id="-wp6ekx_487">Note:</span> The Datastore API does not distinguish between creating a new entity and updating an existing one. If the object's key represents an entity that already exists, the put() method overwrites the existing entity. You can use a <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/transactions" id="-wp6ekx_488" data-external="true" rel="noopener noreferrer" target="_blank">transaction</a> to test whether an entity with a given key exists before creating one.</p></section><section class="chapter"><h3 id="deleting-an-entity" data-toc="deleting-an-entity">Deleting an entity</h3><p id="-wp6ekx_489">Given an entity's key, you can delete the entity with the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#delete(com.google.appengine.api.datastore.Key...)" id="-wp6ekx_491" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_492">DatastoreService.delete()</code></a> method:</p><div class="code-block" data-lang="none">
// Key employeeKey = ...;
datastore.delete(employeeKey);
</div></section><section class="chapter"><h3 id="repeated-properties" data-toc="repeated-properties">Repeated properties</h3><p id="-wp6ekx_493">You can store multiple values within a single property.</p><div class="code-block" data-lang="none">
Entity employee = new Entity(&quot;Employee&quot;);
ArrayList&lt;String&gt; favoriteFruit = new ArrayList&lt;String&gt;();
favoriteFruit.add(&quot;Pear&quot;);
favoriteFruit.add(&quot;Apple&quot;);
employee.setProperty(&quot;favoriteFruit&quot;, favoriteFruit);
datastore.put(employee);

// Sometime later
employee = datastore.get(employee.getKey());
favoriteFruit = (ArrayList&lt;String&gt;) employee.getProperty(&quot;favoriteFruit&quot;);
</div></section><section class="chapter"><h3 id="embedded-entities" data-toc="embedded-entities">Embedded entities</h3><p id="-wp6ekx_495">You may sometimes find it convenient to embed one entity as a property of another entity. This can be useful, for instance, for creating a hierarchical structure of property values within an entity. The Java class <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/EmbeddedEntity" id="-wp6ekx_502" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_503">EmbeddedEntity</code></a> allows you to do this:</p><div class="code-block" data-lang="none">
// Entity employee = /*...*/;
EmbeddedEntity embeddedContactInfo = new EmbeddedEntity();

embeddedContactInfo.setProperty(&quot;homeAddress&quot;, /*...*/);
embeddedContactInfo.setProperty(&quot;phoneNumber&quot;, /*...*/);
embeddedContactInfo.setProperty(&quot;emailAddress&quot;, /*...*/);

employee.setProperty(&quot;contactInfo&quot;, embeddedContactInfo);
</div><p id="-wp6ekx_497">Properties of an embedded entity are not indexed and cannot be used in queries. You can optionally associate a key with an embedded entity, but (unlike a full-fledged entity) the key is not required and, even if present, cannot be used to retrieve the entity.</p><p id="-wp6ekx_498">Instead of populating the embedded entity's properties manually, you can use the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/PropertyContainer#setPropertiesFrom(com.google.appengine.api.datastore.PropertyContainer)" id="-wp6ekx_504" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_505">setPropertiesFrom()</code></a> method to copy them from an existing entity:</p><div class="code-block" data-lang="none">
// Entity employee = /*...*/;
// Entity contactInfo = /*...*/;
EmbeddedEntity embeddedContactInfo = new EmbeddedEntity();
Key infoKey;

infoKey = contactInfo.getKey();
embeddedContactInfo.setKey(infoKey);
embeddedContactInfo.setPropertiesFrom(contactInfo);

employee.setProperty(&quot;contactInfo&quot;, embeddedContactInfo);
</div><p id="-wp6ekx_500">You can later use the same method to recover the original entity from the embedded entity:</p><div class="code-block" data-lang="none">
// Entity employee = /*...*/;
EmbeddedEntity embeddedContactInfo = employee.getProperty(&quot;contactInfo&quot;);
Key infoKey = embeddedContactInfo.getKey();
Entity contactInfo = new Entity(infoKey);

contactInfo.setPropertiesFrom(embeddedContactInfo);
</div></section><section class="chapter"><h3 id="batch-operations" data-toc="batch-operations">Batch operations</h3><p id="-wp6ekx_506">The <code class="code" id="-wp6ekx_510">DatastoreService</code> methods <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#put(java.lang.Iterable)" id="-wp6ekx_511" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_520">put()</code></a>, <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#get(java.lang.Iterable)" id="-wp6ekx_512" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_521">get()</code></a>, and <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService#delete(java.lang.Iterable)" id="-wp6ekx_513" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_522">delete()</code></a> (and their AsyncDatastoreService counterparts) have batch versions that accept an <a href="https://web.archive.org/web/20160424230911/http://download.oracle.com/javase/6/docs/api/index.html?java/lang/Iterable.html" id="-wp6ekx_514" data-external="true" rel="noopener noreferrer" target="_blank">iterable</a> object (of class <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Entity" id="-wp6ekx_515" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_523">Entity</code></a> for <code class="code" id="-wp6ekx_516">put()</code>, <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Key" id="-wp6ekx_517" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_524">Key</code></a> for <code class="code" id="-wp6ekx_518">get()</code> and <code class="code" id="-wp6ekx_519">delete()</code>) and use it to operate on multiple entities in a single Datastore call:</p><div class="code-block" data-lang="none">
import java.util.Arrays;
import java.util.List;

// ...
Entity employee1 = new Entity(&quot;Employee&quot;);
Entity employee2 = new Entity(&quot;Employee&quot;);
Entity employee3 = new Entity(&quot;Employee&quot;);
// ...

List&lt;Entity&gt; employees = Arrays.asList(employee1, employee2, employee3);
datastore.put(employees);
</div><p id="-wp6ekx_508">These batch operations group all the entities or keys by entity group and then perform the requested operation on each entity group in parallel. Such batch calls are faster than making separate calls for each individual entity, because they incur the overhead for only one service call. If multiple entity groups are involved, the work for all the groups is performed in parallel on the server side.</p><p id="-wp6ekx_509"><span class="control" id="-wp6ekx_525">Note:</span> A batch <code class="code" id="-wp6ekx_526">put()</code> or <code class="code" id="-wp6ekx_527">delete()</code> call may succeed for some entities but not others. If it is important that the call succeed completely or fail completely, use a <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/transactions" id="-wp6ekx_528" data-external="true" rel="noopener noreferrer" target="_blank">transaction</a> with all affected entities in the same entity group. Attempting a batch operation inside a transaction with entities or keys belonging to multiple entity groups will result in an <code class="code" id="-wp6ekx_529">IllegalArgumentException</code>.</p></section><section class="chapter"><h3 id="generating-keys" data-toc="generating-keys">Generating keys</h3><p id="-wp6ekx_530">Applications can use the class <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/KeyFactory" id="-wp6ekx_539" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_545">KeyFactory</code></a> to create a <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Key" id="-wp6ekx_540" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_546">Key</code></a> object for an entity from known components, such as the entity's kind and identifier. For an entity with no parent, pass the kind and identifier (either a key name string or a numeric ID) to the static method <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/KeyFactory#createKey(java.lang.String,%20long)" id="-wp6ekx_541" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_547">KeyFactory.createKey()</code></a> to create the key. The following examples create a key for an entity of kind <code class="code" id="-wp6ekx_542">Person</code> with key name <code class="code" id="-wp6ekx_543">&quot;GreatGrandpa&quot;</code> or numeric ID <code class="code" id="-wp6ekx_544">74219</code>:</p><div class="code-block" data-lang="none">
Key k = KeyFactory.createKey(&quot;Person&quot;, &quot;GreatGrandpa&quot;);

Key k = KeyFactory.createKey(&quot;Person&quot;, 74219);
</div><p id="-wp6ekx_532">If the key includes a path component, you can use the helper class <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/KeyFactory.Builder" id="-wp6ekx_548" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_551">KeyFactory.Builder</code></a> to build the path. This class's <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/KeyFactory.Builder#addChild(java.lang.String,%20long)" id="-wp6ekx_549" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_552">addChild</code></a> method adds a single entity to the path and returns the builder itself, so you can chain together a series of calls, beginning with the root entity, to build up the path one entity at a time. After building the complete path, call <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/KeyFactory.Builder#getKey()" id="-wp6ekx_550" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_553">getKey</code></a> to retrieve the resulting key:</p><div class="code-block" data-lang="none">
Key k = new KeyFactory.Builder(&quot;Person&quot;, &quot;GreatGrandpa&quot;)
                      .addChild(&quot;Person&quot;, &quot;Grandpa&quot;)
                      .addChild(&quot;Person&quot;, &quot;Dad&quot;)
                      .addChild(&quot;Person&quot;, &quot;Me&quot;)
                      .getKey();
</div><p id="-wp6ekx_534">Class <code class="code" id="-wp6ekx_554">KeyFactory</code> also includes the static methods <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/KeyFactory#keyToString(com.google.appengine.api.datastore.Key)" id="-wp6ekx_555" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_557">keyToString</code></a> and <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/KeyFactory#stringToKey(java.lang.String)" id="-wp6ekx_556" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_558">stringToKey</code></a> for converting between keys and their string representations:</p><div class="code-block" data-lang="none">
String personKeyStr = KeyFactory.keyToString(personKey);
// ...

Key    personKey = KeyFactory.stringToKey(personKeyStr);
Entity person    = datastore.get(personKey);
</div><p id="-wp6ekx_536">The string representation of a key is &quot;web-safe&quot;: it does not contain characters considered special in HTML or in URLs.</p><p id="-wp6ekx_537"><span class="control" id="-wp6ekx_559">Note:</span> The <code class="code" id="-wp6ekx_560">KeyFactory.keyToString</code> method is different from <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/Key#toString()" id="-wp6ekx_561" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-wp6ekx_563">Key.toString</code></a>, which returns a human-readable string suitable for use in debugging and logging. If you need a string value that can be converted to a usable key, use <code class="code" id="-wp6ekx_562">KeyFactory.keyToString</code>.</p><p id="-wp6ekx_538">Note also that a key's string representation is not encrypted: a user can decode the key string to extract its components, including the kinds and identifiers of the entity and its ancestors. If it is important to conceal this information from the user, you must encrypt the key string yourself before sending it to the user.</p></section><section class="chapter"><h3 id="using-an-empty-list" data-toc="using-an-empty-list">Using an empty list</h3><p id="-wp6ekx_564">Datastore historically did not have a representation for a property representing an empty list. The Java SDK worked around this by storing empty collections as null values, so there is no way to distinguish between null values and empty lists. To maintain backward compatibility, this remains the default behavior, synopsized as follows:</p><ul class="list _bullet" id="-wp6ekx_565"><li class="list__item" id="-wp6ekx_573"><p id="-wp6ekx_577">Null properties are written as null to Datastore</p></li><li class="list__item" id="-wp6ekx_574"><p id="-wp6ekx_578">Empty collections are written as null to Datastore</p></li><li class="list__item" id="-wp6ekx_575"><p id="-wp6ekx_579">A null is read as null from Datastore</p></li><li class="list__item" id="-wp6ekx_576"><p id="-wp6ekx_580">An empty collection is read as null.</p></li></ul><p id="-wp6ekx_566"><span class="control" id="-wp6ekx_581">Important:</span> A read modify write of an entity with an empty list will cause that list to be turned into a null value.</p><p id="-wp6ekx_567">However, if you change the default behavior, the Appengine Datastore Java SDK will support storage of empty lists. <span class="control" id="-wp6ekx_582">We recommend you consider the implications of changing the default behavior of your application and then turn on support for empty lists</span>.</p><p id="-wp6ekx_568">To change default behavior so you can use empty lists, set the <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreServiceConfig#DATASTORE_EMPTY_LIST_SUPPORT" id="-wp6ekx_583" data-external="true" rel="noopener noreferrer" target="_blank">DATASTORE_EMPTY_LIST_SUPPORT</a> property during your app initialization as follows:</p><p id="-wp6ekx_569">System.setProperty(DatastoreServiceConfig. <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreServiceConfig#DATASTORE_EMPTY_LIST_SUPPORT" id="-wp6ekx_584" data-external="true" rel="noopener noreferrer" target="_blank">DATASTORE_EMPTY_LIST_SUPPORT</a>, Boolean.TRUE.toString());</p><p id="-wp6ekx_570">With this property set to <code class="code" id="-wp6ekx_585">true</code> as shown above:</p><ul class="list _bullet" id="-wp6ekx_571"><li class="list__item" id="-wp6ekx_586"><p id="-wp6ekx_590">Null properties are written as null to Datastore</p></li><li class="list__item" id="-wp6ekx_587"><p id="-wp6ekx_591">Empty collections (#Collection.isEmpty()) are written as empty list to Datastore</p></li><li class="list__item" id="-wp6ekx_588"><p id="-wp6ekx_592">A null is read as null from Datastore</p></li><li class="list__item" id="-wp6ekx_589"><p id="-wp6ekx_593">When reading from Datastore an empty list is returned as an empty Collection.</p></li></ul><p id="-wp6ekx_572"><span class="control" id="-wp6ekx_594">Important:</span> Your queries might be affected when you turn on empty list support. Null values are indexed in Datastore but empty lists are not. If you were storing empty lists as nulls and then querying for null to find them, then changing to empty list will cause these queries to not return results.</p></section></section><section class="chapter"><h2 id="understanding-write-costs" data-toc="understanding-write-costs">Understanding write costs</h2><p id="-wp6ekx_595">When your application executes a Datastore <code class="code" id="-wp6ekx_623">put</code> operation, Datastore must perform a number of writes to store the entity. Your application is charged for each of these writes. You can see how many writes will be required to store an entity by looking at the data viewer in the SDK Development Console. This section explains how these write costs are calculated.</p><p id="-wp6ekx_596">Every entity requires a minimum of two writes to store: one for the entity itself and another for the built-in <code class="code" id="-wp6ekx_624">EntitiesByKind</code> index, which is used by the query planner to service a variety of queries. In addition, Datastore maintains two other built-in indexes, <code class="code" id="-wp6ekx_625">EntitiesByProperty</code> and <code class="code" id="-wp6ekx_626">EntitiesByPropertyDesc</code>, which provide efficient scans of entities by single property values in ascending and descending order, respectively. Each of an entity's indexed property values must be written to each of these indexes.</p><p id="-wp6ekx_597">As an example, consider an entity with properties <span class="emphasis" id="-wp6ekx_627">A</span>, <span class="emphasis" id="-wp6ekx_628">B</span>, and <span class="emphasis" id="-wp6ekx_629">C</span>:</p><div class="code-block" data-lang="none">
Key: 'Foo:1' (kind = 'Foo', id = 1, no parent)
A: 1, 2
B: null
C: 'this', 'that', 'theOther'
</div><p id="-wp6ekx_599">Assuming there are no composite indexes (see below) for entities of this kind, this entity requires 14 writes to store:</p><ul class="list _bullet" id="-wp6ekx_600"><li class="list__item" id="-wp6ekx_630"><p id="-wp6ekx_635">1 for the entity itself</p></li><li class="list__item" id="-wp6ekx_631"><p id="-wp6ekx_636">1 for the <code class="code" id="-wp6ekx_637">EntitiesByKind</code> index</p></li><li class="list__item" id="-wp6ekx_632"><p id="-wp6ekx_638">4 for property <span class="emphasis" id="-wp6ekx_639">A</span> (2 for each of two values)</p></li><li class="list__item" id="-wp6ekx_633"><p id="-wp6ekx_640">2 for property <span class="emphasis" id="-wp6ekx_641">B</span> (a null value still needs to be written)</p></li><li class="list__item" id="-wp6ekx_634"><p id="-wp6ekx_642">6 for property <span class="emphasis" id="-wp6ekx_643">C</span> (2 for each of three values)</p></li></ul><p id="-wp6ekx_601">Composite indexes (those referring to multiple properties) require additional writes to maintain. Suppose you define the following composite index:</p><div class="code-block" data-lang="none">
Kind: 'Foo'
A ?, B ?
</div><p id="-wp6ekx_603">where the triangles indicate the sort order for the specified properties: ascending for property <span class="emphasis" id="-wp6ekx_644">A</span> and descending for property <span class="emphasis" id="-wp6ekx_645">B.</span> Storing the entity defined above now takes an additional write to the composite index for every combination of <span class="emphasis" id="-wp6ekx_646">A</span> and <span class="emphasis" id="-wp6ekx_647">B</span> values:</p><p id="-wp6ekx_604">(<code class="code" id="-wp6ekx_648">1</code>, <code class="code" id="-wp6ekx_649">null</code>) (<code class="code" id="-wp6ekx_650">2</code>, <code class="code" id="-wp6ekx_651">null</code>)</p><p id="-wp6ekx_605">This adds 2 writes for the composite index, for a total of 1 + 1 + 4 + 2 + 6 + 2 = 16. Now add property <span class="emphasis" id="-wp6ekx_652">C</span> to the index:</p><div class="code-block" data-lang="none">
Kind: 'Foo'
A ?, B ?, C ?
</div><p id="-wp6ekx_607">Storing the same entity now requires a write to the composite index for each possible combination of <span class="emphasis" id="-wp6ekx_653">A</span>, <span class="emphasis" id="-wp6ekx_654">B</span>, and <span class="emphasis" id="-wp6ekx_655">C</span> values:</p><p id="-wp6ekx_608">(<code class="code" id="-wp6ekx_656">1</code>, <code class="code" id="-wp6ekx_657">null</code>, <code class="code" id="-wp6ekx_658">'this'</code>) (<code class="code" id="-wp6ekx_659">1</code>, <code class="code" id="-wp6ekx_660">null</code>, <code class="code" id="-wp6ekx_661">'that'</code>) (<code class="code" id="-wp6ekx_662">1</code>, <code class="code" id="-wp6ekx_663">null</code>, <code class="code" id="-wp6ekx_664">'theOther'</code>)</p><p id="-wp6ekx_609">(<code class="code" id="-wp6ekx_665">2</code>, <code class="code" id="-wp6ekx_666">null</code>, <code class="code" id="-wp6ekx_667">'this'</code>) (<code class="code" id="-wp6ekx_668">2</code>, <code class="code" id="-wp6ekx_669">null</code>, <code class="code" id="-wp6ekx_670">'that'</code>) (<code class="code" id="-wp6ekx_671">2</code>, <code class="code" id="-wp6ekx_672">null</code>, <code class="code" id="-wp6ekx_673">'theOther'</code>)</p><p id="-wp6ekx_610">This brings the total number of writes to 1 + 1 + 4 + 2 + 6 + 6 = 20.</p><p id="-wp6ekx_611">If a Datastore entity contains many multiple-valued properties, or if a single such property is referenced many times, the number of writes required to maintain the index can explode combinatorially. Such <a href="https://web.archive.org/web/20160424230911/https://cloud.google.com/appengine/docs/java/datastore/indexes#Java_Index_limits" id="-wp6ekx_674" data-external="true" rel="noopener noreferrer" target="_blank">exploding indexes</a> can be very expensive to maintain. For example, consider a composite index that includes ancestors:</p><div class="code-block" data-lang="none">
Kind: 'Foo'
A ?, B ?, C ?
Ancestor: True
</div><p id="-wp6ekx_613">Storing a simple entity with this index present takes the same number of writes as before. However, if the entity has ancestors, it requires a write for each possible combination of property values <span class="emphasis" id="-wp6ekx_675">and ancestors</span>, in addition to those for the entity itself. Thus an entity defined as</p><div class="code-block" data-lang="none">
Key: 'GreatGrandpa:1/Grandpa:1/Dad:1/Foo:1' (kind = 'Foo', id = 1, parent = 'GreatGrandpa:1/Grandpa:1/Dad:1')
A: 1, 2
B: null
C: 'this', 'that', 'theOther'
</div><p id="-wp6ekx_615">would require a write to the composite index for each of the following combinations of properties and ancestors:</p><p id="-wp6ekx_616">(<code class="code" id="-wp6ekx_676">1</code>, <code class="code" id="-wp6ekx_677">null</code>, <code class="code" id="-wp6ekx_678">'this'</code>, <code class="code" id="-wp6ekx_679">'GreatGrandpa'</code>) (<code class="code" id="-wp6ekx_680">1</code>, <code class="code" id="-wp6ekx_681">null</code>, <code class="code" id="-wp6ekx_682">'this'</code>, <code class="code" id="-wp6ekx_683">'Grandpa'</code>) (<code class="code" id="-wp6ekx_684">1</code>, <code class="code" id="-wp6ekx_685">null</code>, <code class="code" id="-wp6ekx_686">'this'</code>, <code class="code" id="-wp6ekx_687">'Dad'</code>) (<code class="code" id="-wp6ekx_688">1</code>, <code class="code" id="-wp6ekx_689">null</code>, <code class="code" id="-wp6ekx_690">'this'</code>, <code class="code" id="-wp6ekx_691">'Foo'</code>)</p><p id="-wp6ekx_617">(<code class="code" id="-wp6ekx_692">1</code>, <code class="code" id="-wp6ekx_693">null</code>, <code class="code" id="-wp6ekx_694">'that'</code>, <code class="code" id="-wp6ekx_695">'GreatGrandpa'</code>) (<code class="code" id="-wp6ekx_696">1</code>, <code class="code" id="-wp6ekx_697">null</code>, <code class="code" id="-wp6ekx_698">'that'</code>, <code class="code" id="-wp6ekx_699">'Grandpa'</code>) (<code class="code" id="-wp6ekx_700">1</code>, <code class="code" id="-wp6ekx_701">null</code>, <code class="code" id="-wp6ekx_702">'that'</code>, <code class="code" id="-wp6ekx_703">'Dad'</code>) (<code class="code" id="-wp6ekx_704">1</code>, <code class="code" id="-wp6ekx_705">null</code>, <code class="code" id="-wp6ekx_706">'that'</code>, <code class="code" id="-wp6ekx_707">'Foo'</code>)</p><p id="-wp6ekx_618">(<code class="code" id="-wp6ekx_708">1</code>, <code class="code" id="-wp6ekx_709">null</code>, <code class="code" id="-wp6ekx_710">'theOther'</code>, <code class="code" id="-wp6ekx_711">'GreatGrandpa'</code>) (<code class="code" id="-wp6ekx_712">1</code>, <code class="code" id="-wp6ekx_713">null</code>, <code class="code" id="-wp6ekx_714">'theOther'</code>, <code class="code" id="-wp6ekx_715">'Grandpa'</code>) (<code class="code" id="-wp6ekx_716">1</code>, <code class="code" id="-wp6ekx_717">null</code>, <code class="code" id="-wp6ekx_718">'theOther'</code>, <code class="code" id="-wp6ekx_719">'Dad'</code>) (<code class="code" id="-wp6ekx_720">1</code>, <code class="code" id="-wp6ekx_721">null</code>, <code class="code" id="-wp6ekx_722">'theOther'</code>, <code class="code" id="-wp6ekx_723">'Foo'</code>)</p><p id="-wp6ekx_619">(<code class="code" id="-wp6ekx_724">2</code>, <code class="code" id="-wp6ekx_725">null</code>, <code class="code" id="-wp6ekx_726">'this'</code>, <code class="code" id="-wp6ekx_727">'GreatGrandpa'</code>) (<code class="code" id="-wp6ekx_728">2</code>, <code class="code" id="-wp6ekx_729">null</code>, <code class="code" id="-wp6ekx_730">'this'</code>, <code class="code" id="-wp6ekx_731">'Grandpa'</code>) (<code class="code" id="-wp6ekx_732">2</code>, <code class="code" id="-wp6ekx_733">null</code>, <code class="code" id="-wp6ekx_734">'this'</code>, <code class="code" id="-wp6ekx_735">'Dad'</code>) (<code class="code" id="-wp6ekx_736">2</code>, <code class="code" id="-wp6ekx_737">null</code>, <code class="code" id="-wp6ekx_738">'this'</code>, <code class="code" id="-wp6ekx_739">'Foo'</code>)</p><p id="-wp6ekx_620">(<code class="code" id="-wp6ekx_740">2</code>, <code class="code" id="-wp6ekx_741">null</code>, <code class="code" id="-wp6ekx_742">'that'</code>, <code class="code" id="-wp6ekx_743">'GreatGrandpa'</code>) (<code class="code" id="-wp6ekx_744">2</code>, <code class="code" id="-wp6ekx_745">null</code>, <code class="code" id="-wp6ekx_746">'that'</code>, <code class="code" id="-wp6ekx_747">'Grandpa'</code>) (<code class="code" id="-wp6ekx_748">2</code>, <code class="code" id="-wp6ekx_749">null</code>, <code class="code" id="-wp6ekx_750">'that'</code>, <code class="code" id="-wp6ekx_751">'Dad'</code>) (<code class="code" id="-wp6ekx_752">2</code>, <code class="code" id="-wp6ekx_753">null</code>, <code class="code" id="-wp6ekx_754">'that'</code>, <code class="code" id="-wp6ekx_755">'Foo'</code>)</p><p id="-wp6ekx_621">(<code class="code" id="-wp6ekx_756">2</code>, <code class="code" id="-wp6ekx_757">null</code>, <code class="code" id="-wp6ekx_758">'theOther'</code>, <code class="code" id="-wp6ekx_759">'GreatGrandpa'</code>) (<code class="code" id="-wp6ekx_760">2</code>, <code class="code" id="-wp6ekx_761">null</code>, <code class="code" id="-wp6ekx_762">'theOther'</code>, <code class="code" id="-wp6ekx_763">'Grandpa'</code>) (<code class="code" id="-wp6ekx_764">2</code>, <code class="code" id="-wp6ekx_765">null</code>, <code class="code" id="-wp6ekx_766">'theOther'</code>, <code class="code" id="-wp6ekx_767">'Dad'</code>) (<code class="code" id="-wp6ekx_768">2</code>, <code class="code" id="-wp6ekx_769">null</code>, <code class="code" id="-wp6ekx_770">'theOther'</code>, <code class="code" id="-wp6ekx_771">'Foo'</code>)</p><p id="-wp6ekx_622">Storing this entity in Datastore now requires 1 + 1 + 4 + 2 + 6 + 24 = 38 writes.</p></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="java-datastore-api.html" class="navigation-links__prev">Java Datastore API</a><a href="datastore-queries.html" class="navigation-links__next">Datastore Queries</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>