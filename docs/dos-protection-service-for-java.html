<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:45.2141227"><title>DoS Protection Service for Java | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"about-dos-xml","level":0,"title":"About dos.xml","anchor":"#about-dos-xml"},{"id":"limits","level":0,"title":"Limits","anchor":"#limits"},{"id":"uploading-dos-configuration","level":0,"title":"Uploading DoS configuration","anchor":"#uploading-dos-configuration"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="DoS Protection Service for Java | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/dos-protection-service-for-java.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="DoS Protection Service for Java | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/dos-protection-service-for-java.html#webpage",
    "url": "writerside-documentation/dos-protection-service-for-java.html",
    "name": "DoS Protection Service for Java | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="DoS-Protection-Service-for-Java" data-main-title="DoS Protection Service for Java" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Managing-and-Configuring-Your-App.md|Managing and Configuring Your App"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="DoS-Protection-Service-for-Java" id="DoS-Protection-Service-for-Java.md">DoS Protection Service for Java</h1><p id="-7cd100_3"><a href="https://web.archive.org/web/20160424230240/https://cloud.google.com/appengine/docs/python/config/dos" id="-7cd100_11" data-tooltip="View this page in the Python runtime" data-external="true" rel="noopener noreferrer" target="_blank">Python</a> |Java |<a href="https://web.archive.org/web/20160424230240/https://cloud.google.com/appengine/docs/php/config/dos" id="-7cd100_12" data-tooltip="View this page in the PHP runtime" data-external="true" rel="noopener noreferrer" target="_blank">PHP</a> |<a href="https://web.archive.org/web/20160424230240/https://cloud.google.com/appengine/docs/go/config/dos" id="-7cd100_13" data-tooltip="View this page in the Go runtime" data-external="true" rel="noopener noreferrer" target="_blank">Go</a></p><p id="-7cd100_4">The App Engine Denial of Service (DoS) Protection Service enables you to protect your application from running out of quota when subjected to denial of service attacks or similar forms of abuse. You can blacklist IP addresses or subnets, and requests routed from those addresses or subnets will be dropped before your application code is called. No resource allocations, billed or otherwise, are consumed for these requests.</p><p id="-7cd100_5">Do not use this service for security. It is designed for quantitative abuse prevention, such as preventing DoS attacks, only. Some requests from blacklisted users may still get through to your application.</p><ol class="list _decimal" id="-7cd100_6" type="1"><li class="list__item" id="-7cd100_14"><p id="-7cd100_17"><span id="-7cd100_18">About dos.xml</span></p></li><li class="list__item" id="-7cd100_15"><p id="-7cd100_19"><span id="-7cd100_20">Limits</span></p></li><li class="list__item" id="-7cd100_16"><p id="-7cd100_21"><span id="-7cd100_22">Uploading DoS configuration</span></p></li></ol><p id="-7cd100_7">By default, App Engine serves a generic error page to blacklisted addresses. You can configure your app to serve a custom response instead. For details, see <a href="https://web.archive.org/web/20160424230240/https://cloud.google.com/appengine/docs/java/config/appconfig#Java_appengine_web_xml_Custom_error_responses" id="-7cd100_23" data-external="true" rel="noopener noreferrer" target="_blank">Custom Error Responses</a>.</p><section class="chapter"><h2 id="about-dos-xml" data-toc="about-dos-xml">About dos.xml</h2><p id="-7cd100_24">A <code class="code" id="-7cd100_28">dos.xml</code> file in the <code class="code" id="-7cd100_29">WEB-INF</code> directory of your application (alongside <code class="code" id="-7cd100_30">appengine-web.xml</code>) configures DoS Protection Service blacklists for your application. The following is an example <code class="code" id="-7cd100_31">dos.xml</code> file:</p><div class="code-block" data-lang="none">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;blacklistentries&gt;
  &lt;blacklist&gt;
    &lt;subnet&gt;1.2.3.4&lt;/subnet&gt;
    &lt;description&gt;a single IP address&lt;/description&gt;
  &lt;/blacklist&gt;
  &lt;blacklist&gt;
    &lt;subnet&gt;1.2.3.4/24&lt;/subnet&gt;
    &lt;description&gt;an IPv4 subnet&lt;/description&gt;
  &lt;/blacklist&gt;
  &lt;blacklist&gt;
    &lt;subnet&gt;abcd::123:4567&lt;/subnet&gt;
    &lt;description&gt;an IPv6 address&lt;/description&gt;
  &lt;/blacklist&gt;
  &lt;blacklist&gt;
    &lt;subnet&gt;abcd::123:4567/48&lt;/subnet&gt;
    &lt;description&gt;an IPv6 subnet&lt;/description&gt;
  &lt;/blacklist&gt;
&lt;/blacklistentries&gt;
</div><p id="-7cd100_26">For an XSD describing the format, check the file <code class="code" id="-7cd100_32">docs/dos.xsd</code> in the SDK.</p><p id="-7cd100_27">A <code class="code" id="-7cd100_33">dos.xml</code> file consists of a number of blacklist entries. A blacklist entry has a <code class="code" id="-7cd100_34">&lt;subnet&gt;</code>, and can optionally specify a <code class="code" id="-7cd100_35">&lt;description&gt;</code>. The <code class="code" id="-7cd100_36">&lt;subnet&gt;</code> is any valid IPv4 or IPv6 subnet in <a href="https://web.archive.org/web/20160424230240/https://wikipedia.org/wiki/CIDR_notation" id="-7cd100_37" data-external="true" rel="noopener noreferrer" target="_blank">CIDR</a> notation.</p></section><section class="chapter"><h2 id="limits" data-toc="limits">Limits</h2><p id="-7cd100_38">You may define a maximum of 100 blacklist entries in your configuration file. Uploading a configuration file with more than 100 entries will fail.</p></section><section class="chapter"><h2 id="uploading-dos-configuration" data-toc="uploading-dos-configuration">Uploading DoS configuration</h2><p id="-7cd100_39">You can use <code class="code" id="-7cd100_44">AppCfg</code> to upload DoS configs. When you upload your application to App Engine using <code class="code" id="-7cd100_45">AppCfg update</code>, the DoS Protection Service is updated with the contents of <code class="code" id="-7cd100_46">dos.xml</code>.</p><p id="-7cd100_40">You can update just the DoS configuration without uploading the rest of the application using the following command:</p><div class="code-block" data-lang="none">
`AppCfg update_dos` &lt;directory&gt;
</div><p id="-7cd100_42">To delete all blacklist entries, change the <code class="code" id="-7cd100_47">dos.xml</code> file to just contain:</p><div class="code-block" data-lang="none">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;blacklistentries/&gt;
</div></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="configuring-appengine-web-xml.html" class="navigation-links__prev">Configuring appengine-web.xml</a><a href="the-deployment-descriptor-web-xml.html" class="navigation-links__next">The Deployment Descriptor: web.xml</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>