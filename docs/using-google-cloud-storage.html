<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:44.726927408"><title>Using Google Cloud Storage | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"contents","level":0,"title":"Contents","anchor":"#contents"},{"id":"prerequisites-and-setup","level":0,"title":"Prerequisites and setup","anchor":"#prerequisites-and-setup"},{"id":"activating-a-cloud-storage-bucket","level":0,"title":"Activating a Cloud Storage bucket","anchor":"#activating-a-cloud-storage-bucket"},{"id":"downloading-the-client-library","level":0,"title":"Downloading the client library","anchor":"#downloading-the-client-library"},{"id":"reading-and-writing-to-a-bucket","level":0,"title":"Reading and writing to a bucket","anchor":"#reading-and-writing-to-a-bucket"},{"id":"using-the-client-library-with-the-development-app-server","level":0,"title":"Using the client library with the development app server","anchor":"#using-the-client-library-with-the-development-app-server"},{"id":"pricing-quotas-and-limits","level":0,"title":"Pricing, quotas, and limits","anchor":"#pricing-quotas-and-limits"},{"id":"alternatives-ways-to-access-cloud-storage","level":0,"title":"Alternatives ways to access Cloud Storage","anchor":"#alternatives-ways-to-access-cloud-storage"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Using Google Cloud Storage | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/using-google-cloud-storage.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Using Google Cloud Storage | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/using-google-cloud-storage.html#webpage",
    "url": "writerside-documentation/using-google-cloud-storage.html",
    "name": "Using Google Cloud Storage | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Using-Google-Cloud-Storage" data-main-title="Using Google Cloud Storage" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Storing-Data.md|Storing Data///Google-Cloud-Storage.md|Google Cloud Storage"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Using-Google-Cloud-Storage" id="Using-Google-Cloud-Storage.md">Using Google Cloud Storage</h1><p id="-o9blu3_3"><a href="https://web.archive.org/web/20160424230936/http://stackoverflow.com/questions/tagged/google-app-engine+google-cloud-storage" id="-o9blu3_18" data-external="true" rel="noopener noreferrer" target="_blank"><figure id="-o9blu3_19"><img alt="Stack overflow questions" src="https://web.archive.org/web/20160424230936im_/https://cloud.google.com/cloud/images/stack_overflow_questions.png" title="Stack Overflow Questions" width="240" height="53"></figure></a></p><p id="-o9blu3_4"><a href="https://web.archive.org/web/20160424230936/http://stackoverflow.com/feeds/tag?sort=votes&amp;tagnames=google-app-engine%2Bgoogle-cloud-storage" id="-o9blu3_20" data-external="true" rel="noopener noreferrer" target="_blank">https://web.archive.org/web/20160424230936/http://stackoverflow.com/feeds/tag?sort=votes&amp;tagnames=google-app-engine%2Bgoogle-cloud-storage</a></p><p id="-o9blu3_5"></p><p id="-o9blu3_6"><a href="https://web.archive.org/web/20160424230936/http://stackoverflow.com/questions/tagged/google-app-engine+google-cloud-storage?sort=votes" id="-o9blu3_21" data-external="true" rel="noopener noreferrer" target="_blank">See more...</a></p><p id="-o9blu3_7">You can use a <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/storage/" id="-o9blu3_22" data-external="true" rel="noopener noreferrer" target="_blank">Cloud Storage</a> bucket to store and serve files, such as movies or images or other static content.</p><p id="-o9blu3_8">This document describes how to store and retrieve data using Cloud Storage in an App Engine app using the Google Cloud Storage client library. This client library provides error handling, retries, read buffering with prefetch, and uses HTTPS so your data is encrypted during transfer.</p><p id="-o9blu3_9">For more information about Cloud Storage, see the Cloud Storage <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/storage/docs" id="-o9blu3_23" data-external="true" rel="noopener noreferrer" target="_blank">documentation</a>.</p><section class="chapter"><h2 id="contents" data-toc="contents">Contents</h2><ol class="list _decimal" id="-o9blu3_24" type="1"><li class="list__item" id="-o9blu3_25"><p id="-o9blu3_32"><span id="-o9blu3_33">Prerequisites and setup</span></p></li><li class="list__item" id="-o9blu3_26"><p id="-o9blu3_34"><span id="-o9blu3_36">Activating a Cloud Storage bucket</span></p><ol class="list _decimal" id="-o9blu3_35" type="1"><li class="list__item" id="-o9blu3_37"><p id="-o9blu3_38"><span id="-o9blu3_39">Setting bucket and object permissions</span></p></li></ol></li><li class="list__item" id="-o9blu3_27"><p id="-o9blu3_40"><span id="-o9blu3_41">Downloading the client library</span></p></li><li class="list__item" id="-o9blu3_28"><p id="-o9blu3_42"><span id="-o9blu3_43">Reading and writing to a bucket</span></p></li><li class="list__item" id="-o9blu3_29"><p id="-o9blu3_44"><span id="-o9blu3_45">Using the client library with the development app server</span></p></li><li class="list__item" id="-o9blu3_30"><p id="-o9blu3_46"><span id="-o9blu3_47">Pricing, quotas, and limits</span></p></li><li class="list__item" id="-o9blu3_31"><p id="-o9blu3_48"><span id="-o9blu3_49">Alternatives ways to access Cloud Storage</span></p></li></ol></section><section class="chapter"><h2 id="prerequisites-and-setup" data-toc="prerequisites-and-setup">Prerequisites and setup</h2><p id="-o9blu3_50">You need to complete the following:</p><ol class="list _decimal" id="-o9blu3_51" type="1"><li class="list__item" id="-o9blu3_52"><p id="-o9blu3_55">Follow the instructions in <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/appengine/docs/java/" id="-o9blu3_56" data-external="true" rel="noopener noreferrer" target="_blank">&quot;Hello, World!&quot; for Java on App Engine</a> to set up your environment and project, and to understand how Java apps are structured in App Engine. Write down and save your project ID for use with your application.</p></li><li class="list__item" id="-o9blu3_53"><p id="-o9blu3_57">Activate a Cloud Storage bucket for your app to use, and set permissions if neccessary .</p></li><li class="list__item" id="-o9blu3_54"><p id="-o9blu3_58">Download the client library.</p></li></ol></section><section class="chapter"><h2 id="activating-a-cloud-storage-bucket" data-toc="activating-a-cloud-storage-bucket">Activating a Cloud Storage bucket</h2><p id="-o9blu3_59">To use Cloud Storage, you'll need to activate at least one bucket. Typically, you might want to use the 5GB free default bucket, and upgrade this into a paid bucket if you need more storage. You can always activate and use other paid bucket if you want, but there is only one free default bucket per project.</p><p id="-o9blu3_60">To activate the free, default Cloud Storage bucket for your app:</p><ol class="list _decimal" id="-o9blu3_61" type="1"><li class="list__item" id="-o9blu3_64"><p id="-o9blu3_66">Click <span class="control" id="-o9blu3_67">Create</span> under <span class="emphasis" id="-o9blu3_68">Default Cloud Storage Bucket</span> in the <a href="https://web.archive.org/web/20160424230936/https://console.cloud.google.com/appengine/settings" id="-o9blu3_69" data-external="true" rel="noopener noreferrer" target="_blank">App Engine settings</a> page for your project. Notice the name of this bucket: it is in the form <code class="code" id="-o9blu3_70">&lt;project-id&gt;.appspot.com</code>.</p></li><li class="list__item" id="-o9blu3_65"><p id="-o9blu3_71">If you need more storage than the 5GB limit, you can increase this by <a href="https://web.archive.org/web/20160424230936/https://console.cloud.google.com/billing" id="-o9blu3_72" data-external="true" rel="noopener noreferrer" target="_blank">enabling billing</a> for your project, making this a paid bucket. You will be charged for storage over the 5GB limit.</p></li></ol><p id="-o9blu3_62">If you want to activate one or more paid buckets, follow the instructions under <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/storage/docs/cloud-console#_creatingbuckets" id="-o9blu3_73" data-external="true" rel="noopener noreferrer" target="_blank">Creating a bucket</a> to activate them.</p><section class="chapter"><h3 id="setting-bucket-and-object-permissions" data-toc="setting-bucket-and-object-permissions">Setting bucket and object permissions</h3><p id="-o9blu3_74">By default, when you create a bucket for your project, your app has all the permissions required to read and write to it.</p><p id="-o9blu3_75">If you want to set permissions to allow other users to access the bucket and its contents, see <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/storage/docs/cloud-console#_bucketpermission" id="-o9blu3_76" data-external="true" rel="noopener noreferrer" target="_blank">Setting bucket permissions</a> and <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/storage/docs/cloud-console#_permissions" id="-o9blu3_77" data-external="true" rel="noopener noreferrer" target="_blank">Setting object permissions</a>.</p></section></section><section class="chapter"><h2 id="downloading-the-client-library" data-toc="downloading-the-client-library">Downloading the client library</h2><p id="-o9blu3_78">You can download the library using popular tools like <a href="https://web.archive.org/web/20160424230936/https://maven.apache.org/" id="-o9blu3_83" data-external="true" rel="noopener noreferrer" target="_blank">Apache Maven</a>, <a href="https://web.archive.org/web/20160424230936/http://ant.apache.org/ivy/" id="-o9blu3_84" data-external="true" rel="noopener noreferrer" target="_blank">Apache Ivy</a>, or <a href="https://web.archive.org/web/20160424230936/http://git-scm.com/" id="-o9blu3_85" data-external="true" rel="noopener noreferrer" target="_blank">Git</a>, or you can download the library manually from the Maven repository. Choose your preferred method:</p><section class="chapter"><h3 id="maven" data-toc="maven">Maven</h3><p id="-o9blu3_86">Maven users should include the following in their application's <code class="code" id="-o9blu3_89">pom.xml</code> file:</p><div class="code-block" data-lang="none">
&lt;dependency&gt;
    &lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;
    &lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;
    &lt;version&gt;RELEASE&lt;/version&gt;
&lt;/dependency&gt;
</div><p id="-o9blu3_88">Note that <code class="code" id="-o9blu3_90">RELEASE</code> is a literal value that results in the download of the latest client library for your project.</p></section><section class="chapter"><h3 id="ivy" data-toc="ivy">Ivy</h3><p id="-o9blu3_91">Ivy users should include the following in their application's <code class="code" id="-o9blu3_93">ivy.xml</code> file:</p><div class="code-block" data-lang="none">
&lt;dependency org=&quot;com.google.appengine.tools&quot;
            name=&quot;appengine-gcs-client&quot;
            rev=&quot;latest.integration&quot; /&gt;
</div></section><section class="chapter"><h3 id="git" data-toc="git">Git</h3><p id="-o9blu3_94">If you have Git installed, you can clone the Google Cloud Storage client library's GitHub repository as follows:</p><div class="code-block" data-lang="none">
git clone https://github.com/GoogleCloudPlatform/appengine-gcs-client.git appengine-gcs-client-read-only
</div></section><section class="chapter"><h3 id="manual-download" data-toc="manual-download">Manual download</h3><p id="-o9blu3_96">Visit the library's Maven repository and download the latest class, source, and JavaDoc JAR files:</p><ul class="list _bullet" id="-o9blu3_97"><li class="list__item" id="-o9blu3_101"><p id="-o9blu3_102"><a href="https://web.archive.org/web/20160424230936/http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.google.appengine.tools%22%20a%3A%22appengine-gcs-client%22" id="-o9blu3_103" data-external="true" rel="noopener noreferrer" target="_blank">Google Cloud Storage client library</a></p></li></ul><p id="-o9blu3_98">In addition, you will need to download the following dependencies and include them in your application:</p><ul class="list _bullet" id="-o9blu3_99"><li class="list__item" id="-o9blu3_104"><p id="-o9blu3_107"><a href="https://web.archive.org/web/20160424230936/https://github.com/google/guava" id="-o9blu3_108" data-external="true" rel="noopener noreferrer" target="_blank">Guava library</a></p></li><li class="list__item" id="-o9blu3_105"><p id="-o9blu3_109"><a href="https://web.archive.org/web/20160424230936/http://www.joda.org/joda-time/" id="-o9blu3_110" data-external="true" rel="noopener noreferrer" target="_blank">Joda-Time library</a></p></li><li class="list__item" id="-o9blu3_106"><p id="-o9blu3_111"><a href="https://web.archive.org/web/20160424230936/https://developers.google.com/api-client-library/java/apis/storage/v1" id="-o9blu3_112" data-external="true" rel="noopener noreferrer" target="_blank">Cloud Storage API client library</a></p></li></ul><p id="-o9blu3_100"><span class="control" id="-o9blu3_113">Note:</span> If you use Maven or Ivy, the dependencies are automatically retrieved for you.</p></section></section><section class="chapter"><h2 id="reading-and-writing-to-a-bucket" data-toc="reading-and-writing-to-a-bucket">Reading and writing to a bucket</h2><p id="-o9blu3_114">The following sample shows how to write a file to a Cloud Storage bucket, and how to retrieve a file:</p><p id="-o9blu3_115"><a href="https://web.archive.org/web/20160424230936/https://github.com/GoogleCloudPlatform/appengine-gcs-client/blob/master/java/example/src/com/google/appengine/demos/GcsExampleServlet.java" id="-o9blu3_120" data-external="true" rel="noopener noreferrer" target="_blank">java/example/src/com/google/appengine/demos/GcsExampleServlet.java</a></p><p id="-o9blu3_116"><a href="https://web.archive.org/web/20160424230936/https://github.com/GoogleCloudPlatform/appengine-gcs-client/blob/master/java/example/src/com/google/appengine/demos/GcsExampleServlet.java" id="-o9blu3_121" data-external="true" rel="noopener noreferrer" target="_blank">View on GitHub</a></p><p id="-o9blu3_117">\[This section requires a browser that supports JavaScript and iframes.\]</p><p id="-o9blu3_118">Notice the sample shows the optional use of the Blobstore API for serving files stored in Cloud Storage. This can be a more cost effective and faster way to return files to the caller because it returns the file to the caller without your app having to read the file. For more information, see <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/appengine/docs/java/blobstore/#Java_Using_the_Blobstore_API_with_Google_Cloud_Storage" id="-o9blu3_122" data-external="true" rel="noopener noreferrer" target="_blank">Using the Blobstore API with Google Cloud Storage</a>.</p><p id="-o9blu3_119">Also, notice that the code above shows how to set the retry parameters, which control the retries that occur in case of network or resource issues. Normally, you should not have to set the retry parameters, because the default values will work for the majority of cases.</p></section><section class="chapter"><h2 id="using-the-client-library-with-the-development-app-server" data-toc="using-the-client-library-with-the-development-app-server">Using the client library with the development app server</h2><p id="-o9blu3_123">You can use the client library with the development server. This provides Cloud Storage emulation using the local disk.</p><p id="-o9blu3_124"><span class="control" id="-o9blu3_125">Note:</span> Files saved locally are subject to the file size and naming conventions imposed by the local filesystem.</p></section><section class="chapter"><h2 id="pricing-quotas-and-limits" data-toc="pricing-quotas-and-limits">Pricing, quotas, and limits</h2><p id="-o9blu3_126">There are no bandwidth charges associated with making Google Cloud Storage client library calls to Cloud Storage. However, there are operations charges; because the calls count against your <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/appengine/docs/quotas#UrlFetch" id="-o9blu3_128" data-external="true" rel="noopener noreferrer" target="_blank">URL fetch quota</a>, as the library uses the URL Fetch service to interact with Cloud Storage. And There are operations and storage charges, however,</p><p id="-o9blu3_127">Notice that Google Cloud Storage is a pay-to-use service; you will be charged according to the Cloud Storage <a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/storage/pricing" id="-o9blu3_129" data-external="true" rel="noopener noreferrer" target="_blank">price sheet</a>.</p></section><section class="chapter"><h2 id="alternatives-ways-to-access-cloud-storage" data-toc="alternatives-ways-to-access-cloud-storage">Alternatives ways to access Cloud Storage</h2><p id="-o9blu3_130">Instead of using the client library, you could use the following:</p><ul class="list _bullet" id="-o9blu3_131"><li class="list__item" id="-o9blu3_132"><p id="-o9blu3_135"><a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/appengine/docs/go/googlecloudstorageclient/#Go_Cloud_Storage_REST_API" id="-o9blu3_136" data-external="true" rel="noopener noreferrer" target="_blank">Cloud Storage REST API</a>. This could be a good choice if you need a specific feature not provided in the client library. However, this isn't compatible with the development server.</p></li><li class="list__item" id="-o9blu3_133"><p id="-o9blu3_137"><a href="https://web.archive.org/web/20160424230936/https://console.cloud.google.com/storage/browser" id="-o9blu3_138" data-external="true" rel="noopener noreferrer" target="_blank">Cloud Storage Browser</a> in the Google Cloud Platform Console. Useful for uploading objects quickly.</p></li><li class="list__item" id="-o9blu3_134"><p id="-o9blu3_139"><a href="https://web.archive.org/web/20160424230936/https://cloud.google.com/storage/docs/gsutil" id="-o9blu3_140" data-external="true" rel="noopener noreferrer" target="_blank">gsutil</a>. A command line tool.</p></li></ul></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="google-cloud-storage.html" class="navigation-links__prev">Google Cloud Storage</a><a href="understanding-storage-features.html" class="navigation-links__next">Understanding Storage Features</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>