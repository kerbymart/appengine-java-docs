<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:45.283039178"><title>Task Queue Java API Overview | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"task-queue-concepts","level":0,"title":"Task Queue concepts","anchor":"#task-queue-concepts"},{"id":"task-concepts","level":0,"title":"Task concepts","anchor":"#task-concepts"},{"id":"deleting-tasks","level":0,"title":"Deleting tasks","anchor":"#deleting-tasks"},{"id":"asynchronous-operations","level":0,"title":"Asynchronous operations","anchor":"#asynchronous-operations"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Task Queue Java API Overview | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/task-queue-java-api-overview.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Task Queue Java API Overview | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/task-queue-java-api-overview.html#webpage",
    "url": "writerside-documentation/task-queue-java-api-overview.html",
    "name": "Task Queue Java API Overview | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Task-Queue-Java-API-Overview" data-main-title="Task Queue Java API Overview" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Scheduling-Work-Outside-of-User-Requests.md|Scheduling Work Outside of User Requests///Task-Queue-API.md|Task Queue API"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Task-Queue-Java-API-Overview" id="Task-Queue-Java-API-Overview.md">Task Queue Java API Overview</h1><p id="-cdcm3q_3"><a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/python/taskqueue/" id="-cdcm3q_22" data-tooltip="View this page in the Python runtime" data-external="true" rel="noopener noreferrer" target="_blank">Python</a> |Java |<a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/php/taskqueue/" id="-cdcm3q_23" data-tooltip="View this page in the PHP runtime" data-external="true" rel="noopener noreferrer" target="_blank">PHP</a> |<a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/go/taskqueue/" id="-cdcm3q_24" data-tooltip="View this page in the Go runtime" data-external="true" rel="noopener noreferrer" target="_blank">Go</a></p><p id="-cdcm3q_4">Related videos</p><p id="-cdcm3q_5">Related topics</p><ul class="list _bullet" id="-cdcm3q_6"><li class="list__item" id="-cdcm3q_25"><p id="-cdcm3q_28"><a href="https://web.archive.org/web/20160424223743/https://developers.google.com/appengine/articles/deferred" id="-cdcm3q_29" data-external="true" rel="noopener noreferrer" target="_blank">Background work with the deferred library</a></p></li><li class="list__item" id="-cdcm3q_26"><p id="-cdcm3q_30"><a href="https://web.archive.org/web/20160424223743/https://dl.google.com/googleio/2010/app-engine-data-pipelines.pdf" id="-cdcm3q_31" data-external="true" rel="noopener noreferrer" target="_blank">Building high-throughput data pipelines on Google App Engine</a></p></li><li class="list__item" id="-cdcm3q_27"><p id="-cdcm3q_32"><a href="https://web.archive.org/web/20160424223743/https://code.google.com/p/appengine-pipeline/" id="-cdcm3q_33" data-external="true" rel="noopener noreferrer" target="_blank">Google App Engine Pipeline API</a></p></li></ul><p id="-cdcm3q_7">Related samples</p><ul class="list _bullet" id="-cdcm3q_8"><li class="list__item" id="-cdcm3q_34"><p id="-cdcm3q_35"><a href="https://web.archive.org/web/20160424223743/https://github.com/GoogleCloudPlatform/appengine-last-across-the-finish-line-python" id="-cdcm3q_36" data-external="true" rel="noopener noreferrer" target="_blank">Last Across the Finish Line (Python)</a></p></li></ul><p id="-cdcm3q_9"><a href="https://web.archive.org/web/20160424223743/http://stackoverflow.com/questions/tagged/google-app-engine+task-queue" id="-cdcm3q_37" data-external="true" rel="noopener noreferrer" target="_blank"><figure id="-cdcm3q_38"><img alt="Stack overflow questions" src="https://web.archive.org/web/20160424223743im_/https://cloud.google.com/cloud/images/stack_overflow_questions.png" title="Stack Overflow Questions" width="240" height="53"></figure></a></p><p id="-cdcm3q_10"><a href="https://web.archive.org/web/20160424223743/http://stackoverflow.com/feeds/tag?sort=votes&amp;tagnames=google-app-engine%2Btask-queue" id="-cdcm3q_39" data-external="true" rel="noopener noreferrer" target="_blank">https://web.archive.org/web/20160424223743/http://stackoverflow.com/feeds/tag?sort=votes&amp;tagnames=google-app-engine%2Btask-queue</a></p><p id="-cdcm3q_11"></p><p id="-cdcm3q_12"><a href="https://web.archive.org/web/20160424223743/http://stackoverflow.com/questions/tagged/google-app-engine+task-queue?sort=votes" id="-cdcm3q_40" data-external="true" rel="noopener noreferrer" target="_blank">See more...</a></p><p id="-cdcm3q_13">With the Task Queue API, applications can perform work outside of a user request, initiated by a user request. If an app needs to execute some background work, it can use the Task Queue API to organize that work into small, discrete units, called <span id="-cdcm3q_41">tasks</span>. The app adds tasks to <span id="-cdcm3q_42">task queues</span> to be executed later.</p><p id="-cdcm3q_14">App Engine provides two different queue configurations:</p><ol class="list _decimal" id="-cdcm3q_15" type="1"><li class="list__item" id="-cdcm3q_43"><p id="-cdcm3q_45"><a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-push" id="-cdcm3q_46" data-external="true" rel="noopener noreferrer" target="_blank">Push queues</a> process tasks based on the processing rate configured in the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/config/queue" id="-cdcm3q_47" data-external="true" rel="noopener noreferrer" target="_blank">queue definition</a>. App Engine automatically scales processing capacity to match your queue configuration and processing volume, and also deletes tasks after processing. Push queues are the default.</p></li><li class="list__item" id="-cdcm3q_44"><p id="-cdcm3q_48"><a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-pull" id="-cdcm3q_49" data-external="true" rel="noopener noreferrer" target="_blank">Pull queues</a> allow a task consumer (either your application or code external to your application) to lease tasks at a specific time for processing within a specific timeframe. Pull queues give you more control over when tasks are processed, and also allow you to integrate your application with non-App-Engine code using the experimental <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/rest" id="-cdcm3q_50" data-external="true" rel="noopener noreferrer" target="_blank">Task Queue REST API</a>. When using pull queues, your application needs to handle scaling of instances based on processing volume, and also needs to delete tasks after processing.</p></li></ol><p id="-cdcm3q_16">This page provides the basic concepts common to both types of queues. Once you've understood the basics, you can check out the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/config/queue" id="-cdcm3q_51" data-external="true" rel="noopener noreferrer" target="_blank">queue configuration page</a>, <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-push" id="-cdcm3q_52" data-external="true" rel="noopener noreferrer" target="_blank">push queue overview</a>, and <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-pull" id="-cdcm3q_53" data-external="true" rel="noopener noreferrer" target="_blank">pull queue overview</a> to see how to configure and use these two types of queues.</p><ol class="list _decimal" id="-cdcm3q_17" type="1"><li class="list__item" id="-cdcm3q_54"><p id="-cdcm3q_57"><span id="-cdcm3q_59">Task Queue concepts</span></p><ul class="list _bullet" id="-cdcm3q_58"><li class="list__item" id="-cdcm3q_60"><p id="-cdcm3q_64"><span id="-cdcm3q_65">The default queue</span></p></li><li class="list__item" id="-cdcm3q_61"><p id="-cdcm3q_66"><span id="-cdcm3q_67">Named queues</span></p></li><li class="list__item" id="-cdcm3q_62"><p id="-cdcm3q_68"><span id="-cdcm3q_69">Task queues in the Cloud Platform Console</span></p></li><li class="list__item" id="-cdcm3q_63"><p id="-cdcm3q_70"><span id="-cdcm3q_71">Checking task queue statistics</span></p></li></ul></li><li class="list__item" id="-cdcm3q_55"><p id="-cdcm3q_72"><span id="-cdcm3q_74">Task concepts</span></p><ul class="list _bullet" id="-cdcm3q_73"><li class="list__item" id="-cdcm3q_75"><p id="-cdcm3q_78"><span id="-cdcm3q_79">Task names</span></p></li><li class="list__item" id="-cdcm3q_76"><p id="-cdcm3q_80"><span id="-cdcm3q_81">Tasks within transactions</span></p></li><li class="list__item" id="-cdcm3q_77"><p id="-cdcm3q_82"><span id="-cdcm3q_83">Deleting tasks</span></p></li></ul></li><li class="list__item" id="-cdcm3q_56"><p id="-cdcm3q_84"><span id="-cdcm3q_85">Asynchronous operations</span></p></li></ol><section class="chapter"><h2 id="task-queue-concepts" data-toc="task-queue-concepts">Task Queue concepts</h2><p id="-cdcm3q_86">Tasks queues are an efficient and powerful tool for background processing; they allow your application to define tasks, add them to a queue, and then use the queue to process them in aggregate. You name queues and <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/config/queue" id="-cdcm3q_95" data-external="true" rel="noopener noreferrer" target="_blank">configure their properties</a> in a configuration file named <code class="code" id="-cdcm3q_96">queue.xml</code>.</p><p id="-cdcm3q_87">Push queues function only within the App Engine environment. These queues are the best choice for applications whose tasks work only with App Engine tools and services. With push queues, you simply configure a queue and add tasks to it. App Engine handles the rest. Push queues are easier to implement, but are restricted to use within App Engine. For more information about push queues and examples of how to use them, see <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-push" id="-cdcm3q_97" data-external="true" rel="noopener noreferrer" target="_blank">Using Push Queues</a>.</p><p id="-cdcm3q_88">If you want to use a different system to consume tasks, pull queues are your best choice. In pull queues, a task consumer (either in your App Engine application, a <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/backends" id="-cdcm3q_98" data-external="true" rel="noopener noreferrer" target="_blank">backend</a>, or code outside of App Engine) leases a specific number of tasks from a specific queue for a specific timeframe. After leasing tasks from a pull queue, the task consumer is responsible for deleting them. If you are consuming tasks from within App Engine, you can use calls from the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/package-summary" id="-cdcm3q_99" data-external="true" rel="noopener noreferrer" target="_blank">com.google.appengine.api.taskqueue package</a>. If you are consuming tasks from outside of App Engine, you need to use the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/rest" id="-cdcm3q_100" data-external="true" rel="noopener noreferrer" target="_blank">Task Queue REST API</a>. Pull queues give you more power and flexibility over when and where tasks are processed, but they require you to handle scaling of workers based on processing volume. Your task consumer also needs to delete tasks after processing.</p><p id="-cdcm3q_89">In summary, push queues allow you to process tasks within App Engine at a steady rate and App Engine scales computing resources according to the number of tasks in your queue. Pull queues allow an alternate task consumer to process tasks at a specific time, either in or outside App Engine, but your application needs to scale workers based on processing volume, as well as delete tasks after processing.</p><p id="-cdcm3q_90">You can read more about these two types of queues in the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-push" id="-cdcm3q_101" data-external="true" rel="noopener noreferrer" target="_blank">Using Push Queues</a> and <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-pull" id="-cdcm3q_102" data-external="true" rel="noopener noreferrer" target="_blank">Using Pull Queues</a>.</p><section class="chapter"><h3 id="the-default-queue" data-toc="the-default-queue">The default queue</h3><p id="-cdcm3q_103">For convenience, App Engine provides a default push queue for each application (there is no default pull queue). If you do not name a queue for a task, App Engine automatically inserts it into the default queue. You can use this queue immediately without any additional configuration. All modules and versions of the same application share the same default task queue.</p><p id="-cdcm3q_104">The default queue is preconfigured with a throughput rate of 5 task invocations per second. If you want to change the preconfigured settings, simply define a queue named <code class="code" id="-cdcm3q_105">default</code> in <code class="code" id="-cdcm3q_106">queue.xml</code>. Code may always insert new tasks into the default queue, but if you wish to disable execution of these tasks, you may do so by clicking the Pause Queue button in the Cloud Platform Console <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/console/#queues" id="-cdcm3q_107" data-external="true" rel="noopener noreferrer" target="_blank">Task queues page</a>.</p></section><section class="chapter"><h3 id="named-queues" data-toc="named-queues">Named queues</h3><p id="-cdcm3q_108">While the default queue makes it easy to enqueue tasks with no configuration, you can also create custom queues by defining them in <code class="code" id="-cdcm3q_111">queue.xml</code>. Custom queues allow you to more effectively handle task processing by grouping similar types of tasks. You can control the processing rate&mdash;and a number of other settings&mdash;based specifically on the type of task in each queue.</p><p id="-cdcm3q_109">All versions of an application share the same named task queues. A queue name can contain uppercase and lowercase letters, numbers, and hyphens. The maximum length for a queue name is 100 characters.</p><p id="-cdcm3q_110">For more information about configuring queues in <code class="code" id="-cdcm3q_112">queue.xml</code>, please see <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/config/queue" id="-cdcm3q_113" data-external="true" rel="noopener noreferrer" target="_blank">Task Queue Configuration</a>.</p></section><section class="chapter"><h3 id="task-queues-in-the-cloud-platform-console" data-toc="task-queues-in-the-cloud-platform-console">Task queues in the Cloud Platform Console</h3><p id="-cdcm3q_114"><span class="control" id="-cdcm3q_117">Important</span>: The default queue appears in the Console only after the app has enqueued a task to it for the first time.</p><p id="-cdcm3q_115">You can manage task queues for an application using the Cloud Platform Console <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/console/#queues" id="-cdcm3q_118" data-external="true" rel="noopener noreferrer" target="_blank">Task queues page</a>. The <span class="control" id="-cdcm3q_119">Task Queue</span> tab lists all of the queues in the application. Clicking on a queue name brings up the <span class="control" id="-cdcm3q_120">Task Queue Details</span> page where you can see all of the tasks scheduled to run in a queue and you can manually delete individual tasks or purge every task from a queue. This is useful if a task in a push queue cannot be completed successfully and is stuck waiting to be retried. You can also pause and resume a queue on this page.</p><p id="-cdcm3q_116">You can view details of individual tasks by clicking the task name from the list of tasks on the <span class="control" id="-cdcm3q_121">Task Queue Details</span> page. This page allows you to debug why a task did not run successfully. You can also see information about the previous run of the task as well as the task's body.</p></section><section class="chapter"><h3 id="checking-task-queue-statistics" data-toc="checking-task-queue-statistics">Checking task queue statistics</h3><p id="-cdcm3q_122">You can view queue statistics in the Console to determine performance and status. However, you can also access queue statistics programmatically using the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/QueueStatistics.html" id="-cdcm3q_123" data-external="true" rel="noopener noreferrer" target="_blank">QueueStatistics</a> class.</p></section></section><section class="chapter"><h2 id="task-concepts" data-toc="task-concepts">Task concepts</h2><p id="-cdcm3q_124">A <span class="emphasis" id="-cdcm3q_127">task</span> is a unit of work to be performed by the application. Each task is an object of the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/TaskOptions" id="-cdcm3q_128" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-cdcm3q_132">TaskOptions</code></a> class. Each Task object contains an endpoint (with a request handler for the task and an optional data payload that parameterizes the task). You can enqueue push tasks to a queue defined in <code class="code" id="-cdcm3q_129">queue.xml</code>. Push tasks and pull tasks are defined differently; see the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-push" id="-cdcm3q_130" data-external="true" rel="noopener noreferrer" target="_blank">Using Push Queues</a> and <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/overview-pull" id="-cdcm3q_131" data-external="true" rel="noopener noreferrer" target="_blank">Using Pull Queues</a> for specific usage details.</p><section class="chapter"><h3 id="task-names" data-toc="task-names">Task names</h3><p id="-cdcm3q_133">You may optionally assign a name to a task. Task names must be unique within a queue. Once a named task is added to a queue, any subsequent attempt to insert another task with the same name into the same queue will fail. If a task successfully executes or is deleted, you must wait for a period of 10 days before you can insert a new task with that same name.</p><p id="-cdcm3q_134">Note that task names do not provide an absolute guarantee of once-only semantics. In extremely rare cases, multiple calls to create a task of the same name may succeed, but in this event, only one of the tasks would be executed. It's also possible in exceptional cases for a task to run more than once.</p><p id="-cdcm3q_135">A task name can contain uppercase and lowercase letters, numbers, underscores, and hyphens. The maximum length for a task name is 500 characters.</p><p id="-cdcm3q_136">A task is deleted immediately upon successful execution or deletion, or after a maximum number of failures. The task name can then be re-used after 10 days. Attempting to create another task with that same name during this 10-day period will result in an &quot;item exists&quot; error. To avoid issues with task name re-use, we recommend that you let App Engine generate the task name automatically.</p></section><section class="chapter"><h3 id="tasks-within-transactions" data-toc="tasks-within-transactions">Tasks within transactions</h3><p id="-cdcm3q_137">You can enqueue a task as part of a datastore transaction, such that the task is only enqueued&mdash;and guaranteed to be enqueued&mdash;if the transaction is committed successfully. Tasks added within a <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/datastore/transactions" id="-cdcm3q_141" data-external="true" rel="noopener noreferrer" target="_blank">transaction</a> are considered to be a part of it and have the same level of <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/datastore/transactions#Java_Isolation_and_consistency" id="-cdcm3q_142" data-external="true" rel="noopener noreferrer" target="_blank">isolation and consistency</a>.</p><p id="-cdcm3q_138">An application cannot insert more than five <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/#Java_Tasks_within_transactions" id="-cdcm3q_143" data-external="true" rel="noopener noreferrer" target="_blank">transactional tasks</a> into <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/#Java_Queue_concepts" id="-cdcm3q_144" data-external="true" rel="noopener noreferrer" target="_blank">task queues</a> during a single transaction. Transactional tasks must not have user-specified names.</p><p id="-cdcm3q_139">The following code sample demonstrates how to insert transactional tasks into a push queue as part of a datastore transaction:</p><div class="code-block" data-lang="none">
DatastoreService ds = DatastoreServiceFactory.getDatastoreService();
Queue queue = QueueFactory.getDefaultQueue();
try {
    Transaction txn = ds.beginTransaction();

    // ...

    queue.add(TaskOptions.Builder.withUrl(&quot;/path/to/my/worker&quot;));

    // ...
    txn.commit();
} catch (DatastoreFailureException e) {
}
</div></section></section><section class="chapter"><h2 id="deleting-tasks" data-toc="deleting-tasks">Deleting tasks</h2><p id="-cdcm3q_145"><span class="control" id="-cdcm3q_150">Warning</span>: Do not create new tasks in the same second as the purge call. Tasks created in close temporal proximity to a purge call will also be purged.</p><p id="-cdcm3q_146">You can delete tasks through the Cloud Platform Console or programatically. It may take several hours to reclaim the quota used by purged queues. It takes the system about 20 seconds to notice that the queue has been purged. In push queues, tasks continue to execute during this time.</p><p id="-cdcm3q_147">You have two ways to delete tasks:</p><ol class="list _decimal" id="-cdcm3q_148" type="1"><li class="list__item" id="-cdcm3q_151"><p id="-cdcm3q_153">Using the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/taskqueue/#Java_Task_queues_in_the_Developers_Console" id="-cdcm3q_154" data-external="true" rel="noopener noreferrer" target="_blank">Cloud Platform Console</a>.</p></li><li class="list__item" id="-cdcm3q_152"><p id="-cdcm3q_155">Programmatically, using <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/Queue#purge()" id="-cdcm3q_156" data-external="true" rel="noopener noreferrer" target="_blank">purge()</a> to delete all tasks from the specified queue, or using <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/Queue#deleteTask(java.lang.String)" id="-cdcm3q_157" data-external="true" rel="noopener noreferrer" target="_blank">deleteTask()</a> to delete an individual task:</p></li></ol><div class="code-block" data-lang="none">
// Purge entire queue...
Queue queue = QueueFactory.getQueue(&quot;foo&quot;);
queue.purge();
    
// Delete an individual task...
Queue q = QueueFactory.getQueue(&quot;queue1&quot;);
q.deleteTask(&quot;foo&quot;)
</div></section><section class="chapter"><h2 id="asynchronous-operations" data-toc="asynchronous-operations">Asynchronous operations</h2><p id="-cdcm3q_158">The taskqueue library also provides an asynchronous interface for latency-sensitive applications.</p><p id="-cdcm3q_159">However, in most cases, you can just use the synchronous interface because adding a task is usually a fast operation; the median time to add a task is 5ms and 1 out of every 1000 tasks can take up to 300ms. Periodic incidents, such as back-end upgrades, can cause spikes to 1 out of every 1000 tasks taking up to 1s. Also keep in mind that asynchronous code will become more complicated than using the synchronous one.</p><p id="-cdcm3q_160">If you are building applications which are super-sensitive to the latency and you have multiple RPCs that are independent of one another, it's worthwhile to consider using the asynchronous interface in order to minimize the latency.</p><p id="-cdcm3q_161">Consider the case where you need to add 10 tasks to 10 different queues (thus you cannot batch them). In the worst case, calling <code class="code" id="-cdcm3q_163">queue.add()</code> 10 times in a for loop could block up to 10 seconds although it's very rare. If you use the asynchronous interface instead, you can reduce the worst-case latency down to 1 second by adding the tasks to their respective queues in parallel.</p><p id="-cdcm3q_162">If you want to make asynchronous calls to a task queue, you use the asynchronous methods provided by the <a href="https://web.archive.org/web/20160424223743/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/Queue" id="-cdcm3q_164" data-external="true" rel="noopener noreferrer" target="_blank">Queue</a> class. Call <code class="code" id="-cdcm3q_165">get</code> on the returned Future to force the request to complete. When asynchronously adding tasks in a transaction, you should call <code class="code" id="-cdcm3q_166">get()</code> on the Future before committing the transaction to ensure that the request has finished.</p></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="task-queue-api.html" class="navigation-links__prev">Task Queue API</a><a href="using-push-queues-in-java.html" class="navigation-links__next">Using Push Queues in Java</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>