<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:45.335821478"><title>Uploading and Managing a Java App | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"the-appcfg-command","level":0,"title":"The appcfg command","anchor":"#the-appcfg-command"},{"id":"uploading-the-app","level":0,"title":"Uploading the App","anchor":"#uploading-the-app"},{"id":"updating-indexes","level":0,"title":"Updating Indexes","anchor":"#updating-indexes"},{"id":"deleting-unused-indexes","level":0,"title":"Deleting Unused Indexes","anchor":"#deleting-unused-indexes"},{"id":"managing-task-queues","level":0,"title":"Managing Task Queues","anchor":"#managing-task-queues"},{"id":"updating-the-dispatch-file","level":0,"title":"Updating the dispatch file","anchor":"#updating-the-dispatch-file"},{"id":"managing-dos-protection","level":0,"title":"Managing DoS Protection","anchor":"#managing-dos-protection"},{"id":"managing-scheduled-tasks","level":0,"title":"Managing Scheduled Tasks","anchor":"#managing-scheduled-tasks"},{"id":"downloading-an-application","level":0,"title":"Downloading an Application","anchor":"#downloading-an-application"},{"id":"downloading-logs","level":0,"title":"Downloading Logs","anchor":"#downloading-logs"},{"id":"using-an-http-proxy","level":0,"title":"Using an HTTP Proxy","anchor":"#using-an-http-proxy"},{"id":"staging-yaml-files","level":0,"title":"Staging yaml files","anchor":"#staging-yaml-files"},{"id":"command-line-arguments","level":0,"title":"Command Line Arguments","anchor":"#command-line-arguments"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Uploading and Managing a Java App | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/uploading-and-managing-a-java-app.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Uploading and Managing a Java App | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/uploading-and-managing-a-java-app.html#webpage",
    "url": "writerside-documentation/uploading-and-managing-a-java-app.html",
    "name": "Uploading and Managing a Java App | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Uploading-and-Managing-a-Java-App" data-main-title="Uploading and Managing a Java App" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Managing-and-Configuring-Your-App.md|Managing and Configuring Your App"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Uploading-and-Managing-a-Java-App" id="Uploading-and-Managing-a-Java-App.md">Uploading and Managing a Java App</h1><p id="vwp34i_3">The App Engine Java SDK includes a command for interacting with App Engine. You can use this command to upload new versions of the code, configuration, and static files for your app to App Engine. You can also use the command to manage datastore indexes and download log data.</p><p id="vwp34i_4"><span class="control" id="vwp34i_19">Note:</span> If you created your project using the Google Cloud Platform Console, your project has a title and an ID. In the instructions that follow, the <span class="emphasis" id="vwp34i_20">project</span> title and ID can be used wherever an <span class="emphasis" id="vwp34i_21">application</span> title and ID are mentioned. They are the same thing.</p><ol class="list _decimal" id="vwp34i_5" type="1"><li class="list__item" id="vwp34i_22"><p id="vwp34i_35"><span id="vwp34i_36">The appcfg command</span></p></li><li class="list__item" id="vwp34i_23"><p id="vwp34i_37"><span id="vwp34i_38">Uploading the App</span></p></li><li class="list__item" id="vwp34i_24"><p id="vwp34i_39"><span id="vwp34i_40">Updating Indexes</span></p></li><li class="list__item" id="vwp34i_25"><p id="vwp34i_41"><span id="vwp34i_42">Deleting Unused Indexes</span></p></li><li class="list__item" id="vwp34i_26"><p id="vwp34i_43"><span id="vwp34i_44">Managing Task Queues</span></p></li><li class="list__item" id="vwp34i_27"><p id="vwp34i_45"><span id="vwp34i_46">Updating the dispatch file</span></p></li><li class="list__item" id="vwp34i_28"><p id="vwp34i_47"><span id="vwp34i_48">Managing DoS Protection</span></p></li><li class="list__item" id="vwp34i_29"><p id="vwp34i_49"><span id="vwp34i_50">Managing Scheduled Tasks</span></p></li><li class="list__item" id="vwp34i_30"><p id="vwp34i_51"><span id="vwp34i_52">Downloading an Application</span></p></li><li class="list__item" id="vwp34i_31"><p id="vwp34i_53"><span id="vwp34i_54">Downloading Logs</span></p></li><li class="list__item" id="vwp34i_32"><p id="vwp34i_55"><span id="vwp34i_56">Using an HTTP Proxy</span></p></li><li class="list__item" id="vwp34i_33"><p id="vwp34i_57"><span id="vwp34i_58">Staging yaml files</span></p></li><li class="list__item" id="vwp34i_34"><p id="vwp34i_59"><span id="vwp34i_60">Command Line Arguments</span></p></li></ol><section class="chapter"><h2 id="the-appcfg-command" data-toc="the-appcfg-command">The appcfg command</h2><p id="vwp34i_61">The <code class="code" id="vwp34i_68">appcfg</code> command provides a command line interface for uploading your app. It also supports other features such as downloading logs. The command is located in the SDK's <code class="code" id="vwp34i_69">appengine-java-sdk/bin/</code> directory. It is available in two OS-specific wrapper scripts that run the Java class <code class="code" id="vwp34i_70">com.google.appengine.tools.admin.AppCfg</code> in <code class="code" id="vwp34i_71">appengine-java-sdk/lib/appengine-tools-api.jar</code>:</p><p id="vwp34i_62">If you are using Windows, the command is as follows:</p><div class="code-block" data-lang="none">
appengine-java-sdk\bin\appcfg.cmd [options] &lt;action&gt; &lt;war-location&gt;
</div><p id="vwp34i_64">If you are using Mac OS X or Linux, the command is as follows:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh [options] &lt;action&gt; &lt;war-location&gt;
</div><p id="vwp34i_66">The command takes the name of an action to perform and the location of your application's WAR directory as arguments.</p><p id="vwp34i_67">The <code class="code" id="vwp34i_72">appcfg</code> command uses your Google account to authenticate. The default authentication scheme is <a href="https://web.archive.org/web/20160424230850/https://developers.google.com/identity/protocols/OAuth2" id="vwp34i_73" data-external="true" rel="noopener noreferrer" target="_blank">OAuth 2.0</a>, which asks the user to login and authorize <code class="code" id="vwp34i_74">appcfg</code> through a browser. After a successful authorization, <code class="code" id="vwp34i_75">appcfg</code> stores the access token so that the user is not prompted again for subsequent attempts. The token can be deleted by manually removing <code class="code" id="vwp34i_76">.appcfg_oauth2_tokens_java</code> found in the user's home directory. You can also specify the <code class="code" id="vwp34i_77">--no_cookies</code> option to prevent the token from being stored at all.</p></section><section class="chapter"><h2 id="uploading-the-app" data-toc="uploading-the-app">Uploading the App</h2><p id="vwp34i_78">To upload an application, use the <code class="code" id="vwp34i_84">update</code> action, as follows:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh update myapp/war
</div><p id="vwp34i_80">You can <a href="https://web.archive.org/web/20160424230850/https://cloud.google.com/appengine/docs/java/modules/#Java_Uploading_modules" id="vwp34i_85" data-external="true" rel="noopener noreferrer" target="_blank">upload one or more modules at a time</a> with the <code class="code" id="vwp34i_86">update</code> command.</p><p id="vwp34i_81">You can also upload your application from Eclipse, if using the <a href="https://web.archive.org/web/20160424230850/https://developers.google.com/eclipse/docs/appengine" id="vwp34i_87" data-external="true" rel="noopener noreferrer" target="_blank">Google Plugin for Eclipse</a>.</p><p id="vwp34i_82"><span class="control" id="vwp34i_88">Note:</span> Currently, App Engine has a limit of 10 deployed versions per application. If you try to deploy an 11th version you'll get an error: <code class="code" id="vwp34i_89">Too Many Versions (403).</code> You can use the Cloud Platform Console to delete an older version and then upload your latest code.</p><section class="chapter"><h3 id="troubleshooting-upload-errors" data-toc="troubleshooting-upload-errors">Troubleshooting Upload Errors</h3><p id="vwp34i_90">If you use the update feature with <span id="vwp34i_93">passwordless login</span>, your update attempt may fail with a message similar to this one: <code class="code" id="vwp34i_94">404 Not Found This application does not exist (app_id=u'your-app-ID')</code>. This error will occur if you have multiple Google accounts and are using the wrong account to perform the update.</p><p id="vwp34i_91">To solve this issue, change directories to <code class="code" id="vwp34i_95">~</code>, locate a file named <code class="code" id="vwp34i_96">.appcfg_oauth2_tokens_java</code>, and rename it. Then try updating again.</p><p id="vwp34i_92">The <a href="https://web.archive.org/web/20160424230850/https://cloud.google.com/appengine/docs/java/tools/maven#app_engine_maven_plugin_goals" id="vwp34i_97" data-external="true" rel="noopener noreferrer" target="_blank">App Engine Maven plugin</a> update feature uses passwordless login by default, so this error can also be experienced when using that plugin.</p></section></section><section class="chapter"><h2 id="updating-indexes" data-toc="updating-indexes">Updating Indexes</h2><p id="vwp34i_98">When you upload an application using the <code class="code" id="vwp34i_104">update</code> action, the update includes the app's index configuration (the <code class="code" id="vwp34i_105">datastore-indexes.xml</code> and <code class="code" id="vwp34i_106">generated/datastore-indexes-auto.xml</code> files). If the index configuration defines an index that doesn't exist yet on App Engine, App Engine creates the new index. Depending on how much data is already in the datastore that needs to be mentioned in the new index, the process of creating the index may take a while. If the app performs a query that requires an index that hasn't finished building yet, the query will raise an exception.</p><p id="vwp34i_99">To prevent this, you must ensure that the new version of the app that requires a new index is not the live version of the application until the indexes finish building. One way to do this is to give the app a new version number in <code class="code" id="vwp34i_107">appengine-web.xml</code> whenever you add or change an index in the configuration. The app is uploaded as a new version, and does not become the default version automatically. When your indexes have finished building, you can <a href="https://web.archive.org/web/20160424230850/https://console.cloud.google.com/project/_/appengine/versions" id="vwp34i_108" data-external="true" rel="noopener noreferrer" target="_blank">change the default version</a> in the Cloud Platform Console.</p><p id="vwp34i_100">Another way to ensure that new indexes are built before the new app goes live is to upload the index configuration separately before uploading the app. To upload only the index configuration for an app, use the <code class="code" id="vwp34i_109">update_indexes</code> action:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh update_indexes myapp/war
</div><p id="vwp34i_102">The <code class="code" id="vwp34i_110">index.xml</code> file should be in the default module's WEB-INF directory.</p><p id="vwp34i_103">In the Cloud Platform Console, you can <a href="https://web.archive.org/web/20160424230850/https://console.cloud.google.com/project/_/datastore/indexes" id="vwp34i_111" data-external="true" rel="noopener noreferrer" target="_blank">check the status of the app's indexes</a>.</p></section><section class="chapter"><h2 id="deleting-unused-indexes" data-toc="deleting-unused-indexes">Deleting Unused Indexes</h2><p id="vwp34i_112">When you change or remove an index from the index configuration, the original index is <span class="emphasis" id="vwp34i_116">not</span> deleted from App Engine automatically. This gives you the opportunity to leave an older version of the app running while new indexes are being built, or to revert to the older version immediately if a problem is discovered with a newer version.</p><p id="vwp34i_113">When you are sure that old indexes are no longer needed, you can delete them from App Engine using the <code class="code" id="vwp34i_117">vacuum_indexes</code> action:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh vacuum_indexes myapp/war
</div><p id="vwp34i_115">This command deletes all indexes for the app that are not mentioned in the local versions of <code class="code" id="vwp34i_118">datastore-indexes.xml</code> and <code class="code" id="vwp34i_119">generated/datastore-indexes-auto.xml</code>.</p></section><section class="chapter"><h2 id="managing-task-queues" data-toc="managing-task-queues">Managing Task Queues</h2><p id="vwp34i_120">You define and configure task queues in a file called <code class="code" id="vwp34i_124">queue.xml</code>. You can upload this configuration separately from the rest of the app using the <code class="code" id="vwp34i_125">update_queues</code> command:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh update_queues myapp/war
</div><p id="vwp34i_122"><code class="code" id="vwp34i_126">appcfg update</code> will also upload task queue configuration if the file exists.</p><p id="vwp34i_123">The <code class="code" id="vwp34i_127">queue.xml</code> file should be in the default module's WEB-INF directory. For more on task queues, see the <a href="https://web.archive.org/web/20160424230850/https://cloud.google.com/appengine/docs/java/taskqueue" id="vwp34i_128" data-external="true" rel="noopener noreferrer" target="_blank">Task Queues</a> documentation.</p></section><section class="chapter"><h2 id="updating-the-dispatch-file" data-toc="updating-the-dispatch-file">Updating the dispatch file</h2><p id="vwp34i_129">To upload a new version of your app's dispatch file, use the <code class="code" id="vwp34i_133">appcfg.sh update_dispatch</code> command:</p><div class="code-block" data-lang="none">
appcfg.sh update_dispatch myapp/war
</div><p id="vwp34i_131">The <code class="code" id="vwp34i_134">dispatch.xml</code> file should be in the default module's WEB-INF directory. Be sure that all the modules mentioned in the file have been uploaded before using this command.</p><p id="vwp34i_132">You can also upload the dispatch file at the same time you upload modules using the optional <code class="code" id="vwp34i_135">auto_update_dispatch</code> flag with the <span id="vwp34i_136">update command</span>.</p></section><section class="chapter"><h2 id="managing-dos-protection" data-toc="managing-dos-protection">Managing DoS Protection</h2><p id="vwp34i_137">You configure DoS protection for an app in a file called <code class="code" id="vwp34i_141">dos.xml</code>. You can upload this configuration separately from the rest of the app using the <code class="code" id="vwp34i_142">update_dos</code> command:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh update_dos myapp/war
</div><p id="vwp34i_139">The <code class="code" id="vwp34i_143">dos.xml</code> file should be in the default module's WEB-INF directory.</p><p id="vwp34i_140"><code class="code" id="vwp34i_144">appcfg update</code> will also upload DoS protection configuration if the file exists.</p></section><section class="chapter"><h2 id="managing-scheduled-tasks" data-toc="managing-scheduled-tasks">Managing Scheduled Tasks</h2><p id="vwp34i_145">App Engine supports scheduled tasks (known as cron jobs). You specify these in a file called <code class="code" id="vwp34i_152">cron.xml</code>, and upload them using the <code class="code" id="vwp34i_153">update_cron</code> command:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh update_cron myapp/war
</div><p id="vwp34i_147">The <code class="code" id="vwp34i_154">cron.xml</code> file should be in the default module's WEB-INF directory.</p><p id="vwp34i_148"><code class="code" id="vwp34i_155">appcfg update</code> will also upload cron job specifications if the file exists.</p><p id="vwp34i_149">You can also verify your cron configuration from the command line using the <code class="code" id="vwp34i_156">cron_info</code> action:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh cron_info myapp/war
</div><p id="vwp34i_151">For more on cron jobs, see the <a href="https://web.archive.org/web/20160424230850/https://cloud.google.com/appengine/docs/java/config/cron" id="vwp34i_157" data-external="true" rel="noopener noreferrer" target="_blank">Cron Jobs</a> documentation.</p></section><section class="chapter"><h2 id="downloading-an-application" data-toc="downloading-an-application">Downloading an Application</h2><p id="vwp34i_158">You can download an application by running appcfg.sh with the <code class="code" id="vwp34i_164">download_app</code> action in the Java SDK command line tool:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh -A &lt;your_app_id&gt; -V &lt;your_app_version&gt; download_app &lt;output-dir&gt;
</div><p id="vwp34i_160">This command downloads your compiled application in the WAR that you uploaded most recently.</p><p id="vwp34i_161">Output like the following results if the command is successful:</p><div class="code-block" data-lang="none">
0% Fetching files...
0% [1/13] WEB-INF/lib/appengine-api-labs-1.2.6.jar
7% [2/13] WEB-INF/appengine-web.xml
14% [3/13] WEB-INF/lib/datanucleus-jpa-1.1.5.jar
21% [4/13] WEB-INF/lib/datanucleus-core-1.1.5.jar
28% [5/13] WEB-INF/lib/datanucleus-appengine-1.0.3.jar
35% [6/13] WEB-INF/lib/jdo2-api-2.3-eb.jar
42% [7/13] WEB-INF/classes/com/example/MyServlet.class
50% [8/13] WEB-INF/lib/geronimo-jpa_3.0_spec-1.1.1.jar
64% [9/13] WEB-INF/lib/geronimo-jta_1.1_spec-1.1.1.jar
71% [10/13] testlogin.html
78% [11/13] WEB-INF/web-bck.xml
85% [12/13] WEB-INF/web.xml
92% [13/13] __static__/testlogin.html

download_app completed successfully.
</div><p id="vwp34i_163">Only the developer who uploaded the app can download it. If anyone other than that developer attempts to download the app, they'll receive an error message.</p></section><section class="chapter"><h2 id="downloading-logs" data-toc="downloading-logs">Downloading Logs</h2><p id="vwp34i_165">App Engine maintains a log of messages that your application emits. App Engine also records each request in the log. Each request is assigned a <a href="https://web.archive.org/web/20160424230850/https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/log/RequestLogs#getRequestId()" id="vwp34i_170" data-external="true" rel="noopener noreferrer" target="_blank">request ID</a>, a globally unique identifier based on the request's start time. Each <span id="vwp34i_171">log level</span> has a fixed buffer size that controls the amount of log information you can access. Normally, you use logging features more at lower log levels; thus, the time window is smaller for log events at these levels. In the Cloud Platform Console, you can <a href="https://web.archive.org/web/20160424230850/https://console.cloud.google.com/project/_/logs" id="vwp34i_172" data-external="true" rel="noopener noreferrer" target="_blank">browse your app's logs of the last 90 days</a>.</p><p id="vwp34i_166">If you wish to perform more detailed analysis of your application's logs, you can download the log data to a file on your computer. To download logs to a file named <code class="code" id="vwp34i_173">mylogs.txt</code>, use the <code class="code" id="vwp34i_174">request_logs</code> action, as follows:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh request_logs myapp/war mylogs.txt
</div><p id="vwp34i_168">By default, the command downloads log messages from the current calendar day (since midnight Pacific Time) with a log level of INFO or higher (omitting DEBUG level messages). You can adjust the number of days, the minimum log level, and whether to overwrite or append to the local log file using command line options.</p><p id="vwp34i_169">By default, the command overwrites the local log file. You can tell it to append the downloaded data to the file instead by specifying the <code class="code" id="vwp34i_175">--append</code> argument. This simply appends the requested log data to the file, it doesn't guarantee that the file doesn't contain duplicate log messages.</p></section><section class="chapter"><h2 id="using-an-http-proxy" data-toc="using-an-http-proxy">Using an HTTP Proxy</h2><p id="vwp34i_176">If your development environment resides behind an HTTP proxy, the <code class="code" id="vwp34i_179">appcfg</code> command needs to know about the proxy to connect to App Engine. To tell AppCfg about your proxy, using the <code class="code" id="vwp34i_180">--proxy</code> option:</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh --proxy=10.1.2.3 update myapp/war
</div><p id="vwp34i_178">If you use a different proxy for HTTPS, you can specify it using the <code class="code" id="vwp34i_181">--proxy_https</code> option.</p></section><section class="chapter"><h2 id="staging-yaml-files" data-toc="staging-yaml-files">Staging yaml files</h2><p id="vwp34i_182">The <code class="code" id="vwp34i_184">stage</code> action is a utility that creates a directory of <code class="code" id="vwp34i_185">yaml</code> configuration files that correspond to the contents of a WAR directory. This can be helpful if you are deploying your app using the <a href="https://web.archive.org/web/20160424230850/https://cloud.google.com/sdk/gcloud/" id="vwp34i_186" data-external="true" rel="noopener noreferrer" target="_blank">gcloud</a> command line tool, which can only accept <code class="code" id="vwp34i_187">yaml</code> files.</p><div class="code-block" data-lang="none">
./appengine-java-sdk/bin/appcfg.sh stage &lt;WAR-dir&gt; &lt;yaml-dir&gt;
</div></section><section class="chapter"><h2 id="command-line-arguments" data-toc="command-line-arguments">Command Line Arguments</h2><p id="vwp34i_188">The <code class="code" id="vwp34i_224">appcfg</code> command takes a set of options, an action, and arguments for the action.</p><p id="vwp34i_189">The following actions are available:</p><p id="vwp34i_190"><code class="code" id="vwp34i_225">appcfg.sh</code><span class="emphasis" id="vwp34i_226"><code class="code" id="vwp34i_232">[options]</code></span><code class="code" id="vwp34i_227">update</code><span class="emphasis" id="vwp34i_228"><code class="code" id="vwp34i_233">&lt;app-directory&gt;</code></span><code class="code" id="vwp34i_229">|</code><span class="emphasis" id="vwp34i_230"><code class="code" id="vwp34i_234">&lt;files...&gt;</code></span><br> If you specify an app-directory, it must contain of the files required by the app. The update command creates or updates the app version named in the app.yaml file at the top level of the directory. It follows symlinks and recursively uploads all files to the server. Temporary or source control files (e.g. foo~, .svn/*) are skipped.</p><p id="vwp34i_191">You can <a href="https://web.archive.org/web/20160424230850/https://cloud.google.com/appengine/docs/java/modules/#Java_Uploading_modules" id="vwp34i_235" data-external="true" rel="noopener noreferrer" target="_blank">update one or more modules at a time</a> with the <code class="code" id="vwp34i_236">update</code> command.</p><p id="vwp34i_192">You can also <span id="vwp34i_237">update the dispatch file</span> at the same time you update modules, by adding the optional <code class="code" id="vwp34i_238">auto_update_dispatch</code> flag, which can be used in two forms:</p><div class="code-block" data-lang="none">
appcfg.sh --auto_update_dispatch update &lt;app-directory&gt;|&lt;files...&gt;
appcfg.sh -D update &lt;app-directory&gt;|&lt;files...&gt;
</div><p id="vwp34i_194"><code class="code" id="vwp34i_239">appcfg.sh</code><span class="emphasis" id="vwp34i_240"><code class="code" id="vwp34i_244">[options]</code></span><code class="code" id="vwp34i_241">cron_info</code><span class="emphasis" id="vwp34i_242"><code class="code" id="vwp34i_245">&lt;app-directory&gt;</code></span><br> Verifies and prints the scheduled task (cron) configuration.</p><p id="vwp34i_195"><code class="code" id="vwp34i_246">appcfg.sh -A &lt;app_id&gt; -V &lt;version&gt; download_app &lt;output-dir&gt;</code><br> Retrieves the most current version of your application using the following options:</p><p id="vwp34i_196"><code class="code" id="vwp34i_248">-A</code><br> The application ID (required).</p><p id="vwp34i_197"><code class="code" id="vwp34i_250">-V</code><br> The current application version. May be one of the following:</p><ul class="list _bullet" id="vwp34i_198"><li class="list__item" id="vwp34i_252"><p id="vwp34i_255"><code class="code" id="vwp34i_256">-V major.minor</code> &ndash; Specifies the exact version specified.</p></li><li class="list__item" id="vwp34i_253"><p id="vwp34i_257"><code class="code" id="vwp34i_258">-V major</code> &ndash; Specifies the latest major version.</p></li><li class="list__item" id="vwp34i_254"><p id="vwp34i_259">Omitted entirely &ndash; Returns the current default version, if one exists</p></li></ul><p id="vwp34i_199"><code class="code" id="vwp34i_260">&lt;output-dir&gt;</code><br> The directory where you wish to save the files (required).</p><p id="vwp34i_200"><code class="code" id="vwp34i_262">appcfg.sh</code><span class="emphasis" id="vwp34i_263"><code class="code" id="vwp34i_273">[options]</code></span><code class="code" id="vwp34i_264">request_logs</code><span class="emphasis" id="vwp34i_265"><code class="code" id="vwp34i_274">&lt;war-location&gt;</code></span><code class="code" id="vwp34i_266"></code><span class="emphasis" id="vwp34i_267"><code class="code" id="vwp34i_275">&lt;output-file&gt;</code></span><br> Retrieves log data for the application running on App Engine. <span class="emphasis" id="vwp34i_269"><code class="code" id="vwp34i_276">output-file</code></span> is the name of the file to create or replace. If <span class="emphasis" id="vwp34i_270"><code class="code" id="vwp34i_277">output-file</code></span> is a hyphen (<code class="code" id="vwp34i_271">-</code>), the log data is printed to the console. The following options apply to <code class="code" id="vwp34i_272">request_logs</code>:</p><p id="vwp34i_201"><code class="code" id="vwp34i_278">--num_days=</code><span class="emphasis" id="vwp34i_279"><code class="code" id="vwp34i_282">...</code></span><br> The number of days of log data to retrieve, ending on the current date at midnight UTC. A value of 0 retrieves all available logs. If <code class="code" id="vwp34i_281">--append</code> is given, then the default is 0, otherwise the default is 1.</p><p id="vwp34i_202"><code class="code" id="vwp34i_283">--severity=</code><span class="emphasis" id="vwp34i_284"><code class="code" id="vwp34i_286">...</code></span><br> The minimum log level for the log messages to retrieve. The value is a number corresponding to the log level: 4 for CRITICAL, 3 for ERROR, 2 for WARNING, 1 for INFO, 0 for DEBUG. All messages at the given log level and above will be retrieved. Default is 1 (INFO).</p><p id="vwp34i_203"><code class="code" id="vwp34i_287">--append</code><br> Tells AppCfg to append logs to the log output file instead of overwriting the file. This simply appends the requested data, it does not guarantee the file won't contain duplicate error messages. If this argument is not specified, AppCfg will overwrite the log output file.</p><p id="vwp34i_204"><code class="code" id="vwp34i_289">appcfg.sh</code><span class="emphasis" id="vwp34i_290"><code class="code" id="vwp34i_294">[options]</code></span><code class="code" id="vwp34i_291">help</code><span class="emphasis" id="vwp34i_292"><code class="code" id="vwp34i_295">&lt;action&gt;</code></span><br> Prints a help message about the given action, then quits.</p><p id="vwp34i_205"><code class="code" id="vwp34i_296">appcfg.sh</code><span class="emphasis" id="vwp34i_297"><code class="code" id="vwp34i_300">[options]</code></span><code class="code" id="vwp34i_298">version</code><br> Prints detailed version information about the SDK, Java and the operating system, then quits. Use this when submitting bug reports.</p><p id="vwp34i_206"><code class="code" id="vwp34i_301">appcfg.sh</code><span class="emphasis" id="vwp34i_302"><code class="code" id="vwp34i_306">[options]</code></span><code class="code" id="vwp34i_303">rollback</code><span class="emphasis" id="vwp34i_304"><code class="code" id="vwp34i_307">&lt;war-location&gt;</code></span><br> Undoes a partially completed update for the given application. You can use this if an update was interrupted, and the command is reporting that the application cannot be updated due to a lock.</p><p id="vwp34i_207"><code class="code" id="vwp34i_308">appcfg.sh</code><span class="emphasis" id="vwp34i_309"><code class="code" id="vwp34i_314">[options]</code></span><code class="code" id="vwp34i_310">update</code><span class="emphasis" id="vwp34i_311"><code class="code" id="vwp34i_315">&lt;war-location&gt;</code></span><br> Uploads files for an application given the application's root directory. The application ID and version are taken from the <code class="code" id="vwp34i_313">appengine-web.xml</code> file.</p><p id="vwp34i_208"><code class="code" id="vwp34i_316">appcfg.sh</code><span class="emphasis" id="vwp34i_317"><code class="code" id="vwp34i_321">[options]</code></span><code class="code" id="vwp34i_318">set_default_version</code><span class="emphasis" id="vwp34i_319"><code class="code" id="vwp34i_322">&lt;war-directory&gt;</code></span><br> Specifies the default version of the given module.</p><p id="vwp34i_209"><code class="code" id="vwp34i_323">appcfg.sh</code><span class="emphasis" id="vwp34i_324"><code class="code" id="vwp34i_329">[options]</code></span><code class="code" id="vwp34i_325">update_cron</code><span class="emphasis" id="vwp34i_326"><code class="code" id="vwp34i_330">&lt;war-directory&gt;</code></span><br> Updates the schedule task (cron) configuration for the app, based on the <code class="code" id="vwp34i_328">cron.xml</code> file.</p><p id="vwp34i_210"><code class="code" id="vwp34i_331">appcfg.sh</code><span class="emphasis" id="vwp34i_332"><code class="code" id="vwp34i_337">[options]</code></span><code class="code" id="vwp34i_333">update_dos</code><span class="emphasis" id="vwp34i_334"><code class="code" id="vwp34i_338">&lt;war-directory&gt;</code></span><br> Updates the DoS protection configuration for the app, based on the <code class="code" id="vwp34i_336">dos.xml</code> file.</p><p id="vwp34i_211"><code class="code" id="vwp34i_339">appcfg.sh</code><span class="emphasis" id="vwp34i_340"><code class="code" id="vwp34i_344">[options]</code></span><code class="code" id="vwp34i_341">update_indexes</code><span class="emphasis" id="vwp34i_342"><code class="code" id="vwp34i_345">&lt;war-directory&gt;</code></span><br> Updates datastore indexes in App Engine to include newly added indexes. If a new version of your application requires an additional index definition that was added to the index configuration, you can update your index configuration in App Engine prior to uploading the new version of your application. Running this action a few hours prior to uploading your new application version will give the indexes time to build and be serving when the application is deployed.</p><p id="vwp34i_212"><code class="code" id="vwp34i_346">appcfg.sh</code><span class="emphasis" id="vwp34i_347"><code class="code" id="vwp34i_353">[options]</code></span><code class="code" id="vwp34i_348">update_queues</code><span class="emphasis" id="vwp34i_349"><code class="code" id="vwp34i_354">&lt;war-directory&gt;</code></span><br> Updates the task queue configuration (<code class="code" id="vwp34i_351">queue.xml</code>) in App Engine. If the new configuration does not include a named queue (other than <code class="code" id="vwp34i_352">default</code>) that exists and has tasks, the existing queue is paused.</p><p id="vwp34i_213"><code class="code" id="vwp34i_355">appcfg.sh</code><span class="emphasis" id="vwp34i_356"><code class="code" id="vwp34i_361">[options]</code></span><code class="code" id="vwp34i_357">update_dispatch</code><span class="emphasis" id="vwp34i_358"><code class="code" id="vwp34i_362">&lt;war-directory&gt;</code></span><br> Updates the dispatch configuration (<code class="code" id="vwp34i_360">dispatch.xml</code>) in App Engine.</p><p id="vwp34i_214"><code class="code" id="vwp34i_363">appcfg.sh</code><span class="emphasis" id="vwp34i_364"><code class="code" id="vwp34i_368">[options]</code></span><code class="code" id="vwp34i_365">start</code><span class="emphasis" id="vwp34i_366"><code class="code" id="vwp34i_369">&lt;war-location&gt;</code></span><br> Start the specified module version.</p><p id="vwp34i_215"><code class="code" id="vwp34i_370">appcfg.sh</code><span class="emphasis" id="vwp34i_371"><code class="code" id="vwp34i_375">[options]</code></span><code class="code" id="vwp34i_372">stop</code><span class="emphasis" id="vwp34i_373"><code class="code" id="vwp34i_376">&lt;war-location&gt;</code></span><br> Stop the specified module version.</p><p id="vwp34i_216"><code class="code" id="vwp34i_377">appcfg.sh</code><span class="emphasis" id="vwp34i_378"><code class="code" id="vwp34i_385">[options]</code></span><code class="code" id="vwp34i_379">stage</code><span class="emphasis" id="vwp34i_380"><code class="code" id="vwp34i_386">&lt;war-location&gt;</code></span><code class="code" id="vwp34i_381"></code><span class="emphasis" id="vwp34i_382"><code class="code" id="vwp34i_387">&lt;yaml-location&gt;</code></span><br> Copy the contents of the WAR directory into a new directory, translating the configuration data into <code class="code" id="vwp34i_384">yaml</code> file format.</p><p id="vwp34i_217">The <code class="code" id="vwp34i_388">appcfg</code> command accepts the following options for all actions:</p><p id="vwp34i_218"><code class="code" id="vwp34i_389">--server=</code><span class="emphasis" id="vwp34i_390"><code class="code" id="vwp34i_393">...</code></span><br> The App Engine server hostname. The default is <code class="code" id="vwp34i_392">appengine.google.com</code>.</p><p id="vwp34i_219"><code class="code" id="vwp34i_394">--host=</code><span class="emphasis" id="vwp34i_395"><code class="code" id="vwp34i_397">...</code></span><br> The hostname of the local machine for use with remote procedure calls.</p><p id="vwp34i_220"><code class="code" id="vwp34i_398">--sdk_root=</code><span class="emphasis" id="vwp34i_399"><code class="code" id="vwp34i_401">...</code></span><br> A path to the App Engine Java SDK, if different from the location of the tool.</p><p id="vwp34i_221"><code class="code" id="vwp34i_402">--no_cookies</code><br> Do not store the user's access token. Go through the OAuth2 flow every time.</p><p id="vwp34i_222"><code class="code" id="vwp34i_404">--proxy=...</code><br> Use the given HTTP proxy to contact App Engine.</p><p id="vwp34i_223"><code class="code" id="vwp34i_406">--proxy_https=...</code><br> Use the given HTTPS proxy to contact App Engine, when using HTTPS. If <code class="code" id="vwp34i_408">--proxy</code> is given but <code class="code" id="vwp34i_409">--proxy_https</code> is not, both HTTP and HTTPS requests will use the given proxy.</p></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="managing-and-configuring-your-app.html" class="navigation-links__prev">Managing and Configuring Your App</a><a href="using-the-google-cloud-platform-console-for-app-engine.html" class="navigation-links__next">Using the Google Cloud Platform Console for App Engine</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>