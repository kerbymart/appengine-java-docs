<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-13T01:56:45.33709247"><title>Testing and Deploying an API Backend | Google App Engine Java Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"running-and-testing-api-backends-locally","level":0,"title":"Running and testing API backends locally","anchor":"#running-and-testing-api-backends-locally"},{"id":"testing-clients-against-the-backend","level":0,"title":"Testing clients against the backend","anchor":"#testing-clients-against-the-backend"},{"id":"deploying-an-api-backend","level":0,"title":"Deploying an API backend","anchor":"#deploying-an-api-backend"},{"id":"checking-for-a-successful-deployment","level":0,"title":"Checking for a Successful Deployment","anchor":"#checking-for-a-successful-deployment"},{"id":"troubleshooting-a-deployment-failure","level":0,"title":"Troubleshooting a deployment failure","anchor":"#troubleshooting-a-deployment-failure"},{"id":"deploying-to-multiple-app-versions","level":0,"title":"Deploying to multiple app versions","anchor":"#deploying-to-multiple-app-versions"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Testing and Deploying an API Backend | Google App Engine Java Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Google App Engine Java Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/testing-and-deploying-an-api-backend.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Testing and Deploying an API Backend | Google App Engine Java Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/testing-and-deploying-an-api-backend.html#webpage",
    "url": "writerside-documentation/testing-and-deploying-an-api-backend.html",
    "name": "Testing and Deploying an API Backend | Google App Engine Java Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Google App Engine Java Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Testing-and-Deploying-an-API-Backend" data-main-title="Testing and Deploying an API Backend" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Guides.md|Guides///Mobile-Backends.md|Mobile Backends///Google-Cloud-Endpoints.md|Google Cloud Endpoints"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Google App Engine Java Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Testing-and-Deploying-an-API-Backend" id="Testing-and-Deploying-an-API-Backend.md">Testing and Deploying an API Backend</h1><ol class="list _decimal" id="z7jljs7_3" type="1"><li class="list__item" id="z7jljs7_11"><p id="z7jljs7_17"><span id="z7jljs7_18">Running and testing API backends locally</span></p></li><li class="list__item" id="z7jljs7_12"><p id="z7jljs7_19"><span id="z7jljs7_20">Testing clients against the backend</span></p></li><li class="list__item" id="z7jljs7_13"><p id="z7jljs7_21"><span id="z7jljs7_22">Deploying an API backend</span></p></li><li class="list__item" id="z7jljs7_14"><p id="z7jljs7_23"><span id="z7jljs7_24">Checking for a Successful Deployment</span></p></li><li class="list__item" id="z7jljs7_15"><p id="z7jljs7_25"><span id="z7jljs7_26">Troubleshooting a deployment failure</span></p></li><li class="list__item" id="z7jljs7_16"><p id="z7jljs7_27"><span id="z7jljs7_29">Deploying to multiple app versions</span></p><ol class="list _decimal" id="z7jljs7_28" type="1"><li class="list__item" id="z7jljs7_30"><p id="z7jljs7_34"><span id="z7jljs7_35">Accessing backend API versions deployed to an application default version</span></p></li><li class="list__item" id="z7jljs7_31"><p id="z7jljs7_36"><span id="z7jljs7_37">Accessing backend API versions deployed to non-default application versions</span></p></li><li class="list__item" id="z7jljs7_32"><p id="z7jljs7_38"><span id="z7jljs7_39">Accessing backend API versions deployed to non-default modules</span></p></li><li class="list__item" id="z7jljs7_33"><p id="z7jljs7_40"><span id="z7jljs7_41">Managing your backend API versions</span></p></li></ol></li></ol><p id="z7jljs7_4">Testing an API backend follows the typical App Engine pattern of using the development server to run the web app locally during development and incremental testing, followed by deployment to production when you are ready for real-world testing.</p><section class="chapter"><h2 id="running-and-testing-api-backends-locally" data-toc="running-and-testing-api-backends-locally">Running and testing API backends locally</h2><p id="z7jljs7_42">To test the backend, you'll use the API Explorer, which is a tool that lets you test APIs interactively without using a client app. This tool is automatically run for you when you navigate to your backend API's subdirectory <code class="code" id="z7jljs7_47">/_ah/api/explorer</code> as we'll describe in the instructions below.</p><p id="z7jljs7_43">To test the API backend locally on the development server:</p><ol class="list _decimal" id="z7jljs7_44" type="1"><li class="list__item" id="z7jljs7_48"><p id="z7jljs7_54">Start a new Chrome session as described in <a href="https://web.archive.org/web/20160424230904/https://developer.google.com/explorer-help/#hitting_local_api" id="z7jljs7_55" data-external="true" rel="noopener noreferrer" target="_blank">How do I use Explorer with a local HTTP API</a> and specify <code class="code" id="z7jljs7_56">8080</code> as the <code class="code" id="z7jljs7_57">localhost</code> port (<code class="code" id="z7jljs7_58">localhost:8080)</code>. You can use a different port but it must match whatever value you use in the next steps.</p></li><li class="list__item" id="z7jljs7_49"><p id="z7jljs7_59">The default port for testing is 8080. If you wish, you can test using a port other than the default 8080 and the default address. (For example, if you want the app to listen to the local network, you may need to change the address to <code class="code" id="z7jljs7_60">0.0.0.0</code>.) To change the port and/or address, see <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/tools/maven#specifying_a_port_for_local_testing" id="z7jljs7_61" data-external="true" rel="noopener noreferrer" target="_blank">Specifying a port for local testing</a>.</p></li><li class="list__item" id="z7jljs7_50"><p id="z7jljs7_62">Start the API backend by invoking the development app server. Using Maven, invoke the command from the project's <code class="code" id="z7jljs7_66">&lt;app&gt;-ear</code> subdirectory (not from the <code class="code" id="z7jljs7_67">&lt;app&gt;-war</code>):</p><div class="code-block" data-lang="none">
mvn appengine:devserver
</div><p id="z7jljs7_64">Wait til the backend loads; if it loads successfully, this message is displayed:</p><div class="code-block" data-lang="none">
INFO: Dev App Server is now running.
</div></li><li class="list__item" id="z7jljs7_51"><p id="z7jljs7_68">In your browser, visit the URL</p><div class="code-block" data-lang="none">
http://localhost:8080/_ah/api/explorer
</div></li><li class="list__item" id="z7jljs7_52"><p id="z7jljs7_70">Double-click the API you created to display the list of its methods.</p></li><li class="list__item" id="z7jljs7_53"><p id="z7jljs7_71">Click the method you wish to test, fill in any request fields as needed, then click <span class="control" id="z7jljs7_72">Execute</span> to test the method: the request will be displayed along with the response.</p></li></ol><p id="z7jljs7_45">If you want to use <code class="code" id="z7jljs7_73">curl</code> instead of the API Explorer, you can alternatively test the API backend by sending an test request using <a href="https://web.archive.org/web/20160424230904/http://curl.haxx.se/download.html" id="z7jljs7_74" data-external="true" rel="noopener noreferrer" target="_blank">curl</a>. The following request makes a call to a sample Board API backend to send a request to our sample tictactoe game:</p><div class="code-block" data-lang="none">
    curl --header &quot;Content-Type: application/json&quot; -X POST -d '{&quot;state&quot;: &quot;----X----&quot;}' http://localhost:8888/_ah/api/tictactoe/v1/board
</div></section><section class="chapter"><h2 id="testing-clients-against-the-backend" data-toc="testing-clients-against-the-backend">Testing clients against the backend</h2><p id="z7jljs7_75">You can test your client against a backend API running in production App Engine at any time without making any changes. However, if you want to test your client against a backend API running on the local development server, you'll need to make changes as described below:</p><ul class="list _bullet" id="z7jljs7_76"><li class="list__item" id="z7jljs7_77"><p id="z7jljs7_79">For more information on testing JavaScript clients locally, see <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/endpoints/consume_js#testing_a_javascript_client_against_a_local_development_server" id="z7jljs7_80" data-external="true" rel="noopener noreferrer" target="_blank">Testing a JavaScript client against a local development server</a>.</p></li><li class="list__item" id="z7jljs7_78"><p id="z7jljs7_81">For more information on testing Android clients locally, see <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/endpoints/consume_android#testing_an_android_client_against_a_local_development_server" id="z7jljs7_82" data-external="true" rel="noopener noreferrer" target="_blank">Testing an Android client against a local development server</a>.</p></li></ul></section><section class="chapter"><h2 id="deploying-an-api-backend" data-toc="deploying-an-api-backend">Deploying an API backend</h2><p id="z7jljs7_83">When you are satisfied that your API backend works as expected, you can deploy it to App Engine. Deploying an API backend is no different from deploying a regular App Engine app.</p><p id="z7jljs7_84">To deploy:</p><p id="z7jljs7_85">If you use <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/tools/maven" id="z7jljs7_93" data-external="true" rel="noopener noreferrer" target="_blank">Maven</a> for your project, you deploy the app as follows:</p><ol class="list _decimal" id="z7jljs7_86" type="1"><li class="list__item" id="z7jljs7_94"><p id="z7jljs7_96">Change directory to your project main directory containing the <code class="code" id="z7jljs7_97">pom.xml</code> file.</p></li><li class="list__item" id="z7jljs7_95"><p id="z7jljs7_98">Invoke Maven as follows:</p><p id="z7jljs7_99"><code class="code" id="z7jljs7_102">mvn appengine:update</code></p><p id="z7jljs7_100">The first time you deploy to production App Engine, you may be prompted to supply login information; supply it as directed.</p><p id="z7jljs7_101">If the deployment fails with the error <code class="code" id="z7jljs7_103">403 Forbidden You do not have permission to modify this app (app_id=u'your-app-id')</code>, check your source file <code class="code" id="z7jljs7_104">your-app/src/main/webapp/WEB-INF/appengine-web.xml</code> and make sure the value for the <code class="code" id="z7jljs7_105">&lt;application&gt;</code> element is set to a valid <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/endpoints/getstarted/backend/setup#creating_an_app_engine_app_for_deployment" id="z7jljs7_106" data-external="true" rel="noopener noreferrer" target="_blank">application ID</a>.</p></li></ol><p id="z7jljs7_87">If you don't use Maven, follow the instructions for deploying provided in <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/tools/uploadinganapp" id="z7jljs7_107" data-external="true" rel="noopener noreferrer" target="_blank">Uploading and Managing a Java App</a>.</p><p id="z7jljs7_88">After you deploy, you can use the API Explorer to experiment with your API without using a client app by visiting</p><div class="code-block" data-lang="none">
    https://your_app_id.appspot.com/_ah/api/explorer
</div><p id="z7jljs7_90"><span class="control" id="z7jljs7_108">Important:</span> It may take several moments for the API to load. If the API <span class="control" id="z7jljs7_109">loading</span> message does not go away, and your API does not appear, clear your cookies and refresh the API Explorer. If problems persist, follow the procedures provided under <span id="z7jljs7_110">Troubleshooting a deployment failure</span>.</p><p id="z7jljs7_91">Alternatively, use the discovery service to view your API by visiting</p><div class="code-block" data-lang="none">
    https://your_app_id.appspot.com/_ah/api/discovery/v1/apis
</div></section><section class="chapter"><h2 id="checking-for-a-successful-deployment" data-toc="checking-for-a-successful-deployment">Checking for a Successful Deployment</h2><p id="z7jljs7_111">After you upload the API, you will see a success message if the files upload correctly. However, <span class="emphasis" id="z7jljs7_115">after</span> the files are uploaded, App Engine does more work unpacking the API and deploying it. If there is a failure during this process, you are not informed about it. You must check the logs to determine success.</p><p id="z7jljs7_112">To check the logs after you deploy your API,</p><ol class="list _decimal" id="z7jljs7_113" type="1"><li class="list__item" id="z7jljs7_116"><p id="z7jljs7_118">Open the <a href="https://web.archive.org/web/20160424230904/https://console.cloud.google.com/project/_/logs" id="z7jljs7_119" data-external="true" rel="noopener noreferrer" target="_blank">logs viewer</a> for your project.</p></li><li class="list__item" id="z7jljs7_117"><p id="z7jljs7_120">Look at the logs nearest in time to the time you deployed. A successful API deployment results in a log that looks something like this:</p><div class="code-block" data-lang="none">
013-09-30 18:39:09.781 Endpoints: https://2-dot-test-pont.appspot.com/_ah/api/helloWorld@v2 Saved
</div><p id="z7jljs7_122">or</p><div class="code-block" data-lang="none">
2013-09-30 16:07:17.987 Endpoints: https://7-dot-test2.appspot.com/_ah/api/guestbook@v1 OK
</div><p id="z7jljs7_124">An unsuccessful deployment has this kind of log:</p><div class="code-block" data-lang="none">
 https://7-dot-test2.appspot.com/_ah/api/Guestbook@v2 ERROR
</div></li></ol><p id="z7jljs7_114">If the logs indicate a deployment failure, refer the the following Troubleshooting section to see how to handle the failure.</p></section><section class="chapter"><h2 id="troubleshooting-a-deployment-failure" data-toc="troubleshooting-a-deployment-failure">Troubleshooting a deployment failure</h2><p id="z7jljs7_126"><span class="control" id="z7jljs7_129">Note:</span> In the following table on backend configuration and deployment issues, we refer to the path <code class="code" id="z7jljs7_130">/_ah/spi</code>, which you might think is a typo, because applications send their requests to <code class="code" id="z7jljs7_131">/_ah/api</code>. However, the Endpoints backend actually handles these requests at the path <code class="code" id="z7jljs7_132">/_ah/spi</code>.</p><p id="z7jljs7_127">Here are some common deployment error messages you might find in your application log, along with suggested remedies:</p><div class="table-wrapper"><table class="wide" id="z7jljs7_128"><thead><tr class="ijRowHead" id="z7jljs7_134"><th id="z7jljs7_140"><p>Error</p></th><th id="z7jljs7_141"><p>Remedy</p></th></tr></thead><tbody><tr id="z7jljs7_135"><td id="z7jljs7_142"><p>Endpoints configuration not updated. Check the app's AppEngine logs for errors.</p></td><td id="z7jljs7_143"><p>There is a some type of exception being thrown by your app that is preventing your app from starting. <br><br> Check your app's logs to narrow down the exception being thrown. Check for errors logged from the <code class="code" id="z7jljs7_146">/_ah/spi/BackendService.getApiConfigs</code> handler, which the Google Cloud Endpoints server uses to retrieve your API configuration. Here is what such a log might look like: <br><br> <code class="code" id="z7jljs7_149">2014-09-04 13:03:46.531</code><b id="z7jljs7_150"><code class="code" id="z7jljs7_157">/_ah/spi/BackendService.getApiConfigs</code></b><code class="code" id="z7jljs7_151">200 4 ms 28kb module=default version=1</code><br> <code class="code" id="z7jljs7_153">10.1.0.41 - - [04 Sep/2014:13:03:46 -0700] &quot;POST&quot; /_ah/spi/BackendService.getApiConfigs HTTP</code><br> <code class="code" id="z7jljs7_155">app_engine_release=1.9.10 apps</code><br>. . .</p></td></tr><tr id="z7jljs7_136"><td id="z7jljs7_158"><p>Endpoints configuration not updated. There are authentication requirements on the <code class="code" id="z7jljs7_160">/_ah/spi</code> handler that are preventing the Google Cloud Endpoints server from accessing the app.</p></td><td id="z7jljs7_159"><p><b id="z7jljs7_161">Remove</b> the authentication requirements on that handler from your app's <code class="code" id="z7jljs7_162">web.xml</code> file (see <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/config/webxml#Security_and_Authentication" id="z7jljs7_163" data-external="true" rel="noopener noreferrer" target="_blank">Security and Authentication</a> for the lines to remove). Note: this error is <em id="z7jljs7_164">not</em> caused by setting the file to require HTTPS, as described in <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/config/webxml#Secure_URLs" id="z7jljs7_165" data-external="true" rel="noopener noreferrer" target="_blank">Secure URLs</a>, because this does work with Endpoints. <br><br> If you want to require authentication for your Endpoints API, follow the process described in <a href="https://web.archive.org/web/20160424230904/https://cloud.google.com/appengine/docs/java/endpoints/auth" id="z7jljs7_168" data-external="true" rel="noopener noreferrer" target="_blank">Using Auth with Endpoints</a>.</p></td></tr><tr id="z7jljs7_137"><td id="z7jljs7_169"></td><td id="z7jljs7_170"></td></tr></tbody></table></div></section><section class="chapter"><h2 id="deploying-to-multiple-app-versions" data-toc="deploying-to-multiple-app-versions">Deploying to multiple app versions</h2><p id="z7jljs7_171">When you deploy your backend API, you deploy it to the Cloud project ID you created for your API. This ID is the same one used by App Engine for your backend API. When you deploy, in addition to the App Engine/Cloud Project ID, you must also specify the App Engine version you deploy to. You specify the App Engine/Cloud Project ID in the <code class="code" id="z7jljs7_178">&lt;application&gt;</code> field in the <code class="code" id="z7jljs7_179">/WEB-INF/appengine-web.xml</code>file; you specify the application version in the <code class="code" id="z7jljs7_180">&lt;version&gt;</code> field. Notice that the App Engine app version is <span class="emphasis" id="z7jljs7_181">not</span> the same thing as the backend API version number, which you specify in the <code class="code" id="z7jljs7_182">version</code> attribute of the <code class="code" id="z7jljs7_183">@Api</code> annotation.</p><figure id="z7jljs7_172"><img alt="apiversions" src="https://web.archive.org/web/20160424230904im_/https://cloud.google.com/appengine/docs/java/endpoints/images/apiversions.png" title="apiversions"></figure><p id="z7jljs7_173">As shown in the figure above, you can deploy multiple API versions to the same App Engine App version. And, you can have many App Engine App versions.</p><section class="chapter"><h3 id="accessing-backend-api-versions-deployed-to-an-application-default-version" data-toc="accessing-backend-api-versions-deployed-to-an-application-default-version">Accessing backend API versions deployed to an application default version</h3><p id="z7jljs7_184">The first App Engine version that you deploy your backend API to is the default version. This version runs at the URL <code class="code" id="z7jljs7_187">http://your_app_id.appspot.com</code>. All of the backend API versions deployed to that App Engine app version can be accessed using that URL.</p><p id="z7jljs7_185">The default version remains the default version until you explicitly change it. To change the default version:</p><ol class="list _decimal" id="z7jljs7_186" type="1"><li class="list__item" id="z7jljs7_188"><p id="z7jljs7_190">Open the <a href="https://web.archive.org/web/20160424230904/https://console.cloud.google.com/project/_/appengine/versions" id="z7jljs7_191" data-external="true" rel="noopener noreferrer" target="_blank">versions page</a> for your project.</p></li><li class="list__item" id="z7jljs7_189"><p id="z7jljs7_192">Select the version you want as the default version and click <span class="control" id="z7jljs7_193">Make Default</span>.</p></li></ol></section><section class="chapter"><h3 id="accessing-backend-api-versions-deployed-to-non-default-application-versions" data-toc="accessing-backend-api-versions-deployed-to-non-default-application-versions">Accessing backend API versions deployed to non-default application versions</h3><p id="z7jljs7_194">If you need to access API versions that are <span class="emphasis" id="z7jljs7_197">not</span> deployed to the default App Engine app version, you use a <span class="emphasis" id="z7jljs7_198">version-specific</span> URL.</p><p id="z7jljs7_195">To access backend API versions that are deployed to non-default App Engine versions of your app, you must include the version specifier in the URL, like this: <code class="code" id="z7jljs7_199">https://version-dot-your_app_id.appspot.com</code>. For example, suppose your default app version is 1, but you want to access a backend API version deployed to App Engine app version 2; you would use this URL: <code class="code" id="z7jljs7_200">https://2-dot-your_app_id.appspot.com</code>.</p><p id="z7jljs7_196"><span class="control" id="z7jljs7_201">Important:</span> For backend APIs, only host names formed as shown above using <code class="code" id="z7jljs7_202">-dot-</code> in place of literal periods will work for versioned apps.</p></section><section class="chapter"><h3 id="accessing-backend-api-versions-deployed-to-non-default-modules" data-toc="accessing-backend-api-versions-deployed-to-non-default-modules">Accessing backend API versions deployed to non-default modules</h3><p id="z7jljs7_203">If you need to access API versions that are <span class="emphasis" id="z7jljs7_205">not</span> deployed to the default App Engine module, you would use a <span class="emphasis" id="z7jljs7_206">version-specific</span> URL using the dot syntax as follows:</p><div class="code-block" data-lang="none">
`https://&lt;module-name&gt;-dot-&lt;app-name&gt;.appspot.com/_ah/spi/...`
</div></section><section class="chapter"><h3 id="managing-your-backend-api-versions" data-toc="managing-your-backend-api-versions">Managing your backend API versions</h3><p id="z7jljs7_207">In managing your API versions, consider these recommendations:</p><ul class="list _bullet" id="z7jljs7_208"><li class="list__item" id="z7jljs7_213"><p id="z7jljs7_216">When you want to introduce an incremental, but non-breaking change, keep the API version constant and deploy over the existing API.</p></li><li class="list__item" id="z7jljs7_214"><p id="z7jljs7_217">When you introduce a breaking change to your API, increment the API version.</p></li><li class="list__item" id="z7jljs7_215"><p id="z7jljs7_218">For additional protection, increment the App Engine app version as well and then deploy the new API version to that new App Engine app version. This lets you use the built-in flexibility of App Engine to quickly switch between App Engine versions and serve from the old working versions if you run into unexpected problems.</p></li></ul><p id="z7jljs7_209">The following table is an illustration of cascading backend API versions to different App Engine app versions:</p><div class="table-wrapper"><table class="wide" id="z7jljs7_210"><thead><tr class="ijRowHead" id="z7jljs7_220"><th id="z7jljs7_226"><p>App Version</p></th><th id="z7jljs7_227"><p>backend API version</p></th></tr></thead><tbody><tr id="z7jljs7_221"><td id="z7jljs7_228"><p>1</p></td><td id="z7jljs7_229"><ul class="list _bullet" id="z7jljs7_230"><li class="list__item" id="z7jljs7_231"><p>v1 --&gt; v1 (2) --&gt; v1 (n)</p></li></ul></td></tr><tr id="z7jljs7_222"><td id="z7jljs7_232"><p>2</p></td><td id="z7jljs7_233"><ul class="list _bullet" id="z7jljs7_234"><li class="list__item" id="z7jljs7_235"><p>v1 (n)</p></li><li class="list__item" id="z7jljs7_236"><p>v2 --&gt; v2 (2) --&gt; v2 (n)</p></li></ul></td></tr><tr id="z7jljs7_223"><td id="z7jljs7_237"><p>3</p></td><td id="z7jljs7_238"><ul class="list _bullet" id="z7jljs7_239"><li class="list__item" id="z7jljs7_240"><p>v1 (n)</p></li><li class="list__item" id="z7jljs7_241"><p>v2 (n)</p></li><li class="list__item" id="z7jljs7_242"><p>v3 --&gt; v3 (2) --&gt; v3 (n)</p></li></ul></td></tr></tbody></table></div><p id="z7jljs7_211">As shown in the table, incremental, non-breaking updates to v1 of the API are rolled out, each overwriting the previous version. When breaking changes are introduced, the API version is incremented to v2 and it is deployed to a new App Engine app version. That allows you to switch back to the previous app version if needed.</p><p id="z7jljs7_212">In the table, notice that app version 2 supports both the latest v1 version and the new v2 version of your API. If you don't delete the existing v1 code from your project, deploying the project will result in both <code class="code" id="z7jljs7_243">v2</code> and <code class="code" id="z7jljs7_244">vl</code> (n) of your API being deployed to App version 2.</p></section></section><div class="last-modified">10 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="javadoc-reference.html" class="navigation-links__prev">Javadoc Reference</a><a href="generating-client-libraries-cloud-endpoints.html" class="navigation-links__next">Generating Client Libraries</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>